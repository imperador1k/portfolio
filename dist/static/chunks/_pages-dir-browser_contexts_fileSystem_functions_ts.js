"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_pages-dir-browser_contexts_fileSystem_functions_ts"],{

/***/ "(pages-dir-browser)/./contexts/fileSystem/functions.ts":
/*!******************************************!*\
  !*** ./contexts/fileSystem/functions.ts ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addFileSystemHandle: () => (/* binding */ addFileSystemHandle),\n/* harmony export */   removeFileSystemHandle: () => (/* binding */ removeFileSystemHandle),\n/* harmony export */   requestPermission: () => (/* binding */ requestPermission),\n/* harmony export */   resetStorage: () => (/* binding */ resetStorage)\n/* harmony export */ });\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"(pages-dir-browser)/./node_modules/next/dist/compiled/path-browserify/index.js\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var utils_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! utils/constants */ \"(pages-dir-browser)/./utils/constants.ts\");\n/* harmony import */ var contexts_fileSystem_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! contexts/fileSystem/core */ \"(pages-dir-browser)/./contexts/fileSystem/core.ts\");\n\n\n\nconst KNOWN_IDB_DBS = [\n    \"/classicube\",\n    \"/data/saves\",\n    \"ejs-bios\",\n    \"ejs-roms\",\n    \"ejs-romsdata\",\n    \"ejs-states\",\n    \"ejs-system\",\n    \"js-dos-cache (emulators-ui-saves)\",\n    \"keyval-store\"\n];\nconst observers = new Map();\nconst addFileSystemHandle = async (directory, handle, mappedName, observer)=>{\n    if (!await (0,contexts_fileSystem_core__WEBPACK_IMPORTED_MODULE_2__.supportsIndexedDB)()) return;\n    const db = await (0,contexts_fileSystem_core__WEBPACK_IMPORTED_MODULE_2__.getKeyValStore)();\n    const dirPath = (0,path__WEBPACK_IMPORTED_MODULE_0__.join)(directory, mappedName);\n    try {\n        await db.put(contexts_fileSystem_core__WEBPACK_IMPORTED_MODULE_2__.KEYVAL_STORE_NAME, {\n            ...await (0,contexts_fileSystem_core__WEBPACK_IMPORTED_MODULE_2__.getFileSystemHandles)(),\n            [dirPath]: handle\n        }, utils_constants__WEBPACK_IMPORTED_MODULE_1__.FS_HANDLES);\n        if (observer) observers.set(dirPath, observer);\n    } catch  {\n    // Ignore errors storing handle\n    }\n};\nconst removeFileSystemHandle = async (directory)=>{\n    if (!await (0,contexts_fileSystem_core__WEBPACK_IMPORTED_MODULE_2__.supportsIndexedDB)()) return;\n    const { [directory]: _removedHandle, ...handles } = await (0,contexts_fileSystem_core__WEBPACK_IMPORTED_MODULE_2__.getFileSystemHandles)();\n    const db = await (0,contexts_fileSystem_core__WEBPACK_IMPORTED_MODULE_2__.getKeyValStore)();\n    try {\n        await db.put(contexts_fileSystem_core__WEBPACK_IMPORTED_MODULE_2__.KEYVAL_STORE_NAME, handles, utils_constants__WEBPACK_IMPORTED_MODULE_1__.FS_HANDLES);\n        observers.get(directory)?.disconnect();\n        observers.delete(directory);\n    } catch  {\n    // Ignore errors storing handle\n    }\n};\nconst requestPermission = async (url)=>{\n    const fsHandles = await (0,contexts_fileSystem_core__WEBPACK_IMPORTED_MODULE_2__.getFileSystemHandles)();\n    const handle = fsHandles[url];\n    if (handle) {\n        const currentPermissions = await handle.queryPermission();\n        if (currentPermissions === \"prompt\") {\n            await handle.requestPermission();\n        } else if (currentPermissions === \"granted\") {\n            throw new Error(\"Permission already granted\");\n        }\n        return handle.queryPermission();\n    }\n    return false;\n};\nconst resetStorage = (rootFs)=>new Promise((resolve, reject)=>{\n        setTimeout(reject, 750);\n        window.localStorage.clear();\n        window.sessionStorage.clear();\n        const clearFs = ()=>{\n            const overlayFs = rootFs?._getFs(\"/\")?.fs;\n            const overlayedFileSystems = overlayFs?.getOverlayedFileSystems();\n            const readable = overlayedFileSystems?.readable;\n            const writable = overlayedFileSystems?.writable;\n            readable?.empty();\n            if (writable?.getName() === \"InMemory\" || !writable?.empty) {\n                resolve();\n            } else {\n                writable.empty((apiError)=>apiError ? reject(apiError) : resolve());\n            }\n        };\n        if (window.indexedDB) {\n            __webpack_require__.e(/*! import() */ \"_pages-dir-browser_node_modules_idb_build_index_js\", \"high\").then(__webpack_require__.bind(__webpack_require__, /*! idb */ \"(pages-dir-browser)/./node_modules/idb/build/index.js\")).then(({ deleteDB })=>{\n                if (window.indexedDB.databases) {\n                    window.indexedDB.databases().then((databases)=>databases.filter(({ name })=>name && name !== \"browserfs\").forEach(({ name })=>deleteDB(name))).then(clearFs).catch(clearFs);\n                } else {\n                    KNOWN_IDB_DBS.forEach((name)=>deleteDB(name));\n                    clearFs();\n                }\n            });\n        } else {\n            clearFs();\n        }\n    });\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL2NvbnRleHRzL2ZpbGVTeXN0ZW0vZnVuY3Rpb25zLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTRCO0FBTWlCO0FBT1g7QUFFbEMsTUFBTU0sZ0JBQWdCO0lBQ3BCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtDQUNEO0FBRUQsTUFBTUMsWUFBWSxJQUFJQztBQUVmLE1BQU1DLHNCQUFzQixPQUNqQ0MsV0FDQUMsUUFDQUMsWUFDQUM7SUFFQSxJQUFJLENBQUUsTUFBTVIsMkVBQWlCQSxJQUFLO0lBRWxDLE1BQU1TLEtBQUssTUFBTVYsd0VBQWNBO0lBQy9CLE1BQU1XLFVBQVVmLDBDQUFJQSxDQUFDVSxXQUFXRTtJQUVoQyxJQUFJO1FBQ0YsTUFBTUUsR0FBR0UsR0FBRyxDQUNWZCx1RUFBaUJBLEVBQ2pCO1lBQ0UsR0FBSSxNQUFNQyw4RUFBb0JBLEVBQUU7WUFDaEMsQ0FBQ1ksUUFBUSxFQUFFSjtRQUNiLEdBQ0FWLHVEQUFVQTtRQUdaLElBQUlZLFVBQVVOLFVBQVVVLEdBQUcsQ0FBQ0YsU0FBU0Y7SUFDdkMsRUFBRSxPQUFNO0lBQ04sK0JBQStCO0lBQ2pDO0FBQ0YsRUFBRTtBQUVLLE1BQU1LLHlCQUF5QixPQUNwQ1I7SUFFQSxJQUFJLENBQUUsTUFBTUwsMkVBQWlCQSxJQUFLO0lBRWxDLE1BQU0sRUFBRSxDQUFDSyxVQUFVLEVBQUVTLGNBQWMsRUFBRSxHQUFHQyxTQUFTLEdBQy9DLE1BQU1qQiw4RUFBb0JBO0lBQzVCLE1BQU1XLEtBQUssTUFBTVYsd0VBQWNBO0lBRS9CLElBQUk7UUFDRixNQUFNVSxHQUFHRSxHQUFHLENBQUNkLHVFQUFpQkEsRUFBRWtCLFNBQVNuQix1REFBVUE7UUFFbkRNLFVBQVVjLEdBQUcsQ0FBQ1gsWUFBWVk7UUFDMUJmLFVBQVVnQixNQUFNLENBQUNiO0lBQ25CLEVBQUUsT0FBTTtJQUNOLCtCQUErQjtJQUNqQztBQUNGLEVBQUU7QUFFSyxNQUFNYyxvQkFBb0IsT0FDL0JDO0lBRUEsTUFBTUMsWUFBWSxNQUFNdkIsOEVBQW9CQTtJQUM1QyxNQUFNUSxTQUFTZSxTQUFTLENBQUNELElBQUk7SUFFN0IsSUFBSWQsUUFBUTtRQUNWLE1BQU1nQixxQkFBcUIsTUFBTWhCLE9BQU9pQixlQUFlO1FBRXZELElBQUlELHVCQUF1QixVQUFVO1lBQ25DLE1BQU1oQixPQUFPYSxpQkFBaUI7UUFDaEMsT0FBTyxJQUFJRyx1QkFBdUIsV0FBVztZQUMzQyxNQUFNLElBQUlFLE1BQU07UUFDbEI7UUFFQSxPQUFPbEIsT0FBT2lCLGVBQWU7SUFDL0I7SUFFQSxPQUFPO0FBQ1QsRUFBRTtBQUVLLE1BQU1FLGVBQWUsQ0FBQ0MsU0FDM0IsSUFBSUMsUUFBUSxDQUFDQyxTQUFTQztRQUNwQkMsV0FBV0QsUUFBUTtRQUVuQkUsT0FBT0MsWUFBWSxDQUFDQyxLQUFLO1FBQ3pCRixPQUFPRyxjQUFjLENBQUNELEtBQUs7UUFFM0IsTUFBTUUsVUFBVTtZQUNkLE1BQU1DLFlBQVlWLFFBQVFXLE9BQU8sTUFBTUM7WUFDdkMsTUFBTUMsdUJBQXVCSCxXQUFXSTtZQUN4QyxNQUFNQyxXQUFXRixzQkFBc0JFO1lBQ3ZDLE1BQU1DLFdBQVdILHNCQUFzQkc7WUFJdkNELFVBQVVFO1lBRVYsSUFBSUQsVUFBVUUsY0FBYyxjQUFjLENBQUNGLFVBQVVDLE9BQU87Z0JBQzFEZjtZQUNGLE9BQU87Z0JBQ0xjLFNBQVNDLEtBQUssQ0FBQyxDQUFDRSxXQUFjQSxXQUFXaEIsT0FBT2dCLFlBQVlqQjtZQUM5RDtRQUNGO1FBRUEsSUFBSUcsT0FBT2UsU0FBUyxFQUFFO1lBQ3BCLDJOQUFhLENBQUNDLElBQUksQ0FBQyxDQUFDLEVBQUVDLFFBQVEsRUFBRTtnQkFDOUIsSUFBSWpCLE9BQU9lLFNBQVMsQ0FBQ0csU0FBUyxFQUFFO29CQUM5QmxCLE9BQU9lLFNBQVMsQ0FDYkcsU0FBUyxHQUNURixJQUFJLENBQUMsQ0FBQ0UsWUFDTEEsVUFDR0MsTUFBTSxDQUFDLENBQUMsRUFBRUMsSUFBSSxFQUFFLEdBQUtBLFFBQVFBLFNBQVMsYUFDdENDLE9BQU8sQ0FBQyxDQUFDLEVBQUVELElBQUksRUFBRSxHQUFLSCxTQUFTRyxRQUVuQ0osSUFBSSxDQUFDWixTQUNMa0IsS0FBSyxDQUFDbEI7Z0JBQ1gsT0FBTztvQkFDTGxDLGNBQWNtRCxPQUFPLENBQUMsQ0FBQ0QsT0FBU0gsU0FBU0c7b0JBQ3pDaEI7Z0JBQ0Y7WUFDRjtRQUNGLE9BQU87WUFDTEE7UUFDRjtJQUNGLEdBQUciLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcVXNlclxcRG9jdW1lbnRzXFxTaXRlc1xcU2l0ZXNcXGVtIGRlc2Vudm9sdmltZW50b1xcUG9ydGZvbGlvMlxcY29udGV4dHNcXGZpbGVTeXN0ZW1cXGZ1bmN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqb2luIH0gZnJvbSBcInBhdGhcIjtcclxuaW1wb3J0IHR5cGUgSFRUUFJlcXVlc3QgZnJvbSBcImJyb3dzZXJmcy9kaXN0L25vZGUvYmFja2VuZC9IVFRQUmVxdWVzdFwiO1xyXG5pbXBvcnQgdHlwZSBJbmRleGVkREJGaWxlU3lzdGVtIGZyb20gXCJicm93c2VyZnMvZGlzdC9ub2RlL2JhY2tlbmQvSW5kZXhlZERCXCI7XHJcbmltcG9ydCB0eXBlIE92ZXJsYXlGUyBmcm9tIFwiYnJvd3NlcmZzL2Rpc3Qvbm9kZS9iYWNrZW5kL092ZXJsYXlGU1wiO1xyXG5pbXBvcnQgdHlwZSBJbk1lbW9yeUZpbGVTeXN0ZW0gZnJvbSBcImJyb3dzZXJmcy9kaXN0L25vZGUvYmFja2VuZC9Jbk1lbW9yeVwiO1xyXG5pbXBvcnQgeyB0eXBlIEZpbGVTeXN0ZW1PYnNlcnZlciB9IGZyb20gXCJjb250ZXh0cy9maWxlU3lzdGVtL3VzZUZpbGVTeXN0ZW1Db250ZXh0U3RhdGVcIjtcclxuaW1wb3J0IHsgRlNfSEFORExFUyB9IGZyb20gXCJ1dGlscy9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgdHlwZSBSb290RmlsZVN5c3RlbSB9IGZyb20gXCJjb250ZXh0cy9maWxlU3lzdGVtL3VzZUFzeW5jRnNcIjtcclxuaW1wb3J0IHtcclxuICBLRVlWQUxfU1RPUkVfTkFNRSxcclxuICBnZXRGaWxlU3lzdGVtSGFuZGxlcyxcclxuICBnZXRLZXlWYWxTdG9yZSxcclxuICBzdXBwb3J0c0luZGV4ZWREQixcclxufSBmcm9tIFwiY29udGV4dHMvZmlsZVN5c3RlbS9jb3JlXCI7XHJcblxyXG5jb25zdCBLTk9XTl9JREJfREJTID0gW1xyXG4gIFwiL2NsYXNzaWN1YmVcIixcclxuICBcIi9kYXRhL3NhdmVzXCIsXHJcbiAgXCJlanMtYmlvc1wiLFxyXG4gIFwiZWpzLXJvbXNcIixcclxuICBcImVqcy1yb21zZGF0YVwiLFxyXG4gIFwiZWpzLXN0YXRlc1wiLFxyXG4gIFwiZWpzLXN5c3RlbVwiLFxyXG4gIFwianMtZG9zLWNhY2hlIChlbXVsYXRvcnMtdWktc2F2ZXMpXCIsXHJcbiAgXCJrZXl2YWwtc3RvcmVcIixcclxuXTtcclxuXHJcbmNvbnN0IG9ic2VydmVycyA9IG5ldyBNYXA8c3RyaW5nLCBGaWxlU3lzdGVtT2JzZXJ2ZXI+KCk7XHJcblxyXG5leHBvcnQgY29uc3QgYWRkRmlsZVN5c3RlbUhhbmRsZSA9IGFzeW5jIChcclxuICBkaXJlY3Rvcnk6IHN0cmluZyxcclxuICBoYW5kbGU6IEZpbGVTeXN0ZW1EaXJlY3RvcnlIYW5kbGUsXHJcbiAgbWFwcGVkTmFtZTogc3RyaW5nLFxyXG4gIG9ic2VydmVyPzogRmlsZVN5c3RlbU9ic2VydmVyXHJcbik6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gIGlmICghKGF3YWl0IHN1cHBvcnRzSW5kZXhlZERCKCkpKSByZXR1cm47XHJcblxyXG4gIGNvbnN0IGRiID0gYXdhaXQgZ2V0S2V5VmFsU3RvcmUoKTtcclxuICBjb25zdCBkaXJQYXRoID0gam9pbihkaXJlY3RvcnksIG1hcHBlZE5hbWUpO1xyXG5cclxuICB0cnkge1xyXG4gICAgYXdhaXQgZGIucHV0KFxyXG4gICAgICBLRVlWQUxfU1RPUkVfTkFNRSxcclxuICAgICAge1xyXG4gICAgICAgIC4uLihhd2FpdCBnZXRGaWxlU3lzdGVtSGFuZGxlcygpKSxcclxuICAgICAgICBbZGlyUGF0aF06IGhhbmRsZSxcclxuICAgICAgfSxcclxuICAgICAgRlNfSEFORExFU1xyXG4gICAgKTtcclxuXHJcbiAgICBpZiAob2JzZXJ2ZXIpIG9ic2VydmVycy5zZXQoZGlyUGF0aCwgb2JzZXJ2ZXIpO1xyXG4gIH0gY2F0Y2gge1xyXG4gICAgLy8gSWdub3JlIGVycm9ycyBzdG9yaW5nIGhhbmRsZVxyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCByZW1vdmVGaWxlU3lzdGVtSGFuZGxlID0gYXN5bmMgKFxyXG4gIGRpcmVjdG9yeTogc3RyaW5nXHJcbik6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gIGlmICghKGF3YWl0IHN1cHBvcnRzSW5kZXhlZERCKCkpKSByZXR1cm47XHJcblxyXG4gIGNvbnN0IHsgW2RpcmVjdG9yeV06IF9yZW1vdmVkSGFuZGxlLCAuLi5oYW5kbGVzIH0gPVxyXG4gICAgYXdhaXQgZ2V0RmlsZVN5c3RlbUhhbmRsZXMoKTtcclxuICBjb25zdCBkYiA9IGF3YWl0IGdldEtleVZhbFN0b3JlKCk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBkYi5wdXQoS0VZVkFMX1NUT1JFX05BTUUsIGhhbmRsZXMsIEZTX0hBTkRMRVMpO1xyXG5cclxuICAgIG9ic2VydmVycy5nZXQoZGlyZWN0b3J5KT8uZGlzY29ubmVjdCgpO1xyXG4gICAgb2JzZXJ2ZXJzLmRlbGV0ZShkaXJlY3RvcnkpO1xyXG4gIH0gY2F0Y2gge1xyXG4gICAgLy8gSWdub3JlIGVycm9ycyBzdG9yaW5nIGhhbmRsZVxyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCByZXF1ZXN0UGVybWlzc2lvbiA9IGFzeW5jIChcclxuICB1cmw6IHN0cmluZ1xyXG4pOiBQcm9taXNlPFBlcm1pc3Npb25TdGF0ZSB8IGZhbHNlPiA9PiB7XHJcbiAgY29uc3QgZnNIYW5kbGVzID0gYXdhaXQgZ2V0RmlsZVN5c3RlbUhhbmRsZXMoKTtcclxuICBjb25zdCBoYW5kbGUgPSBmc0hhbmRsZXNbdXJsXTtcclxuXHJcbiAgaWYgKGhhbmRsZSkge1xyXG4gICAgY29uc3QgY3VycmVudFBlcm1pc3Npb25zID0gYXdhaXQgaGFuZGxlLnF1ZXJ5UGVybWlzc2lvbigpO1xyXG5cclxuICAgIGlmIChjdXJyZW50UGVybWlzc2lvbnMgPT09IFwicHJvbXB0XCIpIHtcclxuICAgICAgYXdhaXQgaGFuZGxlLnJlcXVlc3RQZXJtaXNzaW9uKCk7XHJcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRQZXJtaXNzaW9ucyA9PT0gXCJncmFudGVkXCIpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGVybWlzc2lvbiBhbHJlYWR5IGdyYW50ZWRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGhhbmRsZS5xdWVyeVBlcm1pc3Npb24oKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBmYWxzZTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCByZXNldFN0b3JhZ2UgPSAocm9vdEZzPzogUm9vdEZpbGVTeXN0ZW0pOiBQcm9taXNlPHZvaWQ+ID0+XHJcbiAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgc2V0VGltZW91dChyZWplY3QsIDc1MCk7XHJcblxyXG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5jbGVhcigpO1xyXG4gICAgd2luZG93LnNlc3Npb25TdG9yYWdlLmNsZWFyKCk7XHJcblxyXG4gICAgY29uc3QgY2xlYXJGcyA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgY29uc3Qgb3ZlcmxheUZzID0gcm9vdEZzPy5fZ2V0RnMoXCIvXCIpPy5mcyBhcyBPdmVybGF5RlM7XHJcbiAgICAgIGNvbnN0IG92ZXJsYXllZEZpbGVTeXN0ZW1zID0gb3ZlcmxheUZzPy5nZXRPdmVybGF5ZWRGaWxlU3lzdGVtcygpO1xyXG4gICAgICBjb25zdCByZWFkYWJsZSA9IG92ZXJsYXllZEZpbGVTeXN0ZW1zPy5yZWFkYWJsZSBhcyBIVFRQUmVxdWVzdDtcclxuICAgICAgY29uc3Qgd3JpdGFibGUgPSBvdmVybGF5ZWRGaWxlU3lzdGVtcz8ud3JpdGFibGUgYXNcclxuICAgICAgICB8IEluZGV4ZWREQkZpbGVTeXN0ZW1cclxuICAgICAgICB8IEluTWVtb3J5RmlsZVN5c3RlbTtcclxuXHJcbiAgICAgIHJlYWRhYmxlPy5lbXB0eSgpO1xyXG5cclxuICAgICAgaWYgKHdyaXRhYmxlPy5nZXROYW1lKCkgPT09IFwiSW5NZW1vcnlcIiB8fCAhd3JpdGFibGU/LmVtcHR5KSB7XHJcbiAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHdyaXRhYmxlLmVtcHR5KChhcGlFcnJvcikgPT4gKGFwaUVycm9yID8gcmVqZWN0KGFwaUVycm9yKSA6IHJlc29sdmUoKSkpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGlmICh3aW5kb3cuaW5kZXhlZERCKSB7XHJcbiAgICAgIGltcG9ydChcImlkYlwiKS50aGVuKCh7IGRlbGV0ZURCIH0pID0+IHtcclxuICAgICAgICBpZiAod2luZG93LmluZGV4ZWREQi5kYXRhYmFzZXMpIHtcclxuICAgICAgICAgIHdpbmRvdy5pbmRleGVkREJcclxuICAgICAgICAgICAgLmRhdGFiYXNlcygpXHJcbiAgICAgICAgICAgIC50aGVuKChkYXRhYmFzZXMpID0+XHJcbiAgICAgICAgICAgICAgZGF0YWJhc2VzXHJcbiAgICAgICAgICAgICAgICAuZmlsdGVyKCh7IG5hbWUgfSkgPT4gbmFtZSAmJiBuYW1lICE9PSBcImJyb3dzZXJmc1wiKVxyXG4gICAgICAgICAgICAgICAgLmZvckVhY2goKHsgbmFtZSB9KSA9PiBkZWxldGVEQihuYW1lIGFzIHN0cmluZykpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgLnRoZW4oY2xlYXJGcylcclxuICAgICAgICAgICAgLmNhdGNoKGNsZWFyRnMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBLTk9XTl9JREJfREJTLmZvckVhY2goKG5hbWUpID0+IGRlbGV0ZURCKG5hbWUpKTtcclxuICAgICAgICAgIGNsZWFyRnMoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2xlYXJGcygpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4iXSwibmFtZXMiOlsiam9pbiIsIkZTX0hBTkRMRVMiLCJLRVlWQUxfU1RPUkVfTkFNRSIsImdldEZpbGVTeXN0ZW1IYW5kbGVzIiwiZ2V0S2V5VmFsU3RvcmUiLCJzdXBwb3J0c0luZGV4ZWREQiIsIktOT1dOX0lEQl9EQlMiLCJvYnNlcnZlcnMiLCJNYXAiLCJhZGRGaWxlU3lzdGVtSGFuZGxlIiwiZGlyZWN0b3J5IiwiaGFuZGxlIiwibWFwcGVkTmFtZSIsIm9ic2VydmVyIiwiZGIiLCJkaXJQYXRoIiwicHV0Iiwic2V0IiwicmVtb3ZlRmlsZVN5c3RlbUhhbmRsZSIsIl9yZW1vdmVkSGFuZGxlIiwiaGFuZGxlcyIsImdldCIsImRpc2Nvbm5lY3QiLCJkZWxldGUiLCJyZXF1ZXN0UGVybWlzc2lvbiIsInVybCIsImZzSGFuZGxlcyIsImN1cnJlbnRQZXJtaXNzaW9ucyIsInF1ZXJ5UGVybWlzc2lvbiIsIkVycm9yIiwicmVzZXRTdG9yYWdlIiwicm9vdEZzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzZXRUaW1lb3V0Iiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiY2xlYXIiLCJzZXNzaW9uU3RvcmFnZSIsImNsZWFyRnMiLCJvdmVybGF5RnMiLCJfZ2V0RnMiLCJmcyIsIm92ZXJsYXllZEZpbGVTeXN0ZW1zIiwiZ2V0T3ZlcmxheWVkRmlsZVN5c3RlbXMiLCJyZWFkYWJsZSIsIndyaXRhYmxlIiwiZW1wdHkiLCJnZXROYW1lIiwiYXBpRXJyb3IiLCJpbmRleGVkREIiLCJ0aGVuIiwiZGVsZXRlREIiLCJkYXRhYmFzZXMiLCJmaWx0ZXIiLCJuYW1lIiwiZm9yRWFjaCIsImNhdGNoIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./contexts/fileSystem/functions.ts\n"));

/***/ })

}]);