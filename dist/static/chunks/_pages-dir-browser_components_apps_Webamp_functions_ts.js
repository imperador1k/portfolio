"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_pages-dir-browser_components_apps_Webamp_functions_ts"],{

/***/ "(pages-dir-browser)/./components/apps/Webamp/functions.ts":
/*!*********************************************!*\
  !*** ./components/apps/Webamp/functions.ts ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BASE_WEBAMP_OPTIONS: () => (/* binding */ BASE_WEBAMP_OPTIONS),\n/* harmony export */   MAIN_WINDOW: () => (/* binding */ MAIN_WINDOW),\n/* harmony export */   PLAYLIST_WINDOW: () => (/* binding */ PLAYLIST_WINDOW),\n/* harmony export */   cleanBufferOnSkinLoad: () => (/* binding */ cleanBufferOnSkinLoad),\n/* harmony export */   closeEqualizer: () => (/* binding */ closeEqualizer),\n/* harmony export */   createM3uPlaylist: () => (/* binding */ createM3uPlaylist),\n/* harmony export */   enabledMilkdrop: () => (/* binding */ enabledMilkdrop),\n/* harmony export */   focusWindow: () => (/* binding */ focusWindow),\n/* harmony export */   getMetadataProvider: () => (/* binding */ getMetadataProvider),\n/* harmony export */   getWebampElement: () => (/* binding */ getWebampElement),\n/* harmony export */   loadButterchurnPreset: () => (/* binding */ loadButterchurnPreset),\n/* harmony export */   loadMilkdropWhenNeeded: () => (/* binding */ loadMilkdropWhenNeeded),\n/* harmony export */   parseTrack: () => (/* binding */ parseTrack),\n/* harmony export */   setSkinData: () => (/* binding */ setSkinData),\n/* harmony export */   tracksFromPlaylist: () => (/* binding */ tracksFromPlaylist),\n/* harmony export */   unFocus: () => (/* binding */ unFocus),\n/* harmony export */   updateWebampPosition: () => (/* binding */ updateWebampPosition)\n/* harmony export */ });\n/* harmony import */ var components_system_Window_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! components/system/Window/functions */ \"(pages-dir-browser)/./components/system/Window/functions.ts\");\n/* harmony import */ var utils_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! utils/constants */ \"(pages-dir-browser)/./utils/constants.ts\");\n/* harmony import */ var utils_functions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! utils/functions */ \"(pages-dir-browser)/./utils/functions.ts\");\n\n\n\nconst BROKEN_PRESETS = new Set([\n    \"Flexi - alien fish pond\",\n    \"Geiss - Spiral Artifact\"\n]);\nconst WEBAMP_SKINS_PATH = `${utils_constants__WEBPACK_IMPORTED_MODULE_1__.HOME}/Documents/Winamp Skins`;\nconst ALLOWS_CORS_IN_WINAMP_SKIN_MUSEUM =  true && [\n    \"localhost\",\n    utils_constants__WEBPACK_IMPORTED_MODULE_1__.PACKAGE_DATA.author.url.replace(\"https://\", \"\")\n].includes(window.location.hostname);\nconst createWebampSkinMuseumQuery = (offset)=>`\n  query {\n    skins(filter: APPROVED, first: 1, offset: ${offset}) {\n      nodes {\n        download_url\n      }\n    }\n  }\n`;\nconst BASE_WEBAMP_OPTIONS = {\n    availableSkins: [\n        {\n            name: \"Aqua X\",\n            url: `${WEBAMP_SKINS_PATH}/Aqua_X.wsz`\n        },\n        {\n            name: \"Nucleo NLog v2G\",\n            url: `${WEBAMP_SKINS_PATH}/Nucleo_NLog_v102.wsz`\n        },\n        ...ALLOWS_CORS_IN_WINAMP_SKIN_MUSEUM ? [\n            {\n                defaultName: \"Random (Winamp Skin Museum)\",\n                loading: false,\n                get name () {\n                    if (this.loading) return this.defaultName;\n                    this.loading = true;\n                    fetch(\"https://api.webamp.org/graphql\", {\n                        body: JSON.stringify({\n                            query: createWebampSkinMuseumQuery(Math.floor(Math.random() * 1000))\n                        }),\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        method: \"POST\"\n                    }).then(async (response)=>{\n                        const { data } = await response.json() || {};\n                        this.skinUrl = data?.skins?.nodes?.[0]?.download_url;\n                        this.loading = false;\n                    });\n                    return this.defaultName;\n                },\n                skinUrl: \"\",\n                get url () {\n                    return this.skinUrl || `${WEBAMP_SKINS_PATH}/base-2.91.wsz`;\n                }\n            }\n        ] : [],\n        {\n            name: \"SpyAMP Professional Edition v5\",\n            url: `${WEBAMP_SKINS_PATH}/SpyAMP_Professional_Edition_v5.wsz`\n        }\n    ]\n};\nconst BASE_WINDOW_SIZE = {\n    height: 116,\n    width: 275\n};\nconst CONTAINER_WINDOW = \"#webamp\";\nconst MAIN_WINDOW = \"#main-window\";\nconst PLAYLIST_WINDOW = \"#playlist-window\";\nconst cleanBufferOnSkinLoad = (webamp, url = \"\")=>webamp.skinIsLoaded().then(()=>{\n        if (url) (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.cleanUpBufferUrl)(url);\n    });\nconst closeEqualizer = (webamp)=>{\n    webamp.store.dispatch({\n        type: \"CLOSE_WINDOW\",\n        windowId: \"equalizer\"\n    });\n};\nconst enabledMilkdrop = (webamp)=>{\n    webamp.store.dispatch({\n        open: false,\n        type: \"ENABLE_MILKDROP\"\n    });\n};\nconst setSkinData = (webamp, data)=>{\n    webamp.store.dispatch({\n        data,\n        type: \"SET_SKIN_DATA\"\n    });\n};\nconst loadButterchurn = (webamp, butterchurn)=>{\n    webamp.store.dispatch({\n        butterchurn,\n        type: \"GOT_BUTTERCHURN\"\n    });\n};\nconst loadButterchurnPresets = (webamp, presets)=>webamp.store.dispatch({\n        presets,\n        type: \"GOT_BUTTERCHURN_PRESETS\"\n    });\nconst getButterchurnPresetIndex = (webamp)=>{\n    const { presetHistory = [], presets = [] } = webamp.store.getState()?.milkdrop || {};\n    const index = Math.floor(Math.random() * presets.length);\n    const preset = presets[index];\n    return preset.name && !BROKEN_PRESETS.has(preset.name) && !presetHistory.slice(-5).includes(index) ? index : getButterchurnPresetIndex(webamp);\n};\nconst loadButterchurnPreset = (webamp)=>{\n    const index = getButterchurnPresetIndex(webamp);\n    webamp.store.dispatch({\n        addToHistory: true,\n        index,\n        type: \"PRESET_REQUESTED\"\n    });\n    webamp.store.dispatch({\n        index,\n        type: \"SELECT_PRESET_AT_INDEX\"\n    });\n};\nlet cycleTimerId = 0;\nconst cycleButterchurnPresets = (webamp)=>{\n    window.clearInterval(cycleTimerId);\n    cycleTimerId = window.setInterval(()=>{\n        if (!webamp) window.clearInterval(cycleTimerId);\n        loadButterchurnPreset(webamp);\n    }, 20000);\n};\nconst loadMilkdropWhenNeeded = (webamp)=>{\n    const unsubscribe = webamp.store.subscribe(()=>{\n        const { milkdrop, windows } = webamp.store.getState();\n        if (windows?.genWindows?.milkdrop?.open && !milkdrop?.butterchurn) {\n            (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.loadFiles)([\n                \"/Program Files/Webamp/butterchurn.min.js\"\n            ]).then(()=>{\n                if (!window.butterchurn?.default) return;\n                loadButterchurn(webamp, window.butterchurn.default);\n                const { playlist, main: mainWindow } = windows.genWindows || {};\n                const { x = 0, y = 0 } = (playlist?.open ? playlist?.position : mainWindow?.position) || {};\n                webamp.store.dispatch({\n                    positions: {\n                        milkdrop: {\n                            x,\n                            y: y + BASE_WINDOW_SIZE.height\n                        }\n                    },\n                    type: \"UPDATE_WINDOW_POSITIONS\"\n                });\n                unsubscribe();\n                webamp.store.subscribe(()=>{\n                    const webampDesktop = [\n                        ...document.body.children\n                    ].find((node)=>node.classList?.contains(\"webamp-desktop\"));\n                    if (webampDesktop) {\n                        const main = document.querySelector(\"main\");\n                        if (main) {\n                            [\n                                ...main.children\n                            ].forEach((node)=>{\n                                if (node.classList?.contains(\"webamp-desktop\")) {\n                                    node.remove();\n                                }\n                            });\n                            main.append(webampDesktop);\n                        }\n                    }\n                });\n                __webpack_require__.e(/*! import() */ \"_pages-dir-browser_node_modules_butterchurn-presets_dist_base_js\", \"high\").then(__webpack_require__.t.bind(__webpack_require__, /*! butterchurn-presets */ \"(pages-dir-browser)/./node_modules/butterchurn-presets/dist/base.js\", 23)).then(({ default: presets })=>{\n                    const resolvedPresets = Object.entries(presets).map(([name, preset])=>({\n                            name,\n                            preset\n                        }));\n                    loadButterchurnPresets(webamp, resolvedPresets);\n                    loadButterchurnPreset(webamp);\n                    cycleButterchurnPresets(webamp);\n                });\n            });\n        }\n    });\n};\nconst getWebampElement = ()=>document.querySelector(CONTAINER_WINDOW);\nconst updateWebampPosition = (webamp, position)=>{\n    const { height, width } = BASE_WINDOW_SIZE;\n    const { x, y } = position || (0,components_system_Window_functions__WEBPACK_IMPORTED_MODULE_0__.centerPosition)({\n        height: height * 2,\n        width\n    });\n    webamp.store.dispatch({\n        positions: {\n            main: {\n                x,\n                y\n            },\n            milkdrop: {\n                x: 0 - width,\n                y: 0 - height\n            },\n            playlist: {\n                x,\n                y: height + y\n            }\n        },\n        type: \"UPDATE_WINDOW_POSITIONS\"\n    });\n};\nconst focusWindow = (webamp, window1)=>webamp.store.dispatch({\n        type: \"SET_FOCUSED_WINDOW\",\n        window: window1\n    });\nconst unFocus = (webamp)=>webamp.store.dispatch({\n        type: \"SET_FOCUSED_WINDOW\",\n        window: \"\"\n    });\nconst parseTrack = async (file, fileName)=>{\n    const { parseBuffer } = await __webpack_require__.e(/*! import() */ \"_pages-dir-browser_node_modules_music-metadata-browser_lib_index_js\", \"high\").then(__webpack_require__.bind(__webpack_require__, /*! music-metadata-browser */ \"(pages-dir-browser)/./node_modules/music-metadata-browser/lib/index.js\"));\n    const { common: { album = \"\", artist = \"\", title = fileName }, format: { duration = 0 } } = await parseBuffer(file, {\n        mimeType: utils_constants__WEBPACK_IMPORTED_MODULE_1__.MP3_MIME_TYPE,\n        size: file.length\n    }, {\n        duration: true,\n        skipCovers: true,\n        skipPostHeaders: true\n    });\n    return {\n        blob: (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.bufferToBlob)(file, \"audio/mpeg\"),\n        duration: Math.floor(duration),\n        metaData: {\n            album,\n            artist,\n            title\n        }\n    };\n};\nconst createM3uPlaylist = (tracks)=>{\n    const m3uPlaylist = tracks.map((track)=>{\n        const trackUrl = track.url ? `\\n${track.url}` : \"\";\n        let title = track.defaultName;\n        if (track.metaData?.artist) {\n            if (track.metaData?.title) {\n                title = `${track.metaData.artist} - ${track.metaData.title}`;\n            } else if (title) {\n                title = `${track.metaData.artist} - ${title}`;\n            }\n        } else if (track.metaData?.title) {\n            title = track.metaData.title;\n        }\n        return trackUrl ? `#EXTINF:${track.duration ?? -1},${title || \"\"}${trackUrl}` : \"\";\n    });\n    return `${[\n        \"#EXTM3U\",\n        ...m3uPlaylist.filter(Boolean)\n    ].join(\"\\n\")}\\n`;\n};\nconst MAX_PLAYLIST_ITEMS = 1000;\nconst tracksFromPlaylist = async (data, extension, defaultName)=>{\n    const { ASX, M3U, PLS } = await __webpack_require__.e(/*! import() */ \"_pages-dir-browser_node_modules_playlist-parser_lib_parser_min_js\", \"high\").then(__webpack_require__.t.bind(__webpack_require__, /*! playlist-parser */ \"(pages-dir-browser)/./node_modules/playlist-parser/lib/parser.min.js\", 23));\n    // eslint-disable-next-line @typescript-eslint/no-duplicate-type-constituents\n    const parser = {\n        \".asx\": ASX,\n        \".m3u\": M3U,\n        \".pls\": PLS\n    };\n    const tracks = parser[extension]?.parse(data).filter(Boolean).slice(0, MAX_PLAYLIST_ITEMS) ?? [];\n    return tracks.map(({ artist = \"\", file = \"\", length = 0, title = \"\" })=>{\n        const [parsedArtist, parsedTitle] = [\n            artist.trim(),\n            title.trim()\n        ];\n        return {\n            duration: Math.max(length, 0),\n            metaData: {\n                album: parsedTitle || defaultName,\n                artist: parsedArtist,\n                title: parsedTitle\n            },\n            url: file\n        };\n    });\n};\nconst removeCData = (string = \"\")=>string.replace(/<!\\[CDATA\\[|\\]\\]>/g, \"\");\nconst streamingMetadataProviders = {\n    \"somafm.com\": (url)=>async ()=>{\n            const { pathname } = new URL(url);\n            const [channel] = pathname.replace(\"/\", \"\").split(\"-\");\n            const xmlPlaylist = await (await fetch(`https://somafm.com/songs/${channel}.xml`, {\n                cache: \"no-cache\",\n                credentials: \"omit\",\n                keepalive: false,\n                mode: \"cors\",\n                referrerPolicy: \"no-referrer\",\n                // eslint-disable-next-line unicorn/no-null\n                window: null\n            })).text();\n            const songNode = new DOMParser().parseFromString(xmlPlaylist, \"application/xml\").querySelector(\"song\");\n            const artist = songNode?.querySelector(\"artist\")?.innerHTML;\n            const title = songNode?.querySelector(\"title\")?.innerHTML;\n            return {\n                artist: removeCData(artist),\n                title: removeCData(title)\n            };\n        }\n};\nconst getMetadataProvider = (url)=>{\n    const { host } = new URL(url);\n    const [, domain, tld] = host.split(\".\");\n    return streamingMetadataProviders[`${domain}.${tld}`]?.(url);\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL2NvbXBvbmVudHMvYXBwcy9XZWJhbXAvZnVuY3Rpb25zLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU29FO0FBQ0E7QUFDUTtBQUU1RSxNQUFNTyxpQkFBaUIsSUFBSUMsSUFBSTtJQUM3QjtJQUNBO0NBQ0Q7QUFFRCxNQUFNQyxvQkFBb0IsR0FBR1IsaURBQUlBLENBQUMsdUJBQXVCLENBQUM7QUFFMUQsTUFBTVMsb0NBQ0osS0FBNkIsSUFDN0I7SUFBQztJQUFhUCx5REFBWUEsQ0FBQ1EsTUFBTSxDQUFDQyxHQUFHLENBQUNDLE9BQU8sQ0FBQyxZQUFZO0NBQUksQ0FBQ0MsUUFBUSxDQUNyRUMsT0FBT0MsUUFBUSxDQUFDQyxRQUFRO0FBRzVCLE1BQU1DLDhCQUE4QixDQUFDQyxTQUEyQixDQUFDOzs4Q0FFbkIsRUFBRUEsT0FBTzs7Ozs7O0FBTXZELENBQUM7QUFFTSxNQUFNQyxzQkFBc0I7SUFDakNDLGdCQUFnQjtRQUNkO1lBQ0VDLE1BQU07WUFDTlYsS0FBSyxHQUFHSCxrQkFBa0IsV0FBVyxDQUFDO1FBQ3hDO1FBQ0E7WUFDRWEsTUFBTTtZQUNOVixLQUFLLEdBQUdILGtCQUFrQixxQkFBcUIsQ0FBQztRQUNsRDtXQUNJQyxvQ0FDQTtZQUNFO2dCQUNFYSxhQUFhO2dCQUNiQyxTQUFTO2dCQUNULElBQUlGLFFBQWU7b0JBQ2pCLElBQUksSUFBSSxDQUFDRSxPQUFPLEVBQUUsT0FBTyxJQUFJLENBQUNELFdBQVc7b0JBRXpDLElBQUksQ0FBQ0MsT0FBTyxHQUFHO29CQUVmQyxNQUFNLGtDQUFrQzt3QkFDdENDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQzs0QkFDbkJDLE9BQU9YLDRCQUNMWSxLQUFLQyxLQUFLLENBQUNELEtBQUtFLE1BQU0sS0FBSzt3QkFFL0I7d0JBQ0FDLFNBQVM7NEJBQ1AsZ0JBQWdCO3dCQUNsQjt3QkFDQUMsUUFBUTtvQkFDVixHQUFHQyxJQUFJLENBQUMsT0FBT0M7d0JBQ2IsTUFBTSxFQUFFQyxJQUFJLEVBQUUsR0FBSSxNQUFPRCxTQUFTRSxJQUFJLE1BQ3BDLENBQUM7d0JBRUgsSUFBSSxDQUFDQyxPQUFPLEdBQUdGLE1BQU1HLE9BQU9DLE9BQU8sQ0FBQyxFQUFFLEVBQUVDO3dCQUN4QyxJQUFJLENBQUNsQixPQUFPLEdBQUc7b0JBQ2pCO29CQUVBLE9BQU8sSUFBSSxDQUFDRCxXQUFXO2dCQUN6QjtnQkFDQWdCLFNBQVM7Z0JBQ1QsSUFBSTNCLE9BQWM7b0JBQ2hCLE9BQU8sSUFBSSxDQUFDMkIsT0FBTyxJQUFJLEdBQUc5QixrQkFBa0IsY0FBYyxDQUFDO2dCQUM3RDtZQUNGO1NBQ0QsR0FDRCxFQUFFO1FBQ047WUFDRWEsTUFBTTtZQUNOVixLQUFLLEdBQUdILGtCQUFrQixtQ0FBbUMsQ0FBQztRQUNoRTtLQUNEO0FBQ0gsRUFBRTtBQUVGLE1BQU1rQyxtQkFBbUI7SUFDdkJDLFFBQVE7SUFDUkMsT0FBTztBQUNUO0FBRUEsTUFBTUMsbUJBQW1CO0FBRWxCLE1BQU1DLGNBQWMsZUFBZTtBQUVuQyxNQUFNQyxrQkFBa0IsbUJBQW1CO0FBRTNDLE1BQU1DLHdCQUF3QixDQUNuQ0MsUUFDQXRDLE1BQU0sRUFBRSxHQUVSc0MsT0FBT0MsWUFBWSxHQUFHaEIsSUFBSSxDQUFDO1FBQ3pCLElBQUl2QixLQUFLUCxpRUFBZ0JBLENBQUNPO0lBQzVCLEdBQUc7QUFFRSxNQUFNd0MsaUJBQWlCLENBQUNGO0lBQzdCQSxPQUFPRyxLQUFLLENBQUNDLFFBQVEsQ0FBQztRQUNwQkMsTUFBTTtRQUNOQyxVQUFVO0lBQ1o7QUFDRixFQUFFO0FBRUssTUFBTUMsa0JBQWtCLENBQUNQO0lBQzlCQSxPQUFPRyxLQUFLLENBQUNDLFFBQVEsQ0FBQztRQUNwQkksTUFBTTtRQUNOSCxNQUFNO0lBQ1I7QUFDRixFQUFFO0FBRUssTUFBTUksY0FBYyxDQUFDVCxRQUFrQmI7SUFDNUNhLE9BQU9HLEtBQUssQ0FBQ0MsUUFBUSxDQUFDO1FBQ3BCakI7UUFDQWtCLE1BQU07SUFDUjtBQUNGLEVBQUU7QUFFRixNQUFNSyxrQkFBa0IsQ0FBQ1YsUUFBa0JXO0lBQ3pDWCxPQUFPRyxLQUFLLENBQUNDLFFBQVEsQ0FBQztRQUNwQk87UUFDQU4sTUFBTTtJQUNSO0FBQ0Y7QUFFQSxNQUFNTyx5QkFBeUIsQ0FDN0JaLFFBQ0FhLFVBRUFiLE9BQU9HLEtBQUssQ0FBQ0MsUUFBUSxDQUFDO1FBQ3BCUztRQUNBUixNQUFNO0lBQ1I7QUFFRixNQUFNUyw0QkFBNEIsQ0FBQ2Q7SUFDakMsTUFBTSxFQUFFZSxnQkFBZ0IsRUFBRSxFQUFFRixVQUFVLEVBQUUsRUFBRSxHQUN4Q2IsT0FBT0csS0FBSyxDQUFDYSxRQUFRLElBQUlDLFlBQVksQ0FBQztJQUN4QyxNQUFNQyxRQUFRdEMsS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxNQUFNLEtBQUsrQixRQUFRTSxNQUFNO0lBQ3ZELE1BQU1DLFNBQVNQLE9BQU8sQ0FBQ0ssTUFBTTtJQUU3QixPQUFPRSxPQUFPaEQsSUFBSSxJQUNoQixDQUFDZixlQUFlZ0UsR0FBRyxDQUFDRCxPQUFPaEQsSUFBSSxLQUMvQixDQUFDMkMsY0FBY08sS0FBSyxDQUFDLENBQUMsR0FBRzFELFFBQVEsQ0FBQ3NELFNBQ2hDQSxRQUNBSiwwQkFBMEJkO0FBQ2hDO0FBRU8sTUFBTXVCLHdCQUF3QixDQUFDdkI7SUFDcEMsTUFBTWtCLFFBQVFKLDBCQUEwQmQ7SUFFeENBLE9BQU9HLEtBQUssQ0FBQ0MsUUFBUSxDQUFDO1FBQ3BCb0IsY0FBYztRQUNkTjtRQUNBYixNQUFNO0lBQ1I7SUFDQUwsT0FBT0csS0FBSyxDQUFDQyxRQUFRLENBQUM7UUFDcEJjO1FBQ0FiLE1BQU07SUFDUjtBQUNGLEVBQUU7QUFFRixJQUFJb0IsZUFBZTtBQUVuQixNQUFNQywwQkFBMEIsQ0FBQzFCO0lBQy9CbkMsT0FBTzhELGFBQWEsQ0FBQ0Y7SUFDckJBLGVBQWU1RCxPQUFPK0QsV0FBVyxDQUFDO1FBQ2hDLElBQUksQ0FBQzVCLFFBQVFuQyxPQUFPOEQsYUFBYSxDQUFDRjtRQUVsQ0Ysc0JBQXNCdkI7SUFDeEIsR0FBRztBQUNMO0FBRU8sTUFBTTZCLHlCQUF5QixDQUFDN0I7SUFDckMsTUFBTThCLGNBQWM5QixPQUFPRyxLQUFLLENBQUM0QixTQUFTLENBQUM7UUFDekMsTUFBTSxFQUFFZCxRQUFRLEVBQUVlLE9BQU8sRUFBRSxHQUFHaEMsT0FBT0csS0FBSyxDQUFDYSxRQUFRO1FBRW5ELElBQUlnQixTQUFTQyxZQUFZaEIsVUFBVVQsUUFBUSxDQUFDUyxVQUFVTixhQUFhO1lBQ2pFdkQsMERBQVNBLENBQUM7Z0JBQUM7YUFBMkMsRUFBRTZCLElBQUksQ0FBQztnQkFDM0QsSUFBSSxDQUFDcEIsT0FBTzhDLFdBQVcsRUFBRXVCLFNBQVM7Z0JBRWxDeEIsZ0JBQWdCVixRQUFRbkMsT0FBTzhDLFdBQVcsQ0FBQ3VCLE9BQU87Z0JBRWxELE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxNQUFNQyxVQUFVLEVBQUUsR0FBR0wsUUFBUUMsVUFBVSxJQUFJLENBQUM7Z0JBQzlELE1BQU0sRUFBRUssSUFBSSxDQUFDLEVBQUVDLElBQUksQ0FBQyxFQUFFLEdBQ3BCLENBQUNKLFVBQVUzQixPQUFPMkIsVUFBVUssV0FBV0gsWUFBWUcsUUFBTyxLQUFNLENBQUM7Z0JBRW5FeEMsT0FBT0csS0FBSyxDQUFDQyxRQUFRLENBQUM7b0JBQ3BCcUMsV0FBVzt3QkFDVHhCLFVBQVU7NEJBQ1JxQjs0QkFDQUMsR0FBR0EsSUFBSTlDLGlCQUFpQkMsTUFBTTt3QkFDaEM7b0JBQ0Y7b0JBQ0FXLE1BQU07Z0JBQ1I7Z0JBRUF5QjtnQkFFQTlCLE9BQU9HLEtBQUssQ0FBQzRCLFNBQVMsQ0FBQztvQkFDckIsTUFBTVcsZ0JBQWdCOzJCQUFJQyxTQUFTbkUsSUFBSSxDQUFDb0UsUUFBUTtxQkFBQyxDQUFDQyxJQUFJLENBQUMsQ0FBQ0MsT0FDdERBLEtBQUtDLFNBQVMsRUFBRUMsU0FBUztvQkFHM0IsSUFBSU4sZUFBZTt3QkFDakIsTUFBTU4sT0FBT08sU0FBU00sYUFBYSxDQUFDO3dCQUVwQyxJQUFJYixNQUFNOzRCQUNSO21DQUFJQSxLQUFLUSxRQUFROzZCQUFDLENBQUNNLE9BQU8sQ0FBQyxDQUFDSjtnQ0FDMUIsSUFBSUEsS0FBS0MsU0FBUyxFQUFFQyxTQUFTLG1CQUFtQjtvQ0FDOUNGLEtBQUtLLE1BQU07Z0NBQ2I7NEJBQ0Y7NEJBQ0FmLEtBQUtnQixNQUFNLENBQUNWO3dCQUNkO29CQUNGO2dCQUNGO2dCQUVBLDZRQUE2QixDQUFDekQsSUFBSSxDQUFDLENBQUMsRUFBRWlELFNBQVNyQixPQUFPLEVBQUU7b0JBQ3RELE1BQU13QyxrQkFBNkNDLE9BQU9DLE9BQU8sQ0FDL0QxQyxTQUNBMkMsR0FBRyxDQUFDLENBQUMsQ0FBQ3BGLE1BQU1nRCxPQUFPLEdBQU07NEJBQ3pCaEQ7NEJBQ0FnRDt3QkFDRjtvQkFFQVIsdUJBQXVCWixRQUFRcUQ7b0JBQy9COUIsc0JBQXNCdkI7b0JBQ3RCMEIsd0JBQXdCMUI7Z0JBQzFCO1lBQ0Y7UUFDRjtJQUNGO0FBQ0YsRUFBRTtBQUVLLE1BQU15RCxtQkFBbUIsSUFDOUJkLFNBQVNNLGFBQWEsQ0FBaUJyRCxrQkFBa0I7QUFFcEQsTUFBTThELHVCQUF1QixDQUNsQzFELFFBQ0F3QztJQUVBLE1BQU0sRUFBRTlDLE1BQU0sRUFBRUMsS0FBSyxFQUFFLEdBQUdGO0lBQzFCLE1BQU0sRUFBRTZDLENBQUMsRUFBRUMsQ0FBQyxFQUFFLEdBQUdDLFlBQVkxRixrRkFBY0EsQ0FBQztRQUFFNEMsUUFBUUEsU0FBUztRQUFHQztJQUFNO0lBRXhFSyxPQUFPRyxLQUFLLENBQUNDLFFBQVEsQ0FBQztRQUNwQnFDLFdBQVc7WUFDVEwsTUFBTTtnQkFBRUU7Z0JBQUdDO1lBQUU7WUFDYnRCLFVBQVU7Z0JBQUVxQixHQUFHLElBQUkzQztnQkFBTzRDLEdBQUcsSUFBSTdDO1lBQU87WUFDeEN5QyxVQUFVO2dCQUFFRztnQkFBR0MsR0FBRzdDLFNBQVM2QztZQUFFO1FBQy9CO1FBQ0FsQyxNQUFNO0lBQ1I7QUFDRixFQUFFO0FBRUssTUFBTXNELGNBQWMsQ0FBQzNELFFBQWtCbkMsVUFDNUNtQyxPQUFPRyxLQUFLLENBQUNDLFFBQVEsQ0FBQztRQUNwQkMsTUFBTTtRQUNOeEMsUUFBQUE7SUFDRixHQUFHO0FBRUUsTUFBTStGLFVBQVUsQ0FBQzVELFNBQ3RCQSxPQUFPRyxLQUFLLENBQUNDLFFBQVEsQ0FBQztRQUNwQkMsTUFBTTtRQUNOeEMsUUFBUTtJQUNWLEdBQUc7QUFFRSxNQUFNZ0csYUFBYSxPQUN4QkMsTUFDQUM7SUFFQSxNQUFNLEVBQUVDLFdBQVcsRUFBRSxHQUFHLE1BQU0sZ1JBQWdDO0lBQzlELE1BQU0sRUFDSkMsUUFBUSxFQUFFQyxRQUFRLEVBQUUsRUFBRUMsU0FBUyxFQUFFLEVBQUVDLFFBQVFMLFFBQVEsRUFBRSxFQUNyRE0sUUFBUSxFQUFFQyxXQUFXLENBQUMsRUFBRSxFQUN6QixHQUFHLE1BQU1OLFlBQ1JGLE1BQ0E7UUFDRVMsVUFBVXZILDBEQUFhQTtRQUN2QndILE1BQU1WLEtBQUszQyxNQUFNO0lBQ25CLEdBQ0E7UUFBRW1ELFVBQVU7UUFBTUcsWUFBWTtRQUFNQyxpQkFBaUI7SUFBSztJQUc1RCxPQUFPO1FBQ0xDLE1BQU16SCw2REFBWUEsQ0FBQzRHLE1BQU07UUFDekJRLFVBQVUxRixLQUFLQyxLQUFLLENBQUN5RjtRQUNyQk0sVUFBVTtZQUFFVjtZQUFPQztZQUFRQztRQUFNO0lBQ25DO0FBQ0YsRUFBRTtBQUVLLE1BQU1TLG9CQUFvQixDQUFDQztJQUNoQyxNQUFNQyxjQUFjRCxPQUFPdEIsR0FBRyxDQUFDLENBQUN3QjtRQUM5QixNQUFNQyxXQUFXRCxNQUFNdEgsR0FBRyxHQUFHLENBQUMsRUFBRSxFQUFFc0gsTUFBTXRILEdBQUcsRUFBRSxHQUFHO1FBQ2hELElBQUkwRyxRQUFRWSxNQUFNM0csV0FBVztRQUU3QixJQUFJMkcsTUFBTUosUUFBUSxFQUFFVCxRQUFRO1lBQzFCLElBQUlhLE1BQU1KLFFBQVEsRUFBRVIsT0FBTztnQkFDekJBLFFBQVEsR0FBR1ksTUFBTUosUUFBUSxDQUFDVCxNQUFNLENBQUMsR0FBRyxFQUFFYSxNQUFNSixRQUFRLENBQUNSLEtBQUssRUFBRTtZQUM5RCxPQUFPLElBQUlBLE9BQU87Z0JBQ2hCQSxRQUFRLEdBQUdZLE1BQU1KLFFBQVEsQ0FBQ1QsTUFBTSxDQUFDLEdBQUcsRUFBRUMsT0FBTztZQUMvQztRQUNGLE9BQU8sSUFBSVksTUFBTUosUUFBUSxFQUFFUixPQUFPO1lBQ2hDQSxRQUFRWSxNQUFNSixRQUFRLENBQUNSLEtBQUs7UUFDOUI7UUFFQSxPQUFPYSxXQUNILENBQUMsUUFBUSxFQUFFRCxNQUFNVixRQUFRLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRUYsU0FBUyxLQUFLYSxVQUFVLEdBQzNEO0lBQ047SUFFQSxPQUFPLEdBQUc7UUFBQztXQUFjRixZQUFZRyxNQUFNLENBQUNDO0tBQVMsQ0FBQ0MsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ3RFLEVBQUU7QUFFRixNQUFNQyxxQkFBcUI7QUFFcEIsTUFBTUMscUJBQXFCLE9BQ2hDbkcsTUFDQW9HLFdBQ0FsSDtJQUVBLE1BQU0sRUFBRW1ILEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxHQUFHLEVBQUUsR0FBRyxNQUFNLDJRQUF5QjtJQUN6RCw2RUFBNkU7SUFDN0UsTUFBTUMsU0FBK0Q7UUFDbkUsUUFBUUg7UUFDUixRQUFRQztRQUNSLFFBQVFDO0lBQ1Y7SUFDQSxNQUFNWixTQUNKYSxNQUFNLENBQUNKLFVBQVUsRUFDYkssTUFBTXpHLE1BQ1ArRixPQUFPQyxTQUNQN0QsTUFBTSxHQUFHK0QsdUJBQXVCLEVBQUU7SUFFdkMsT0FBT1AsT0FBT3RCLEdBQUcsQ0FBQyxDQUFDLEVBQUVXLFNBQVMsRUFBRSxFQUFFTCxPQUFPLEVBQUUsRUFBRTNDLFNBQVMsQ0FBQyxFQUFFaUQsUUFBUSxFQUFFLEVBQUU7UUFDbkUsTUFBTSxDQUFDeUIsY0FBY0MsWUFBWSxHQUFHO1lBQUMzQixPQUFPNEIsSUFBSTtZQUFJM0IsTUFBTTJCLElBQUk7U0FBRztRQUVqRSxPQUFPO1lBQ0x6QixVQUFVMUYsS0FBS29ILEdBQUcsQ0FBQzdFLFFBQVE7WUFDM0J5RCxVQUFVO2dCQUNSVixPQUFPNEIsZUFBZXpIO2dCQUN0QjhGLFFBQVEwQjtnQkFDUnpCLE9BQU8wQjtZQUNUO1lBQ0FwSSxLQUFLb0c7UUFDUDtJQUNGO0FBQ0YsRUFBRTtBQU1GLE1BQU1tQyxjQUFjLENBQUNDLFNBQVMsRUFBRSxHQUM5QkEsT0FBT3ZJLE9BQU8sQ0FBQyxzQkFBc0I7QUFFdkMsTUFBTXdJLDZCQUErRDtJQUNuRSxjQUFjLENBQUN6SSxNQUFnQjtZQUM3QixNQUFNLEVBQUUwSSxRQUFRLEVBQUUsR0FBRyxJQUFJQyxJQUFJM0k7WUFDN0IsTUFBTSxDQUFDNEksUUFBUSxHQUFHRixTQUFTekksT0FBTyxDQUFDLEtBQUssSUFBSTRJLEtBQUssQ0FBQztZQUNsRCxNQUFNQyxjQUFjLE1BQU0sQ0FDeEIsTUFBTWpJLE1BQU0sQ0FBQyx5QkFBeUIsRUFBRStILFFBQVEsSUFBSSxDQUFDLEVBQUU7Z0JBQ3JERyxPQUFPO2dCQUNQQyxhQUFhO2dCQUNiQyxXQUFXO2dCQUNYQyxNQUFNO2dCQUNOQyxnQkFBZ0I7Z0JBQ2hCLDJDQUEyQztnQkFDM0NoSixRQUFRO1lBQ1YsRUFBQyxFQUNEaUosSUFBSTtZQUNOLE1BQU1DLFdBQVcsSUFBSUMsWUFDbEJDLGVBQWUsQ0FBQ1QsYUFBYSxtQkFDN0J2RCxhQUFhLENBQUM7WUFDakIsTUFBTWtCLFNBQVM0QyxVQUFVOUQsY0FBYyxXQUFXaUU7WUFDbEQsTUFBTTlDLFFBQVEyQyxVQUFVOUQsY0FBYyxVQUFVaUU7WUFFaEQsT0FBTztnQkFDTC9DLFFBQVE4QixZQUFZOUI7Z0JBQ3BCQyxPQUFPNkIsWUFBWTdCO1lBQ3JCO1FBQ0Y7QUFDRjtBQUVPLE1BQU0rQyxzQkFBc0IsQ0FBQ3pKO0lBQ2xDLE1BQU0sRUFBRTBKLElBQUksRUFBRSxHQUFHLElBQUlmLElBQUkzSTtJQUN6QixNQUFNLEdBQUcySixRQUFRQyxJQUFJLEdBQUdGLEtBQUtiLEtBQUssQ0FBQztJQUVuQyxPQUFPSiwwQkFBMEIsQ0FBQyxHQUFHa0IsT0FBTyxDQUFDLEVBQUVDLEtBQUssQ0FBQyxHQUFHNUo7QUFDMUQsRUFBRSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxVc2VyXFxEb2N1bWVudHNcXFNpdGVzXFxTaXRlc1xcZW0gZGVzZW52b2x2aW1lbnRvXFxQb3J0Zm9saW8yXFxjb21wb25lbnRzXFxhcHBzXFxXZWJhbXBcXGZ1bmN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIFRyYWNrLCB0eXBlIFVSTFRyYWNrIH0gZnJvbSBcIndlYmFtcFwiO1xyXG5pbXBvcnQgeyB0eXBlIFBvc2l0aW9uIH0gZnJvbSBcInJlYWN0LXJuZFwiO1xyXG5pbXBvcnQge1xyXG4gIHR5cGUgQnV0dGVyQ2h1cm5QcmVzZXRzLFxyXG4gIHR5cGUgQnV0dGVyQ2h1cm5XZWJhbXBQcmVzZXQsXHJcbiAgdHlwZSBTa2luRGF0YSxcclxuICB0eXBlIFdlYmFtcEFwaVJlc3BvbnNlLFxyXG4gIHR5cGUgV2ViYW1wQ0ksXHJcbn0gZnJvbSBcImNvbXBvbmVudHMvYXBwcy9XZWJhbXAvdHlwZXNcIjtcclxuaW1wb3J0IHsgY2VudGVyUG9zaXRpb24gfSBmcm9tIFwiY29tcG9uZW50cy9zeXN0ZW0vV2luZG93L2Z1bmN0aW9uc1wiO1xyXG5pbXBvcnQgeyBIT01FLCBNUDNfTUlNRV9UWVBFLCBQQUNLQUdFX0RBVEEgfSBmcm9tIFwidXRpbHMvY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IGJ1ZmZlclRvQmxvYiwgY2xlYW5VcEJ1ZmZlclVybCwgbG9hZEZpbGVzIH0gZnJvbSBcInV0aWxzL2Z1bmN0aW9uc1wiO1xyXG5cclxuY29uc3QgQlJPS0VOX1BSRVNFVFMgPSBuZXcgU2V0KFtcclxuICBcIkZsZXhpIC0gYWxpZW4gZmlzaCBwb25kXCIsXHJcbiAgXCJHZWlzcyAtIFNwaXJhbCBBcnRpZmFjdFwiLFxyXG5dKTtcclxuXHJcbmNvbnN0IFdFQkFNUF9TS0lOU19QQVRIID0gYCR7SE9NRX0vRG9jdW1lbnRzL1dpbmFtcCBTa2luc2A7XHJcblxyXG5jb25zdCBBTExPV1NfQ09SU19JTl9XSU5BTVBfU0tJTl9NVVNFVU0gPVxyXG4gIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiZcclxuICBbXCJsb2NhbGhvc3RcIiwgUEFDS0FHRV9EQVRBLmF1dGhvci51cmwucmVwbGFjZShcImh0dHBzOi8vXCIsIFwiXCIpXS5pbmNsdWRlcyhcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZVxyXG4gICk7XHJcblxyXG5jb25zdCBjcmVhdGVXZWJhbXBTa2luTXVzZXVtUXVlcnkgPSAob2Zmc2V0OiBudW1iZXIpOiBzdHJpbmcgPT4gYFxyXG4gIHF1ZXJ5IHtcclxuICAgIHNraW5zKGZpbHRlcjogQVBQUk9WRUQsIGZpcnN0OiAxLCBvZmZzZXQ6ICR7b2Zmc2V0fSkge1xyXG4gICAgICBub2RlcyB7XHJcbiAgICAgICAgZG93bmxvYWRfdXJsXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbmA7XHJcblxyXG5leHBvcnQgY29uc3QgQkFTRV9XRUJBTVBfT1BUSU9OUyA9IHtcclxuICBhdmFpbGFibGVTa2luczogW1xyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIkFxdWEgWFwiLFxyXG4gICAgICB1cmw6IGAke1dFQkFNUF9TS0lOU19QQVRIfS9BcXVhX1gud3N6YCxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiTnVjbGVvIE5Mb2cgdjJHXCIsXHJcbiAgICAgIHVybDogYCR7V0VCQU1QX1NLSU5TX1BBVEh9L051Y2xlb19OTG9nX3YxMDIud3N6YCxcclxuICAgIH0sXHJcbiAgICAuLi4oQUxMT1dTX0NPUlNfSU5fV0lOQU1QX1NLSU5fTVVTRVVNXHJcbiAgICAgID8gW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBkZWZhdWx0TmFtZTogXCJSYW5kb20gKFdpbmFtcCBTa2luIE11c2V1bSlcIixcclxuICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIGdldCBuYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgICAgaWYgKHRoaXMubG9hZGluZykgcmV0dXJuIHRoaXMuZGVmYXVsdE5hbWU7XHJcblxyXG4gICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgIGZldGNoKFwiaHR0cHM6Ly9hcGkud2ViYW1wLm9yZy9ncmFwaHFsXCIsIHtcclxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgICAgcXVlcnk6IGNyZWF0ZVdlYmFtcFNraW5NdXNldW1RdWVyeShcclxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKVxyXG4gICAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgfSkudGhlbihhc3luYyAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gKChhd2FpdCByZXNwb25zZS5qc29uKCkpIHx8XHJcbiAgICAgICAgICAgICAgICAgIHt9KSBhcyBXZWJhbXBBcGlSZXNwb25zZTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNraW5VcmwgPSBkYXRhPy5za2lucz8ubm9kZXM/LlswXT8uZG93bmxvYWRfdXJsIGFzIHN0cmluZztcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0TmFtZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2tpblVybDogXCJcIixcclxuICAgICAgICAgICAgZ2V0IHVybCgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLnNraW5VcmwgfHwgYCR7V0VCQU1QX1NLSU5TX1BBVEh9L2Jhc2UtMi45MS53c3pgO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICBdXHJcbiAgICAgIDogW10pLFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIlNweUFNUCBQcm9mZXNzaW9uYWwgRWRpdGlvbiB2NVwiLFxyXG4gICAgICB1cmw6IGAke1dFQkFNUF9TS0lOU19QQVRIfS9TcHlBTVBfUHJvZmVzc2lvbmFsX0VkaXRpb25fdjUud3N6YCxcclxuICAgIH0sXHJcbiAgXSxcclxufTtcclxuXHJcbmNvbnN0IEJBU0VfV0lORE9XX1NJWkUgPSB7XHJcbiAgaGVpZ2h0OiAxMTYsXHJcbiAgd2lkdGg6IDI3NSxcclxufTtcclxuXHJcbmNvbnN0IENPTlRBSU5FUl9XSU5ET1cgPSBcIiN3ZWJhbXBcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBNQUlOX1dJTkRPVyA9IFwiI21haW4td2luZG93XCI7XHJcblxyXG5leHBvcnQgY29uc3QgUExBWUxJU1RfV0lORE9XID0gXCIjcGxheWxpc3Qtd2luZG93XCI7XHJcblxyXG5leHBvcnQgY29uc3QgY2xlYW5CdWZmZXJPblNraW5Mb2FkID0gKFxyXG4gIHdlYmFtcDogV2ViYW1wQ0ksXHJcbiAgdXJsID0gXCJcIlxyXG4pOiBQcm9taXNlPHZvaWQ+ID0+XHJcbiAgd2ViYW1wLnNraW5Jc0xvYWRlZCgpLnRoZW4oKCkgPT4ge1xyXG4gICAgaWYgKHVybCkgY2xlYW5VcEJ1ZmZlclVybCh1cmwpO1xyXG4gIH0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNsb3NlRXF1YWxpemVyID0gKHdlYmFtcDogV2ViYW1wQ0kpOiB2b2lkID0+IHtcclxuICB3ZWJhbXAuc3RvcmUuZGlzcGF0Y2goe1xyXG4gICAgdHlwZTogXCJDTE9TRV9XSU5ET1dcIixcclxuICAgIHdpbmRvd0lkOiBcImVxdWFsaXplclwiLFxyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGVuYWJsZWRNaWxrZHJvcCA9ICh3ZWJhbXA6IFdlYmFtcENJKTogdm9pZCA9PiB7XHJcbiAgd2ViYW1wLnN0b3JlLmRpc3BhdGNoKHtcclxuICAgIG9wZW46IGZhbHNlLFxyXG4gICAgdHlwZTogXCJFTkFCTEVfTUlMS0RST1BcIixcclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzZXRTa2luRGF0YSA9ICh3ZWJhbXA6IFdlYmFtcENJLCBkYXRhOiBTa2luRGF0YSk6IHZvaWQgPT4ge1xyXG4gIHdlYmFtcC5zdG9yZS5kaXNwYXRjaCh7XHJcbiAgICBkYXRhLFxyXG4gICAgdHlwZTogXCJTRVRfU0tJTl9EQVRBXCIsXHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBsb2FkQnV0dGVyY2h1cm4gPSAod2ViYW1wOiBXZWJhbXBDSSwgYnV0dGVyY2h1cm46IHVua25vd24pOiB2b2lkID0+IHtcclxuICB3ZWJhbXAuc3RvcmUuZGlzcGF0Y2goe1xyXG4gICAgYnV0dGVyY2h1cm4sXHJcbiAgICB0eXBlOiBcIkdPVF9CVVRURVJDSFVSTlwiLFxyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgbG9hZEJ1dHRlcmNodXJuUHJlc2V0cyA9IChcclxuICB3ZWJhbXA6IFdlYmFtcENJLFxyXG4gIHByZXNldHM6IEJ1dHRlckNodXJuV2ViYW1wUHJlc2V0W11cclxuKTogdm9pZCA9PlxyXG4gIHdlYmFtcC5zdG9yZS5kaXNwYXRjaCh7XHJcbiAgICBwcmVzZXRzLFxyXG4gICAgdHlwZTogXCJHT1RfQlVUVEVSQ0hVUk5fUFJFU0VUU1wiLFxyXG4gIH0pO1xyXG5cclxuY29uc3QgZ2V0QnV0dGVyY2h1cm5QcmVzZXRJbmRleCA9ICh3ZWJhbXA6IFdlYmFtcENJKTogbnVtYmVyID0+IHtcclxuICBjb25zdCB7IHByZXNldEhpc3RvcnkgPSBbXSwgcHJlc2V0cyA9IFtdIH0gPVxyXG4gICAgd2ViYW1wLnN0b3JlLmdldFN0YXRlKCk/Lm1pbGtkcm9wIHx8IHt9O1xyXG4gIGNvbnN0IGluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcHJlc2V0cy5sZW5ndGgpO1xyXG4gIGNvbnN0IHByZXNldCA9IHByZXNldHNbaW5kZXhdO1xyXG5cclxuICByZXR1cm4gcHJlc2V0Lm5hbWUgJiZcclxuICAgICFCUk9LRU5fUFJFU0VUUy5oYXMocHJlc2V0Lm5hbWUpICYmXHJcbiAgICAhcHJlc2V0SGlzdG9yeS5zbGljZSgtNSkuaW5jbHVkZXMoaW5kZXgpXHJcbiAgICA/IGluZGV4XHJcbiAgICA6IGdldEJ1dHRlcmNodXJuUHJlc2V0SW5kZXgod2ViYW1wKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBsb2FkQnV0dGVyY2h1cm5QcmVzZXQgPSAod2ViYW1wOiBXZWJhbXBDSSk6IHZvaWQgPT4ge1xyXG4gIGNvbnN0IGluZGV4ID0gZ2V0QnV0dGVyY2h1cm5QcmVzZXRJbmRleCh3ZWJhbXApO1xyXG5cclxuICB3ZWJhbXAuc3RvcmUuZGlzcGF0Y2goe1xyXG4gICAgYWRkVG9IaXN0b3J5OiB0cnVlLFxyXG4gICAgaW5kZXgsXHJcbiAgICB0eXBlOiBcIlBSRVNFVF9SRVFVRVNURURcIixcclxuICB9KTtcclxuICB3ZWJhbXAuc3RvcmUuZGlzcGF0Y2goe1xyXG4gICAgaW5kZXgsXHJcbiAgICB0eXBlOiBcIlNFTEVDVF9QUkVTRVRfQVRfSU5ERVhcIixcclxuICB9KTtcclxufTtcclxuXHJcbmxldCBjeWNsZVRpbWVySWQgPSAwO1xyXG5cclxuY29uc3QgY3ljbGVCdXR0ZXJjaHVyblByZXNldHMgPSAod2ViYW1wOiBXZWJhbXBDSSk6IHZvaWQgPT4ge1xyXG4gIHdpbmRvdy5jbGVhckludGVydmFsKGN5Y2xlVGltZXJJZCk7XHJcbiAgY3ljbGVUaW1lcklkID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHtcclxuICAgIGlmICghd2ViYW1wKSB3aW5kb3cuY2xlYXJJbnRlcnZhbChjeWNsZVRpbWVySWQpO1xyXG5cclxuICAgIGxvYWRCdXR0ZXJjaHVyblByZXNldCh3ZWJhbXApO1xyXG4gIH0sIDIwMDAwKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBsb2FkTWlsa2Ryb3BXaGVuTmVlZGVkID0gKHdlYmFtcDogV2ViYW1wQ0kpOiB2b2lkID0+IHtcclxuICBjb25zdCB1bnN1YnNjcmliZSA9IHdlYmFtcC5zdG9yZS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgY29uc3QgeyBtaWxrZHJvcCwgd2luZG93cyB9ID0gd2ViYW1wLnN0b3JlLmdldFN0YXRlKCk7XHJcblxyXG4gICAgaWYgKHdpbmRvd3M/LmdlbldpbmRvd3M/Lm1pbGtkcm9wPy5vcGVuICYmICFtaWxrZHJvcD8uYnV0dGVyY2h1cm4pIHtcclxuICAgICAgbG9hZEZpbGVzKFtcIi9Qcm9ncmFtIEZpbGVzL1dlYmFtcC9idXR0ZXJjaHVybi5taW4uanNcIl0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGlmICghd2luZG93LmJ1dHRlcmNodXJuPy5kZWZhdWx0KSByZXR1cm47XHJcblxyXG4gICAgICAgIGxvYWRCdXR0ZXJjaHVybih3ZWJhbXAsIHdpbmRvdy5idXR0ZXJjaHVybi5kZWZhdWx0KTtcclxuXHJcbiAgICAgICAgY29uc3QgeyBwbGF5bGlzdCwgbWFpbjogbWFpbldpbmRvdyB9ID0gd2luZG93cy5nZW5XaW5kb3dzIHx8IHt9O1xyXG4gICAgICAgIGNvbnN0IHsgeCA9IDAsIHkgPSAwIH0gPVxyXG4gICAgICAgICAgKHBsYXlsaXN0Py5vcGVuID8gcGxheWxpc3Q/LnBvc2l0aW9uIDogbWFpbldpbmRvdz8ucG9zaXRpb24pIHx8IHt9O1xyXG5cclxuICAgICAgICB3ZWJhbXAuc3RvcmUuZGlzcGF0Y2goe1xyXG4gICAgICAgICAgcG9zaXRpb25zOiB7XHJcbiAgICAgICAgICAgIG1pbGtkcm9wOiB7XHJcbiAgICAgICAgICAgICAgeCxcclxuICAgICAgICAgICAgICB5OiB5ICsgQkFTRV9XSU5ET1dfU0laRS5oZWlnaHQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgdHlwZTogXCJVUERBVEVfV0lORE9XX1BPU0lUSU9OU1wiLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB1bnN1YnNjcmliZSgpO1xyXG5cclxuICAgICAgICB3ZWJhbXAuc3RvcmUuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICAgIGNvbnN0IHdlYmFtcERlc2t0b3AgPSBbLi4uZG9jdW1lbnQuYm9keS5jaGlsZHJlbl0uZmluZCgobm9kZSkgPT5cclxuICAgICAgICAgICAgbm9kZS5jbGFzc0xpc3Q/LmNvbnRhaW5zKFwid2ViYW1wLWRlc2t0b3BcIilcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgaWYgKHdlYmFtcERlc2t0b3ApIHtcclxuICAgICAgICAgICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJtYWluXCIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG1haW4pIHtcclxuICAgICAgICAgICAgICBbLi4ubWFpbi5jaGlsZHJlbl0uZm9yRWFjaCgobm9kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuY2xhc3NMaXN0Py5jb250YWlucyhcIndlYmFtcC1kZXNrdG9wXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgbWFpbi5hcHBlbmQod2ViYW1wRGVza3RvcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaW1wb3J0KFwiYnV0dGVyY2h1cm4tcHJlc2V0c1wiKS50aGVuKCh7IGRlZmF1bHQ6IHByZXNldHMgfSkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgcmVzb2x2ZWRQcmVzZXRzOiBCdXR0ZXJDaHVybldlYmFtcFByZXNldFtdID0gT2JqZWN0LmVudHJpZXMoXHJcbiAgICAgICAgICAgIHByZXNldHMgYXMgQnV0dGVyQ2h1cm5QcmVzZXRzXHJcbiAgICAgICAgICApLm1hcCgoW25hbWUsIHByZXNldF0pID0+ICh7XHJcbiAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgIHByZXNldCxcclxuICAgICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgICBsb2FkQnV0dGVyY2h1cm5QcmVzZXRzKHdlYmFtcCwgcmVzb2x2ZWRQcmVzZXRzKTtcclxuICAgICAgICAgIGxvYWRCdXR0ZXJjaHVyblByZXNldCh3ZWJhbXApO1xyXG4gICAgICAgICAgY3ljbGVCdXR0ZXJjaHVyblByZXNldHMod2ViYW1wKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0V2ViYW1wRWxlbWVudCA9ICgpOiBIVE1MRGl2RWxlbWVudCB8IG51bGwgPT5cclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PihDT05UQUlORVJfV0lORE9XKTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVXZWJhbXBQb3NpdGlvbiA9IChcclxuICB3ZWJhbXA6IFdlYmFtcENJLFxyXG4gIHBvc2l0aW9uPzogUG9zaXRpb25cclxuKTogdm9pZCA9PiB7XHJcbiAgY29uc3QgeyBoZWlnaHQsIHdpZHRoIH0gPSBCQVNFX1dJTkRPV19TSVpFO1xyXG4gIGNvbnN0IHsgeCwgeSB9ID0gcG9zaXRpb24gfHwgY2VudGVyUG9zaXRpb24oeyBoZWlnaHQ6IGhlaWdodCAqIDIsIHdpZHRoIH0pO1xyXG5cclxuICB3ZWJhbXAuc3RvcmUuZGlzcGF0Y2goe1xyXG4gICAgcG9zaXRpb25zOiB7XHJcbiAgICAgIG1haW46IHsgeCwgeSB9LFxyXG4gICAgICBtaWxrZHJvcDogeyB4OiAwIC0gd2lkdGgsIHk6IDAgLSBoZWlnaHQgfSxcclxuICAgICAgcGxheWxpc3Q6IHsgeCwgeTogaGVpZ2h0ICsgeSB9LFxyXG4gICAgfSxcclxuICAgIHR5cGU6IFwiVVBEQVRFX1dJTkRPV19QT1NJVElPTlNcIixcclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBmb2N1c1dpbmRvdyA9ICh3ZWJhbXA6IFdlYmFtcENJLCB3aW5kb3c6IHN0cmluZyk6IHZvaWQgPT5cclxuICB3ZWJhbXAuc3RvcmUuZGlzcGF0Y2goe1xyXG4gICAgdHlwZTogXCJTRVRfRk9DVVNFRF9XSU5ET1dcIixcclxuICAgIHdpbmRvdyxcclxuICB9KTtcclxuXHJcbmV4cG9ydCBjb25zdCB1bkZvY3VzID0gKHdlYmFtcDogV2ViYW1wQ0kpOiB2b2lkID0+XHJcbiAgd2ViYW1wLnN0b3JlLmRpc3BhdGNoKHtcclxuICAgIHR5cGU6IFwiU0VUX0ZPQ1VTRURfV0lORE9XXCIsXHJcbiAgICB3aW5kb3c6IFwiXCIsXHJcbiAgfSk7XHJcblxyXG5leHBvcnQgY29uc3QgcGFyc2VUcmFjayA9IGFzeW5jIChcclxuICBmaWxlOiBCdWZmZXIsXHJcbiAgZmlsZU5hbWU6IHN0cmluZ1xyXG4pOiBQcm9taXNlPFRyYWNrPiA9PiB7XHJcbiAgY29uc3QgeyBwYXJzZUJ1ZmZlciB9ID0gYXdhaXQgaW1wb3J0KFwibXVzaWMtbWV0YWRhdGEtYnJvd3NlclwiKTtcclxuICBjb25zdCB7XHJcbiAgICBjb21tb246IHsgYWxidW0gPSBcIlwiLCBhcnRpc3QgPSBcIlwiLCB0aXRsZSA9IGZpbGVOYW1lIH0sXHJcbiAgICBmb3JtYXQ6IHsgZHVyYXRpb24gPSAwIH0sXHJcbiAgfSA9IGF3YWl0IHBhcnNlQnVmZmVyKFxyXG4gICAgZmlsZSxcclxuICAgIHtcclxuICAgICAgbWltZVR5cGU6IE1QM19NSU1FX1RZUEUsXHJcbiAgICAgIHNpemU6IGZpbGUubGVuZ3RoLFxyXG4gICAgfSxcclxuICAgIHsgZHVyYXRpb246IHRydWUsIHNraXBDb3ZlcnM6IHRydWUsIHNraXBQb3N0SGVhZGVyczogdHJ1ZSB9XHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGJsb2I6IGJ1ZmZlclRvQmxvYihmaWxlLCBcImF1ZGlvL21wZWdcIiksXHJcbiAgICBkdXJhdGlvbjogTWF0aC5mbG9vcihkdXJhdGlvbiksXHJcbiAgICBtZXRhRGF0YTogeyBhbGJ1bSwgYXJ0aXN0LCB0aXRsZSB9LFxyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlTTN1UGxheWxpc3QgPSAodHJhY2tzOiBVUkxUcmFja1tdKTogc3RyaW5nID0+IHtcclxuICBjb25zdCBtM3VQbGF5bGlzdCA9IHRyYWNrcy5tYXAoKHRyYWNrKTogc3RyaW5nID0+IHtcclxuICAgIGNvbnN0IHRyYWNrVXJsID0gdHJhY2sudXJsID8gYFxcbiR7dHJhY2sudXJsfWAgOiBcIlwiO1xyXG4gICAgbGV0IHRpdGxlID0gdHJhY2suZGVmYXVsdE5hbWU7XHJcblxyXG4gICAgaWYgKHRyYWNrLm1ldGFEYXRhPy5hcnRpc3QpIHtcclxuICAgICAgaWYgKHRyYWNrLm1ldGFEYXRhPy50aXRsZSkge1xyXG4gICAgICAgIHRpdGxlID0gYCR7dHJhY2subWV0YURhdGEuYXJ0aXN0fSAtICR7dHJhY2subWV0YURhdGEudGl0bGV9YDtcclxuICAgICAgfSBlbHNlIGlmICh0aXRsZSkge1xyXG4gICAgICAgIHRpdGxlID0gYCR7dHJhY2subWV0YURhdGEuYXJ0aXN0fSAtICR7dGl0bGV9YDtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0cmFjay5tZXRhRGF0YT8udGl0bGUpIHtcclxuICAgICAgdGl0bGUgPSB0cmFjay5tZXRhRGF0YS50aXRsZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJhY2tVcmxcclxuICAgICAgPyBgI0VYVElORjoke3RyYWNrLmR1cmF0aW9uID8/IC0xfSwke3RpdGxlIHx8IFwiXCJ9JHt0cmFja1VybH1gXHJcbiAgICAgIDogXCJcIjtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGAke1tcIiNFWFRNM1VcIiwgLi4ubTN1UGxheWxpc3QuZmlsdGVyKEJvb2xlYW4pXS5qb2luKFwiXFxuXCIpfVxcbmA7XHJcbn07XHJcblxyXG5jb25zdCBNQVhfUExBWUxJU1RfSVRFTVMgPSAxMDAwO1xyXG5cclxuZXhwb3J0IGNvbnN0IHRyYWNrc0Zyb21QbGF5bGlzdCA9IGFzeW5jIChcclxuICBkYXRhOiBzdHJpbmcsXHJcbiAgZXh0ZW5zaW9uOiBzdHJpbmcsXHJcbiAgZGVmYXVsdE5hbWU/OiBzdHJpbmdcclxuKTogUHJvbWlzZTxUcmFja1tdPiA9PiB7XHJcbiAgY29uc3QgeyBBU1gsIE0zVSwgUExTIH0gPSBhd2FpdCBpbXBvcnQoXCJwbGF5bGlzdC1wYXJzZXJcIik7XHJcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1kdXBsaWNhdGUtdHlwZS1jb25zdGl0dWVudHNcclxuICBjb25zdCBwYXJzZXI6IFJlY29yZDxzdHJpbmcsIHR5cGVvZiBBU1ggfCB0eXBlb2YgTTNVIHwgdHlwZW9mIFBMUz4gPSB7XHJcbiAgICBcIi5hc3hcIjogQVNYLFxyXG4gICAgXCIubTN1XCI6IE0zVSxcclxuICAgIFwiLnBsc1wiOiBQTFMsXHJcbiAgfTtcclxuICBjb25zdCB0cmFja3MgPVxyXG4gICAgcGFyc2VyW2V4dGVuc2lvbl1cclxuICAgICAgPy5wYXJzZShkYXRhKVxyXG4gICAgICAuZmlsdGVyKEJvb2xlYW4pXHJcbiAgICAgIC5zbGljZSgwLCBNQVhfUExBWUxJU1RfSVRFTVMpID8/IFtdO1xyXG5cclxuICByZXR1cm4gdHJhY2tzLm1hcCgoeyBhcnRpc3QgPSBcIlwiLCBmaWxlID0gXCJcIiwgbGVuZ3RoID0gMCwgdGl0bGUgPSBcIlwiIH0pID0+IHtcclxuICAgIGNvbnN0IFtwYXJzZWRBcnRpc3QsIHBhcnNlZFRpdGxlXSA9IFthcnRpc3QudHJpbSgpLCB0aXRsZS50cmltKCldO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGR1cmF0aW9uOiBNYXRoLm1heChsZW5ndGgsIDApLFxyXG4gICAgICBtZXRhRGF0YToge1xyXG4gICAgICAgIGFsYnVtOiBwYXJzZWRUaXRsZSB8fCBkZWZhdWx0TmFtZSxcclxuICAgICAgICBhcnRpc3Q6IHBhcnNlZEFydGlzdCxcclxuICAgICAgICB0aXRsZTogcGFyc2VkVGl0bGUsXHJcbiAgICAgIH0sXHJcbiAgICAgIHVybDogZmlsZSxcclxuICAgIH07XHJcbiAgfSk7XHJcbn07XHJcblxyXG50eXBlIE1ldGFkYXRhR2V0dGVyID0gKCkgPT4gUHJvbWlzZTxUcmFja1tcIm1ldGFEYXRhXCJdPjtcclxuXHJcbnR5cGUgTWV0YWRhdGFQcm92aWRlciA9ICh1cmw6IHN0cmluZykgPT4gTWV0YWRhdGFHZXR0ZXI7XHJcblxyXG5jb25zdCByZW1vdmVDRGF0YSA9IChzdHJpbmcgPSBcIlwiKTogc3RyaW5nID0+XHJcbiAgc3RyaW5nLnJlcGxhY2UoLzwhXFxbQ0RBVEFcXFt8XFxdXFxdPi9nLCBcIlwiKTtcclxuXHJcbmNvbnN0IHN0cmVhbWluZ01ldGFkYXRhUHJvdmlkZXJzOiBSZWNvcmQ8c3RyaW5nLCBNZXRhZGF0YVByb3ZpZGVyPiA9IHtcclxuICBcInNvbWFmbS5jb21cIjogKHVybDogc3RyaW5nKSA9PiBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB7IHBhdGhuYW1lIH0gPSBuZXcgVVJMKHVybCk7XHJcbiAgICBjb25zdCBbY2hhbm5lbF0gPSBwYXRobmFtZS5yZXBsYWNlKFwiL1wiLCBcIlwiKS5zcGxpdChcIi1cIik7XHJcbiAgICBjb25zdCB4bWxQbGF5bGlzdCA9IGF3YWl0IChcclxuICAgICAgYXdhaXQgZmV0Y2goYGh0dHBzOi8vc29tYWZtLmNvbS9zb25ncy8ke2NoYW5uZWx9LnhtbGAsIHtcclxuICAgICAgICBjYWNoZTogXCJuby1jYWNoZVwiLFxyXG4gICAgICAgIGNyZWRlbnRpYWxzOiBcIm9taXRcIixcclxuICAgICAgICBrZWVwYWxpdmU6IGZhbHNlLFxyXG4gICAgICAgIG1vZGU6IFwiY29yc1wiLFxyXG4gICAgICAgIHJlZmVycmVyUG9saWN5OiBcIm5vLXJlZmVycmVyXCIsXHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vbm8tbnVsbFxyXG4gICAgICAgIHdpbmRvdzogbnVsbCxcclxuICAgICAgfSlcclxuICAgICkudGV4dCgpO1xyXG4gICAgY29uc3Qgc29uZ05vZGUgPSBuZXcgRE9NUGFyc2VyKClcclxuICAgICAgLnBhcnNlRnJvbVN0cmluZyh4bWxQbGF5bGlzdCwgXCJhcHBsaWNhdGlvbi94bWxcIilcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCJzb25nXCIpO1xyXG4gICAgY29uc3QgYXJ0aXN0ID0gc29uZ05vZGU/LnF1ZXJ5U2VsZWN0b3IoXCJhcnRpc3RcIik/LmlubmVySFRNTDtcclxuICAgIGNvbnN0IHRpdGxlID0gc29uZ05vZGU/LnF1ZXJ5U2VsZWN0b3IoXCJ0aXRsZVwiKT8uaW5uZXJIVE1MO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGFydGlzdDogcmVtb3ZlQ0RhdGEoYXJ0aXN0KSxcclxuICAgICAgdGl0bGU6IHJlbW92ZUNEYXRhKHRpdGxlKSxcclxuICAgIH07XHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRNZXRhZGF0YVByb3ZpZGVyID0gKHVybDogc3RyaW5nKTogTWV0YWRhdGFHZXR0ZXIgfCB2b2lkID0+IHtcclxuICBjb25zdCB7IGhvc3QgfSA9IG5ldyBVUkwodXJsKTtcclxuICBjb25zdCBbLCBkb21haW4sIHRsZF0gPSBob3N0LnNwbGl0KFwiLlwiKTtcclxuXHJcbiAgcmV0dXJuIHN0cmVhbWluZ01ldGFkYXRhUHJvdmlkZXJzW2Ake2RvbWFpbn0uJHt0bGR9YF0/Lih1cmwpO1xyXG59O1xyXG4iXSwibmFtZXMiOlsiY2VudGVyUG9zaXRpb24iLCJIT01FIiwiTVAzX01JTUVfVFlQRSIsIlBBQ0tBR0VfREFUQSIsImJ1ZmZlclRvQmxvYiIsImNsZWFuVXBCdWZmZXJVcmwiLCJsb2FkRmlsZXMiLCJCUk9LRU5fUFJFU0VUUyIsIlNldCIsIldFQkFNUF9TS0lOU19QQVRIIiwiQUxMT1dTX0NPUlNfSU5fV0lOQU1QX1NLSU5fTVVTRVVNIiwiYXV0aG9yIiwidXJsIiwicmVwbGFjZSIsImluY2x1ZGVzIiwid2luZG93IiwibG9jYXRpb24iLCJob3N0bmFtZSIsImNyZWF0ZVdlYmFtcFNraW5NdXNldW1RdWVyeSIsIm9mZnNldCIsIkJBU0VfV0VCQU1QX09QVElPTlMiLCJhdmFpbGFibGVTa2lucyIsIm5hbWUiLCJkZWZhdWx0TmFtZSIsImxvYWRpbmciLCJmZXRjaCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicXVlcnkiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJoZWFkZXJzIiwibWV0aG9kIiwidGhlbiIsInJlc3BvbnNlIiwiZGF0YSIsImpzb24iLCJza2luVXJsIiwic2tpbnMiLCJub2RlcyIsImRvd25sb2FkX3VybCIsIkJBU0VfV0lORE9XX1NJWkUiLCJoZWlnaHQiLCJ3aWR0aCIsIkNPTlRBSU5FUl9XSU5ET1ciLCJNQUlOX1dJTkRPVyIsIlBMQVlMSVNUX1dJTkRPVyIsImNsZWFuQnVmZmVyT25Ta2luTG9hZCIsIndlYmFtcCIsInNraW5Jc0xvYWRlZCIsImNsb3NlRXF1YWxpemVyIiwic3RvcmUiLCJkaXNwYXRjaCIsInR5cGUiLCJ3aW5kb3dJZCIsImVuYWJsZWRNaWxrZHJvcCIsIm9wZW4iLCJzZXRTa2luRGF0YSIsImxvYWRCdXR0ZXJjaHVybiIsImJ1dHRlcmNodXJuIiwibG9hZEJ1dHRlcmNodXJuUHJlc2V0cyIsInByZXNldHMiLCJnZXRCdXR0ZXJjaHVyblByZXNldEluZGV4IiwicHJlc2V0SGlzdG9yeSIsImdldFN0YXRlIiwibWlsa2Ryb3AiLCJpbmRleCIsImxlbmd0aCIsInByZXNldCIsImhhcyIsInNsaWNlIiwibG9hZEJ1dHRlcmNodXJuUHJlc2V0IiwiYWRkVG9IaXN0b3J5IiwiY3ljbGVUaW1lcklkIiwiY3ljbGVCdXR0ZXJjaHVyblByZXNldHMiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJsb2FkTWlsa2Ryb3BXaGVuTmVlZGVkIiwidW5zdWJzY3JpYmUiLCJzdWJzY3JpYmUiLCJ3aW5kb3dzIiwiZ2VuV2luZG93cyIsImRlZmF1bHQiLCJwbGF5bGlzdCIsIm1haW4iLCJtYWluV2luZG93IiwieCIsInkiLCJwb3NpdGlvbiIsInBvc2l0aW9ucyIsIndlYmFtcERlc2t0b3AiLCJkb2N1bWVudCIsImNoaWxkcmVuIiwiZmluZCIsIm5vZGUiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInF1ZXJ5U2VsZWN0b3IiLCJmb3JFYWNoIiwicmVtb3ZlIiwiYXBwZW5kIiwicmVzb2x2ZWRQcmVzZXRzIiwiT2JqZWN0IiwiZW50cmllcyIsIm1hcCIsImdldFdlYmFtcEVsZW1lbnQiLCJ1cGRhdGVXZWJhbXBQb3NpdGlvbiIsImZvY3VzV2luZG93IiwidW5Gb2N1cyIsInBhcnNlVHJhY2siLCJmaWxlIiwiZmlsZU5hbWUiLCJwYXJzZUJ1ZmZlciIsImNvbW1vbiIsImFsYnVtIiwiYXJ0aXN0IiwidGl0bGUiLCJmb3JtYXQiLCJkdXJhdGlvbiIsIm1pbWVUeXBlIiwic2l6ZSIsInNraXBDb3ZlcnMiLCJza2lwUG9zdEhlYWRlcnMiLCJibG9iIiwibWV0YURhdGEiLCJjcmVhdGVNM3VQbGF5bGlzdCIsInRyYWNrcyIsIm0zdVBsYXlsaXN0IiwidHJhY2siLCJ0cmFja1VybCIsImZpbHRlciIsIkJvb2xlYW4iLCJqb2luIiwiTUFYX1BMQVlMSVNUX0lURU1TIiwidHJhY2tzRnJvbVBsYXlsaXN0IiwiZXh0ZW5zaW9uIiwiQVNYIiwiTTNVIiwiUExTIiwicGFyc2VyIiwicGFyc2UiLCJwYXJzZWRBcnRpc3QiLCJwYXJzZWRUaXRsZSIsInRyaW0iLCJtYXgiLCJyZW1vdmVDRGF0YSIsInN0cmluZyIsInN0cmVhbWluZ01ldGFkYXRhUHJvdmlkZXJzIiwicGF0aG5hbWUiLCJVUkwiLCJjaGFubmVsIiwic3BsaXQiLCJ4bWxQbGF5bGlzdCIsImNhY2hlIiwiY3JlZGVudGlhbHMiLCJrZWVwYWxpdmUiLCJtb2RlIiwicmVmZXJyZXJQb2xpY3kiLCJ0ZXh0Iiwic29uZ05vZGUiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJpbm5lckhUTUwiLCJnZXRNZXRhZGF0YVByb3ZpZGVyIiwiaG9zdCIsImRvbWFpbiIsInRsZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./components/apps/Webamp/functions.ts\n"));

/***/ }),

/***/ "(pages-dir-browser)/./components/system/Window/RndWindow/rndDefaults.ts":
/*!***********************************************************!*\
  !*** ./components/system/Window/RndWindow/rndDefaults.ts ***!
  \***********************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MIN_WINDOW_HEIGHT: () => (/* binding */ MIN_WINDOW_HEIGHT),\n/* harmony export */   MIN_WINDOW_WIDTH: () => (/* binding */ MIN_WINDOW_WIDTH),\n/* harmony export */   RESIZING_DISABLED: () => (/* binding */ RESIZING_DISABLED),\n/* harmony export */   RESIZING_ENABLED: () => (/* binding */ RESIZING_ENABLED),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst RESIZING_DISABLED = {\n    bottom: false,\n    bottomLeft: false,\n    bottomRight: false,\n    left: false,\n    right: false,\n    top: false,\n    topLeft: false,\n    topRight: false\n};\nconst RESIZING_ENABLED = {\n    bottom: true,\n    bottomLeft: true,\n    bottomRight: true,\n    left: true,\n    right: true,\n    top: true,\n    topLeft: true,\n    topRight: true\n};\nconst MIN_WINDOW_HEIGHT = 30;\nconst MIN_WINDOW_WIDTH = 166;\nconst rndDefaults = {\n    cancel: \".cancel\",\n    dragHandleClassName: \"handle\",\n    enableUserSelectHack: false,\n    minHeight: `${MIN_WINDOW_HEIGHT}px`,\n    minWidth: `${MIN_WINDOW_WIDTH}px`,\n    resizeHandleStyles: {\n        bottom: {\n            bottom: \"-3px\",\n            cursor: \"ns-resize\",\n            height: \"6px\"\n        },\n        bottomLeft: {\n            bottom: \"-3px\",\n            cursor: \"nesw-resize\",\n            height: \"12px\",\n            left: \"-3px\",\n            width: \"12px\"\n        },\n        bottomRight: {\n            bottom: \"-3px\",\n            cursor: \"nwse-resize\",\n            height: \"12px\",\n            right: \"-3px\",\n            width: \"12px\"\n        },\n        left: {\n            cursor: \"ew-resize\",\n            left: \"-3px\",\n            width: \"6px\"\n        },\n        right: {\n            cursor: \"ew-resize\",\n            right: \"-3px\",\n            width: \"6px\"\n        },\n        top: {\n            cursor: \"ns-resize\",\n            height: \"6px\",\n            top: \"-3px\"\n        },\n        topLeft: {\n            cursor: \"nwse-resize\",\n            height: \"12px\",\n            left: \"-3px\",\n            top: \"-3px\",\n            width: \"12px\"\n        },\n        topRight: {\n            cursor: \"nesw-resize\",\n            height: \"12px\",\n            right: \"-3px\",\n            top: \"-3px\",\n            width: \"12px\"\n        }\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (rndDefaults);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL2NvbXBvbmVudHMvc3lzdGVtL1dpbmRvdy9SbmRXaW5kb3cvcm5kRGVmYXVsdHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFTyxNQUFNQSxvQkFBb0I7SUFDL0JDLFFBQVE7SUFDUkMsWUFBWTtJQUNaQyxhQUFhO0lBQ2JDLE1BQU07SUFDTkMsT0FBTztJQUNQQyxLQUFLO0lBQ0xDLFNBQVM7SUFDVEMsVUFBVTtBQUNaLEVBQUU7QUFFSyxNQUFNQyxtQkFBbUI7SUFDOUJSLFFBQVE7SUFDUkMsWUFBWTtJQUNaQyxhQUFhO0lBQ2JDLE1BQU07SUFDTkMsT0FBTztJQUNQQyxLQUFLO0lBQ0xDLFNBQVM7SUFDVEMsVUFBVTtBQUNaLEVBQUU7QUFFSyxNQUFNRSxvQkFBb0IsR0FBRztBQUM3QixNQUFNQyxtQkFBbUIsSUFBSTtBQUVwQyxNQUFNQyxjQUFjO0lBQ2xCQyxRQUFRO0lBQ1JDLHFCQUFxQjtJQUNyQkMsc0JBQXNCO0lBQ3RCQyxXQUFXLEdBQUdOLGtCQUFrQixFQUFFLENBQUM7SUFDbkNPLFVBQVUsR0FBR04saUJBQWlCLEVBQUUsQ0FBQztJQUNqQ08sb0JBQW9CO1FBQ2xCakIsUUFBUTtZQUNOQSxRQUFRO1lBQ1JrQixRQUFRO1lBQ1JDLFFBQVE7UUFDVjtRQUNBbEIsWUFBWTtZQUNWRCxRQUFRO1lBQ1JrQixRQUFRO1lBQ1JDLFFBQVE7WUFDUmhCLE1BQU07WUFDTmlCLE9BQU87UUFDVDtRQUNBbEIsYUFBYTtZQUNYRixRQUFRO1lBQ1JrQixRQUFRO1lBQ1JDLFFBQVE7WUFDUmYsT0FBTztZQUNQZ0IsT0FBTztRQUNUO1FBQ0FqQixNQUFNO1lBQ0plLFFBQVE7WUFDUmYsTUFBTTtZQUNOaUIsT0FBTztRQUNUO1FBQ0FoQixPQUFPO1lBQ0xjLFFBQVE7WUFDUmQsT0FBTztZQUNQZ0IsT0FBTztRQUNUO1FBQ0FmLEtBQUs7WUFDSGEsUUFBUTtZQUNSQyxRQUFRO1lBQ1JkLEtBQUs7UUFDUDtRQUNBQyxTQUFTO1lBQ1BZLFFBQVE7WUFDUkMsUUFBUTtZQUNSaEIsTUFBTTtZQUNORSxLQUFLO1lBQ0xlLE9BQU87UUFDVDtRQUNBYixVQUFVO1lBQ1JXLFFBQVE7WUFDUkMsUUFBUTtZQUNSZixPQUFPO1lBQ1BDLEtBQUs7WUFDTGUsT0FBTztRQUNUO0lBQ0Y7QUFDRjtBQUVBLGlFQUFlVCxXQUFXQSxFQUFDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFVzZXJcXERvY3VtZW50c1xcU2l0ZXNcXFNpdGVzXFxlbSBkZXNlbnZvbHZpbWVudG9cXFBvcnRmb2xpbzJcXGNvbXBvbmVudHNcXHN5c3RlbVxcV2luZG93XFxSbmRXaW5kb3dcXHJuZERlZmF1bHRzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHR5cGUgSGFuZGxlU3R5bGVzIH0gZnJvbSBcInJlYWN0LXJuZFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFJFU0laSU5HX0RJU0FCTEVEID0ge1xyXG4gIGJvdHRvbTogZmFsc2UsXHJcbiAgYm90dG9tTGVmdDogZmFsc2UsXHJcbiAgYm90dG9tUmlnaHQ6IGZhbHNlLFxyXG4gIGxlZnQ6IGZhbHNlLFxyXG4gIHJpZ2h0OiBmYWxzZSxcclxuICB0b3A6IGZhbHNlLFxyXG4gIHRvcExlZnQ6IGZhbHNlLFxyXG4gIHRvcFJpZ2h0OiBmYWxzZSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBSRVNJWklOR19FTkFCTEVEID0ge1xyXG4gIGJvdHRvbTogdHJ1ZSxcclxuICBib3R0b21MZWZ0OiB0cnVlLFxyXG4gIGJvdHRvbVJpZ2h0OiB0cnVlLFxyXG4gIGxlZnQ6IHRydWUsXHJcbiAgcmlnaHQ6IHRydWUsXHJcbiAgdG9wOiB0cnVlLFxyXG4gIHRvcExlZnQ6IHRydWUsXHJcbiAgdG9wUmlnaHQ6IHRydWUsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgTUlOX1dJTkRPV19IRUlHSFQgPSAzMDtcclxuZXhwb3J0IGNvbnN0IE1JTl9XSU5ET1dfV0lEVEggPSAxNjY7XHJcblxyXG5jb25zdCBybmREZWZhdWx0cyA9IHtcclxuICBjYW5jZWw6IFwiLmNhbmNlbFwiLFxyXG4gIGRyYWdIYW5kbGVDbGFzc05hbWU6IFwiaGFuZGxlXCIsXHJcbiAgZW5hYmxlVXNlclNlbGVjdEhhY2s6IGZhbHNlLFxyXG4gIG1pbkhlaWdodDogYCR7TUlOX1dJTkRPV19IRUlHSFR9cHhgLFxyXG4gIG1pbldpZHRoOiBgJHtNSU5fV0lORE9XX1dJRFRIfXB4YCxcclxuICByZXNpemVIYW5kbGVTdHlsZXM6IHtcclxuICAgIGJvdHRvbToge1xyXG4gICAgICBib3R0b206IFwiLTNweFwiLFxyXG4gICAgICBjdXJzb3I6IFwibnMtcmVzaXplXCIsXHJcbiAgICAgIGhlaWdodDogXCI2cHhcIixcclxuICAgIH0sXHJcbiAgICBib3R0b21MZWZ0OiB7XHJcbiAgICAgIGJvdHRvbTogXCItM3B4XCIsXHJcbiAgICAgIGN1cnNvcjogXCJuZXN3LXJlc2l6ZVwiLFxyXG4gICAgICBoZWlnaHQ6IFwiMTJweFwiLFxyXG4gICAgICBsZWZ0OiBcIi0zcHhcIixcclxuICAgICAgd2lkdGg6IFwiMTJweFwiLFxyXG4gICAgfSxcclxuICAgIGJvdHRvbVJpZ2h0OiB7XHJcbiAgICAgIGJvdHRvbTogXCItM3B4XCIsXHJcbiAgICAgIGN1cnNvcjogXCJud3NlLXJlc2l6ZVwiLFxyXG4gICAgICBoZWlnaHQ6IFwiMTJweFwiLFxyXG4gICAgICByaWdodDogXCItM3B4XCIsXHJcbiAgICAgIHdpZHRoOiBcIjEycHhcIixcclxuICAgIH0sXHJcbiAgICBsZWZ0OiB7XHJcbiAgICAgIGN1cnNvcjogXCJldy1yZXNpemVcIixcclxuICAgICAgbGVmdDogXCItM3B4XCIsXHJcbiAgICAgIHdpZHRoOiBcIjZweFwiLFxyXG4gICAgfSxcclxuICAgIHJpZ2h0OiB7XHJcbiAgICAgIGN1cnNvcjogXCJldy1yZXNpemVcIixcclxuICAgICAgcmlnaHQ6IFwiLTNweFwiLFxyXG4gICAgICB3aWR0aDogXCI2cHhcIixcclxuICAgIH0sXHJcbiAgICB0b3A6IHtcclxuICAgICAgY3Vyc29yOiBcIm5zLXJlc2l6ZVwiLFxyXG4gICAgICBoZWlnaHQ6IFwiNnB4XCIsXHJcbiAgICAgIHRvcDogXCItM3B4XCIsXHJcbiAgICB9LFxyXG4gICAgdG9wTGVmdDoge1xyXG4gICAgICBjdXJzb3I6IFwibndzZS1yZXNpemVcIixcclxuICAgICAgaGVpZ2h0OiBcIjEycHhcIixcclxuICAgICAgbGVmdDogXCItM3B4XCIsXHJcbiAgICAgIHRvcDogXCItM3B4XCIsXHJcbiAgICAgIHdpZHRoOiBcIjEycHhcIixcclxuICAgIH0sXHJcbiAgICB0b3BSaWdodDoge1xyXG4gICAgICBjdXJzb3I6IFwibmVzdy1yZXNpemVcIixcclxuICAgICAgaGVpZ2h0OiBcIjEycHhcIixcclxuICAgICAgcmlnaHQ6IFwiLTNweFwiLFxyXG4gICAgICB0b3A6IFwiLTNweFwiLFxyXG4gICAgICB3aWR0aDogXCIxMnB4XCIsXHJcbiAgICB9LFxyXG4gIH0gYXMgSGFuZGxlU3R5bGVzLFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm5kRGVmYXVsdHM7XHJcbiJdLCJuYW1lcyI6WyJSRVNJWklOR19ESVNBQkxFRCIsImJvdHRvbSIsImJvdHRvbUxlZnQiLCJib3R0b21SaWdodCIsImxlZnQiLCJyaWdodCIsInRvcCIsInRvcExlZnQiLCJ0b3BSaWdodCIsIlJFU0laSU5HX0VOQUJMRUQiLCJNSU5fV0lORE9XX0hFSUdIVCIsIk1JTl9XSU5ET1dfV0lEVEgiLCJybmREZWZhdWx0cyIsImNhbmNlbCIsImRyYWdIYW5kbGVDbGFzc05hbWUiLCJlbmFibGVVc2VyU2VsZWN0SGFjayIsIm1pbkhlaWdodCIsIm1pbldpZHRoIiwicmVzaXplSGFuZGxlU3R5bGVzIiwiY3Vyc29yIiwiaGVpZ2h0Iiwid2lkdGgiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./components/system/Window/RndWindow/rndDefaults.ts\n"));

/***/ }),

/***/ "(pages-dir-browser)/./components/system/Window/functions.ts":
/*!***********************************************!*\
  !*** ./components/system/Window/functions.ts ***!
  \***********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WINDOW_OFFSCREEN_BUFFER_PX: () => (/* binding */ WINDOW_OFFSCREEN_BUFFER_PX),\n/* harmony export */   cascadePosition: () => (/* binding */ cascadePosition),\n/* harmony export */   centerPosition: () => (/* binding */ centerPosition),\n/* harmony export */   isWindowOutsideBounds: () => (/* binding */ isWindowOutsideBounds),\n/* harmony export */   minMaxSize: () => (/* binding */ minMaxSize)\n/* harmony export */ });\n/* harmony import */ var components_system_Window_RndWindow_rndDefaults__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! components/system/Window/RndWindow/rndDefaults */ \"(pages-dir-browser)/./components/system/Window/RndWindow/rndDefaults.ts\");\n/* harmony import */ var utils_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! utils/constants */ \"(pages-dir-browser)/./utils/constants.ts\");\n/* harmony import */ var utils_functions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! utils/functions */ \"(pages-dir-browser)/./utils/functions.ts\");\n\n\n\nconst cascadePosition = (id, processes, stackOrder = [], offset = 0)=>{\n    const [pid] = id.split(utils_constants__WEBPACK_IMPORTED_MODULE_1__.PROCESS_DELIMITER);\n    const processPid = `${pid}${utils_constants__WEBPACK_IMPORTED_MODULE_1__.PROCESS_DELIMITER}`;\n    const parentPositionProcess = stackOrder.find((stackPid)=>stackPid.startsWith(processPid)) || \"\";\n    const { componentWindow } = processes?.[parentPositionProcess] || {};\n    const { x = 0, y = 0, width = 0, height = 0 } = componentWindow?.getBoundingClientRect() || {};\n    const isOffscreen = x + offset + width > (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.viewWidth)() || y + offset + height > (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.viewHeight)();\n    return !isOffscreen && (x || y) ? {\n        x: x + offset,\n        y: y + offset\n    } : undefined;\n};\nconst centerPosition = ({ height, width })=>{\n    const [vh, vw] = [\n        (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.viewHeight)(),\n        (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.viewWidth)()\n    ];\n    return {\n        x: Math.floor(vw / 2 - (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.pxToNum)(width) / 2),\n        y: Math.floor((vh - utils_constants__WEBPACK_IMPORTED_MODULE_1__.TASKBAR_HEIGHT) / 2 - (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.pxToNum)(height) / 2)\n    };\n};\nconst WINDOW_OFFSCREEN_BUFFER_PX = {\n    BOTTOM: 15,\n    LEFT: 150,\n    RIGHT: 50,\n    TOP: 15\n};\nconst isWindowOutsideBounds = (windowState, bounds, checkOffscreen = false)=>{\n    const { position, size } = windowState || {};\n    const { x = 0, y = 0 } = position || {};\n    const { height = 0, width = 0 } = size || {};\n    if (checkOffscreen) {\n        return x + WINDOW_OFFSCREEN_BUFFER_PX.RIGHT > bounds.x || x + (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.pxToNum)(width) - WINDOW_OFFSCREEN_BUFFER_PX.LEFT < 0 || y + WINDOW_OFFSCREEN_BUFFER_PX.BOTTOM > bounds.y || y + WINDOW_OFFSCREEN_BUFFER_PX.TOP < 0;\n    }\n    return x < 0 || y < 0 || x + (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.pxToNum)(width) > bounds.x || y + (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.pxToNum)(height) > bounds.y;\n};\nconst minMaxSize = (size, lockAspectRatio)=>{\n    const desiredHeight = Number(size.height);\n    const desiredWidth = Number(size.width);\n    const [vh, vw] = [\n        (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.viewHeight)(),\n        (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.viewWidth)()\n    ];\n    const vhWithoutTaskbar = vh - utils_constants__WEBPACK_IMPORTED_MODULE_1__.TASKBAR_HEIGHT;\n    const height = Math.max(components_system_Window_RndWindow_rndDefaults__WEBPACK_IMPORTED_MODULE_0__.MIN_WINDOW_HEIGHT, Math.min(desiredHeight, vhWithoutTaskbar));\n    const width = Math.max(components_system_Window_RndWindow_rndDefaults__WEBPACK_IMPORTED_MODULE_0__.MIN_WINDOW_WIDTH, Math.min(desiredWidth, vw));\n    if (!lockAspectRatio) return {\n        height,\n        width\n    };\n    const isDesiredHeight = desiredHeight === height;\n    const isDesiredWidth = desiredWidth === width;\n    if (!isDesiredHeight && !isDesiredWidth) {\n        if (desiredHeight > desiredWidth) {\n            return {\n                height,\n                width: Math.round(width / (vhWithoutTaskbar / height))\n            };\n        }\n        return {\n            height: Math.round(height / (vw / width)),\n            width\n        };\n    }\n    if (!isDesiredHeight) {\n        return {\n            height,\n            width: Math.round(width / (desiredHeight / height))\n        };\n    }\n    if (!isDesiredWidth) {\n        return {\n            height: Math.round(height / (desiredWidth / width)),\n            width\n        };\n    }\n    return {\n        height,\n        width\n    };\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL2NvbXBvbmVudHMvc3lzdGVtL1dpbmRvdy9mdW5jdGlvbnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFJd0Q7QUFJWTtBQUNIO0FBRTFELE1BQU1PLGtCQUFrQixDQUM3QkMsSUFDQUMsV0FDQUMsYUFBdUIsRUFBRSxFQUN6QkMsU0FBUyxDQUFDO0lBRVYsTUFBTSxDQUFDQyxJQUFJLEdBQUdKLEdBQUdLLEtBQUssQ0FBQ1gsOERBQWlCQTtJQUN4QyxNQUFNWSxhQUFhLEdBQUdGLE1BQU1WLDhEQUFpQkEsRUFBRTtJQUMvQyxNQUFNYSx3QkFDSkwsV0FBV00sSUFBSSxDQUFDLENBQUNDLFdBQWFBLFNBQVNDLFVBQVUsQ0FBQ0osZ0JBQWdCO0lBQ3BFLE1BQU0sRUFBRUssZUFBZSxFQUFFLEdBQUdWLFdBQVcsQ0FBQ00sc0JBQXNCLElBQUksQ0FBQztJQUNuRSxNQUFNLEVBQ0pLLElBQUksQ0FBQyxFQUNMQyxJQUFJLENBQUMsRUFDTEMsUUFBUSxDQUFDLEVBQ1RDLFNBQVMsQ0FBQyxFQUNYLEdBQUdKLGlCQUFpQkssMkJBQTJCLENBQUM7SUFDakQsTUFBTUMsY0FDSkwsSUFBSVQsU0FBU1csUUFBUWhCLDBEQUFTQSxNQUFNZSxJQUFJVixTQUFTWSxTQUFTbEIsMkRBQVVBO0lBRXRFLE9BQU8sQ0FBQ29CLGVBQWdCTCxDQUFBQSxLQUFLQyxDQUFBQSxJQUN6QjtRQUNFRCxHQUFHQSxJQUFJVDtRQUNQVSxHQUFHQSxJQUFJVjtJQUNULElBQ0FlO0FBQ04sRUFBRTtBQUVLLE1BQU1DLGlCQUFpQixDQUFDLEVBQUVKLE1BQU0sRUFBRUQsS0FBSyxFQUFRO0lBQ3BELE1BQU0sQ0FBQ00sSUFBSUMsR0FBRyxHQUFHO1FBQUN4QiwyREFBVUE7UUFBSUMsMERBQVNBO0tBQUc7SUFFNUMsT0FBTztRQUNMYyxHQUFHVSxLQUFLQyxLQUFLLENBQUNGLEtBQUssSUFBSXpCLHdEQUFPQSxDQUFDa0IsU0FBUztRQUN4Q0QsR0FBR1MsS0FBS0MsS0FBSyxDQUFDLENBQUNILEtBQUt6QiwyREFBYSxJQUFLLElBQUlDLHdEQUFPQSxDQUFDbUIsVUFBVTtJQUM5RDtBQUNGLEVBQUU7QUFFSyxNQUFNUyw2QkFBNkI7SUFDeENDLFFBQVE7SUFDUkMsTUFBTTtJQUNOQyxPQUFPO0lBQ1BDLEtBQUs7QUFDUCxFQUFFO0FBRUssTUFBTUMsd0JBQXdCLENBQ25DQyxhQUNBQyxRQUNBQyxpQkFBaUIsS0FBSztJQUV0QixNQUFNLEVBQUVDLFFBQVEsRUFBRUMsSUFBSSxFQUFFLEdBQUdKLGVBQWUsQ0FBQztJQUMzQyxNQUFNLEVBQUVsQixJQUFJLENBQUMsRUFBRUMsSUFBSSxDQUFDLEVBQUUsR0FBR29CLFlBQVksQ0FBQztJQUN0QyxNQUFNLEVBQUVsQixTQUFTLENBQUMsRUFBRUQsUUFBUSxDQUFDLEVBQUUsR0FBR29CLFFBQVEsQ0FBQztJQUUzQyxJQUFJRixnQkFBZ0I7UUFDbEIsT0FDRXBCLElBQUlZLDJCQUEyQkcsS0FBSyxHQUFHSSxPQUFPbkIsQ0FBQyxJQUMvQ0EsSUFBSWhCLHdEQUFPQSxDQUFDa0IsU0FBU1UsMkJBQTJCRSxJQUFJLEdBQUcsS0FDdkRiLElBQUlXLDJCQUEyQkMsTUFBTSxHQUFHTSxPQUFPbEIsQ0FBQyxJQUNoREEsSUFBSVcsMkJBQTJCSSxHQUFHLEdBQUc7SUFFekM7SUFFQSxPQUNFaEIsSUFBSSxLQUNKQyxJQUFJLEtBQ0pELElBQUloQix3REFBT0EsQ0FBQ2tCLFNBQVNpQixPQUFPbkIsQ0FBQyxJQUM3QkMsSUFBSWpCLHdEQUFPQSxDQUFDbUIsVUFBVWdCLE9BQU9sQixDQUFDO0FBRWxDLEVBQUU7QUFFSyxNQUFNc0IsYUFBYSxDQUFDRCxNQUFZRTtJQUNyQyxNQUFNQyxnQkFBZ0JDLE9BQU9KLEtBQUtuQixNQUFNO0lBQ3hDLE1BQU13QixlQUFlRCxPQUFPSixLQUFLcEIsS0FBSztJQUN0QyxNQUFNLENBQUNNLElBQUlDLEdBQUcsR0FBRztRQUFDeEIsMkRBQVVBO1FBQUlDLDBEQUFTQTtLQUFHO0lBQzVDLE1BQU0wQyxtQkFBbUJwQixLQUFLekIsMkRBQWNBO0lBQzVDLE1BQU1vQixTQUFTTyxLQUFLbUIsR0FBRyxDQUNyQmpELDZGQUFpQkEsRUFDakI4QixLQUFLb0IsR0FBRyxDQUFDTCxlQUFlRztJQUUxQixNQUFNMUIsUUFBUVEsS0FBS21CLEdBQUcsQ0FBQ2hELDRGQUFnQkEsRUFBRTZCLEtBQUtvQixHQUFHLENBQUNILGNBQWNsQjtJQUVoRSxJQUFJLENBQUNlLGlCQUFpQixPQUFPO1FBQUVyQjtRQUFRRDtJQUFNO0lBRTdDLE1BQU02QixrQkFBa0JOLGtCQUFrQnRCO0lBQzFDLE1BQU02QixpQkFBaUJMLGlCQUFpQnpCO0lBRXhDLElBQUksQ0FBQzZCLG1CQUFtQixDQUFDQyxnQkFBZ0I7UUFDdkMsSUFBSVAsZ0JBQWdCRSxjQUFjO1lBQ2hDLE9BQU87Z0JBQ0x4QjtnQkFDQUQsT0FBT1EsS0FBS3VCLEtBQUssQ0FBQy9CLFFBQVMwQixDQUFBQSxtQkFBbUJ6QixNQUFLO1lBQ3JEO1FBQ0Y7UUFFQSxPQUFPO1lBQ0xBLFFBQVFPLEtBQUt1QixLQUFLLENBQUM5QixTQUFVTSxDQUFBQSxLQUFLUCxLQUFJO1lBQ3RDQTtRQUNGO0lBQ0Y7SUFFQSxJQUFJLENBQUM2QixpQkFBaUI7UUFDcEIsT0FBTztZQUNMNUI7WUFDQUQsT0FBT1EsS0FBS3VCLEtBQUssQ0FBQy9CLFFBQVN1QixDQUFBQSxnQkFBZ0J0QixNQUFLO1FBQ2xEO0lBQ0Y7SUFFQSxJQUFJLENBQUM2QixnQkFBZ0I7UUFDbkIsT0FBTztZQUNMN0IsUUFBUU8sS0FBS3VCLEtBQUssQ0FBQzlCLFNBQVV3QixDQUFBQSxlQUFlekIsS0FBSTtZQUNoREE7UUFDRjtJQUNGO0lBRUEsT0FBTztRQUFFQztRQUFRRDtJQUFNO0FBQ3pCLEVBQUUiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcVXNlclxcRG9jdW1lbnRzXFxTaXRlc1xcU2l0ZXNcXGVtIGRlc2Vudm9sdmltZW50b1xcUG9ydGZvbGlvMlxcY29tcG9uZW50c1xcc3lzdGVtXFxXaW5kb3dcXGZ1bmN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIFBvc2l0aW9uIH0gZnJvbSBcInJlYWN0LXJuZFwiO1xyXG5pbXBvcnQge1xyXG4gIE1JTl9XSU5ET1dfSEVJR0hULFxyXG4gIE1JTl9XSU5ET1dfV0lEVEgsXHJcbn0gZnJvbSBcImNvbXBvbmVudHMvc3lzdGVtL1dpbmRvdy9SbmRXaW5kb3cvcm5kRGVmYXVsdHNcIjtcclxuaW1wb3J0IHsgdHlwZSBTaXplIH0gZnJvbSBcImNvbXBvbmVudHMvc3lzdGVtL1dpbmRvdy9SbmRXaW5kb3cvdXNlUmVzaXphYmxlXCI7XHJcbmltcG9ydCB7IHR5cGUgUHJvY2Vzc2VzIH0gZnJvbSBcImNvbnRleHRzL3Byb2Nlc3MvdHlwZXNcIjtcclxuaW1wb3J0IHsgdHlwZSBXaW5kb3dTdGF0ZSB9IGZyb20gXCJjb250ZXh0cy9zZXNzaW9uL3R5cGVzXCI7XHJcbmltcG9ydCB7IFBST0NFU1NfREVMSU1JVEVSLCBUQVNLQkFSX0hFSUdIVCB9IGZyb20gXCJ1dGlscy9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgcHhUb051bSwgdmlld0hlaWdodCwgdmlld1dpZHRoIH0gZnJvbSBcInV0aWxzL2Z1bmN0aW9uc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhc2NhZGVQb3NpdGlvbiA9IChcclxuICBpZDogc3RyaW5nLFxyXG4gIHByb2Nlc3NlczogUHJvY2Vzc2VzLFxyXG4gIHN0YWNrT3JkZXI6IHN0cmluZ1tdID0gW10sXHJcbiAgb2Zmc2V0ID0gMFxyXG4pOiBQb3NpdGlvbiB8IHVuZGVmaW5lZCA9PiB7XHJcbiAgY29uc3QgW3BpZF0gPSBpZC5zcGxpdChQUk9DRVNTX0RFTElNSVRFUik7XHJcbiAgY29uc3QgcHJvY2Vzc1BpZCA9IGAke3BpZH0ke1BST0NFU1NfREVMSU1JVEVSfWA7XHJcbiAgY29uc3QgcGFyZW50UG9zaXRpb25Qcm9jZXNzID1cclxuICAgIHN0YWNrT3JkZXIuZmluZCgoc3RhY2tQaWQpID0+IHN0YWNrUGlkLnN0YXJ0c1dpdGgocHJvY2Vzc1BpZCkpIHx8IFwiXCI7XHJcbiAgY29uc3QgeyBjb21wb25lbnRXaW5kb3cgfSA9IHByb2Nlc3Nlcz8uW3BhcmVudFBvc2l0aW9uUHJvY2Vzc10gfHwge307XHJcbiAgY29uc3Qge1xyXG4gICAgeCA9IDAsXHJcbiAgICB5ID0gMCxcclxuICAgIHdpZHRoID0gMCxcclxuICAgIGhlaWdodCA9IDAsXHJcbiAgfSA9IGNvbXBvbmVudFdpbmRvdz8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgfHwge307XHJcbiAgY29uc3QgaXNPZmZzY3JlZW4gPVxyXG4gICAgeCArIG9mZnNldCArIHdpZHRoID4gdmlld1dpZHRoKCkgfHwgeSArIG9mZnNldCArIGhlaWdodCA+IHZpZXdIZWlnaHQoKTtcclxuXHJcbiAgcmV0dXJuICFpc09mZnNjcmVlbiAmJiAoeCB8fCB5KVxyXG4gICAgPyB7XHJcbiAgICAgICAgeDogeCArIG9mZnNldCxcclxuICAgICAgICB5OiB5ICsgb2Zmc2V0LFxyXG4gICAgICB9XHJcbiAgICA6IHVuZGVmaW5lZDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjZW50ZXJQb3NpdGlvbiA9ICh7IGhlaWdodCwgd2lkdGggfTogU2l6ZSk6IFBvc2l0aW9uID0+IHtcclxuICBjb25zdCBbdmgsIHZ3XSA9IFt2aWV3SGVpZ2h0KCksIHZpZXdXaWR0aCgpXTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHg6IE1hdGguZmxvb3IodncgLyAyIC0gcHhUb051bSh3aWR0aCkgLyAyKSxcclxuICAgIHk6IE1hdGguZmxvb3IoKHZoIC0gVEFTS0JBUl9IRUlHSFQpIC8gMiAtIHB4VG9OdW0oaGVpZ2h0KSAvIDIpLFxyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgV0lORE9XX09GRlNDUkVFTl9CVUZGRVJfUFggPSB7XHJcbiAgQk9UVE9NOiAxNSxcclxuICBMRUZUOiAxNTAsXHJcbiAgUklHSFQ6IDUwLFxyXG4gIFRPUDogMTUsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgaXNXaW5kb3dPdXRzaWRlQm91bmRzID0gKFxyXG4gIHdpbmRvd1N0YXRlOiBXaW5kb3dTdGF0ZSxcclxuICBib3VuZHM6IFBvc2l0aW9uLFxyXG4gIGNoZWNrT2Zmc2NyZWVuID0gZmFsc2VcclxuKTogYm9vbGVhbiA9PiB7XHJcbiAgY29uc3QgeyBwb3NpdGlvbiwgc2l6ZSB9ID0gd2luZG93U3RhdGUgfHwge307XHJcbiAgY29uc3QgeyB4ID0gMCwgeSA9IDAgfSA9IHBvc2l0aW9uIHx8IHt9O1xyXG4gIGNvbnN0IHsgaGVpZ2h0ID0gMCwgd2lkdGggPSAwIH0gPSBzaXplIHx8IHt9O1xyXG5cclxuICBpZiAoY2hlY2tPZmZzY3JlZW4pIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIHggKyBXSU5ET1dfT0ZGU0NSRUVOX0JVRkZFUl9QWC5SSUdIVCA+IGJvdW5kcy54IHx8XHJcbiAgICAgIHggKyBweFRvTnVtKHdpZHRoKSAtIFdJTkRPV19PRkZTQ1JFRU5fQlVGRkVSX1BYLkxFRlQgPCAwIHx8XHJcbiAgICAgIHkgKyBXSU5ET1dfT0ZGU0NSRUVOX0JVRkZFUl9QWC5CT1RUT00gPiBib3VuZHMueSB8fFxyXG4gICAgICB5ICsgV0lORE9XX09GRlNDUkVFTl9CVUZGRVJfUFguVE9QIDwgMFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICB4IDwgMCB8fFxyXG4gICAgeSA8IDAgfHxcclxuICAgIHggKyBweFRvTnVtKHdpZHRoKSA+IGJvdW5kcy54IHx8XHJcbiAgICB5ICsgcHhUb051bShoZWlnaHQpID4gYm91bmRzLnlcclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IG1pbk1heFNpemUgPSAoc2l6ZTogU2l6ZSwgbG9ja0FzcGVjdFJhdGlvOiBib29sZWFuKTogU2l6ZSA9PiB7XHJcbiAgY29uc3QgZGVzaXJlZEhlaWdodCA9IE51bWJlcihzaXplLmhlaWdodCk7XHJcbiAgY29uc3QgZGVzaXJlZFdpZHRoID0gTnVtYmVyKHNpemUud2lkdGgpO1xyXG4gIGNvbnN0IFt2aCwgdnddID0gW3ZpZXdIZWlnaHQoKSwgdmlld1dpZHRoKCldO1xyXG4gIGNvbnN0IHZoV2l0aG91dFRhc2tiYXIgPSB2aCAtIFRBU0tCQVJfSEVJR0hUO1xyXG4gIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KFxyXG4gICAgTUlOX1dJTkRPV19IRUlHSFQsXHJcbiAgICBNYXRoLm1pbihkZXNpcmVkSGVpZ2h0LCB2aFdpdGhvdXRUYXNrYmFyKVxyXG4gICk7XHJcbiAgY29uc3Qgd2lkdGggPSBNYXRoLm1heChNSU5fV0lORE9XX1dJRFRILCBNYXRoLm1pbihkZXNpcmVkV2lkdGgsIHZ3KSk7XHJcblxyXG4gIGlmICghbG9ja0FzcGVjdFJhdGlvKSByZXR1cm4geyBoZWlnaHQsIHdpZHRoIH07XHJcblxyXG4gIGNvbnN0IGlzRGVzaXJlZEhlaWdodCA9IGRlc2lyZWRIZWlnaHQgPT09IGhlaWdodDtcclxuICBjb25zdCBpc0Rlc2lyZWRXaWR0aCA9IGRlc2lyZWRXaWR0aCA9PT0gd2lkdGg7XHJcblxyXG4gIGlmICghaXNEZXNpcmVkSGVpZ2h0ICYmICFpc0Rlc2lyZWRXaWR0aCkge1xyXG4gICAgaWYgKGRlc2lyZWRIZWlnaHQgPiBkZXNpcmVkV2lkdGgpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBoZWlnaHQsXHJcbiAgICAgICAgd2lkdGg6IE1hdGgucm91bmQod2lkdGggLyAodmhXaXRob3V0VGFza2JhciAvIGhlaWdodCkpLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGhlaWdodDogTWF0aC5yb3VuZChoZWlnaHQgLyAodncgLyB3aWR0aCkpLFxyXG4gICAgICB3aWR0aCxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBpZiAoIWlzRGVzaXJlZEhlaWdodCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaGVpZ2h0LFxyXG4gICAgICB3aWR0aDogTWF0aC5yb3VuZCh3aWR0aCAvIChkZXNpcmVkSGVpZ2h0IC8gaGVpZ2h0KSksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgaWYgKCFpc0Rlc2lyZWRXaWR0aCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaGVpZ2h0OiBNYXRoLnJvdW5kKGhlaWdodCAvIChkZXNpcmVkV2lkdGggLyB3aWR0aCkpLFxyXG4gICAgICB3aWR0aCxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICByZXR1cm4geyBoZWlnaHQsIHdpZHRoIH07XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJNSU5fV0lORE9XX0hFSUdIVCIsIk1JTl9XSU5ET1dfV0lEVEgiLCJQUk9DRVNTX0RFTElNSVRFUiIsIlRBU0tCQVJfSEVJR0hUIiwicHhUb051bSIsInZpZXdIZWlnaHQiLCJ2aWV3V2lkdGgiLCJjYXNjYWRlUG9zaXRpb24iLCJpZCIsInByb2Nlc3NlcyIsInN0YWNrT3JkZXIiLCJvZmZzZXQiLCJwaWQiLCJzcGxpdCIsInByb2Nlc3NQaWQiLCJwYXJlbnRQb3NpdGlvblByb2Nlc3MiLCJmaW5kIiwic3RhY2tQaWQiLCJzdGFydHNXaXRoIiwiY29tcG9uZW50V2luZG93IiwieCIsInkiLCJ3aWR0aCIsImhlaWdodCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImlzT2Zmc2NyZWVuIiwidW5kZWZpbmVkIiwiY2VudGVyUG9zaXRpb24iLCJ2aCIsInZ3IiwiTWF0aCIsImZsb29yIiwiV0lORE9XX09GRlNDUkVFTl9CVUZGRVJfUFgiLCJCT1RUT00iLCJMRUZUIiwiUklHSFQiLCJUT1AiLCJpc1dpbmRvd091dHNpZGVCb3VuZHMiLCJ3aW5kb3dTdGF0ZSIsImJvdW5kcyIsImNoZWNrT2Zmc2NyZWVuIiwicG9zaXRpb24iLCJzaXplIiwibWluTWF4U2l6ZSIsImxvY2tBc3BlY3RSYXRpbyIsImRlc2lyZWRIZWlnaHQiLCJOdW1iZXIiLCJkZXNpcmVkV2lkdGgiLCJ2aFdpdGhvdXRUYXNrYmFyIiwibWF4IiwibWluIiwiaXNEZXNpcmVkSGVpZ2h0IiwiaXNEZXNpcmVkV2lkdGgiLCJyb3VuZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./components/system/Window/functions.ts\n"));

/***/ })

}]);