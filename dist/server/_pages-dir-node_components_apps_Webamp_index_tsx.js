"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_pages-dir-node_components_apps_Webamp_index_tsx";
exports.ids = ["_pages-dir-node_components_apps_Webamp_index_tsx"];
exports.modules = {

/***/ "(pages-dir-node)/./components/apps/Webamp/StyledWebamp.ts":
/*!************************************************!*\
  !*** ./components/apps/Webamp/StyledWebamp.ts ***!
  \************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var motion_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! motion/react */ \"motion/react\");\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-components */ \"styled-components\");\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_components__WEBPACK_IMPORTED_MODULE_1__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([motion_react__WEBPACK_IMPORTED_MODULE_0__]);\nmotion_react__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nconst StyledWebamp = styled_components__WEBPACK_IMPORTED_MODULE_1___default()(motion_react__WEBPACK_IMPORTED_MODULE_0__.m.div).withConfig({\n    componentId: \"sc-8db3d236-0\"\n})([\n    `\n  inset: 0;\n  pointer-events: none;\n  position: absolute;\n  z-index: `,\n    `;\n\n  div:first-child {\n    pointer-events: `,\n    `;\n  }\n`\n], ({ $zIndex })=>$zIndex, ({ $minimized })=>$minimized ? \"none\" : \"auto\");\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StyledWebamp);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvYXBwcy9XZWJhbXAvU3R5bGVkV2ViYW1wLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMkM7QUFDSjtBQU92QyxNQUFNRyxlQUFlRCx3REFBTUEsQ0FBQ0QsMkNBQU1BLENBQUNHLEdBQUc7OztJQUFxQjs7OztXQUloRDtJQUEyQjs7O29CQUdsQjtJQUFxRDs7QUFFekU7R0FMYSxDQUFDLEVBQUVDLE9BQU8sRUFBRSxHQUFLQSxTQUdSLENBQUMsRUFBRUMsVUFBVSxFQUFFLEdBQU1BLGFBQWEsU0FBUztBQUlqRSxpRUFBZUgsWUFBWUEsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxVc2VyXFxEb2N1bWVudHNcXFNpdGVzXFxTaXRlc1xcZW0gZGVzZW52b2x2aW1lbnRvXFxQb3J0Zm9saW8yXFxjb21wb25lbnRzXFxhcHBzXFxXZWJhbXBcXFN0eWxlZFdlYmFtcC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtIGFzIG1vdGlvbiB9IGZyb20gXCJtb3Rpb24vcmVhY3RcIjtcclxuaW1wb3J0IHN0eWxlZCBmcm9tIFwic3R5bGVkLWNvbXBvbmVudHNcIjtcclxuXHJcbnR5cGUgU3R5bGVkV2ViYW1wUHJvcHMgPSB7XHJcbiAgJG1pbmltaXplZDogYm9vbGVhbjtcclxuICAkekluZGV4OiBudW1iZXI7XHJcbn07XHJcblxyXG5jb25zdCBTdHlsZWRXZWJhbXAgPSBzdHlsZWQobW90aW9uLmRpdik8U3R5bGVkV2ViYW1wUHJvcHM+YFxyXG4gIGluc2V0OiAwO1xyXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB6LWluZGV4OiAkeyh7ICR6SW5kZXggfSkgPT4gJHpJbmRleH07XHJcblxyXG4gIGRpdjpmaXJzdC1jaGlsZCB7XHJcbiAgICBwb2ludGVyLWV2ZW50czogJHsoeyAkbWluaW1pemVkIH0pID0+ICgkbWluaW1pemVkID8gXCJub25lXCIgOiBcImF1dG9cIil9O1xyXG4gIH1cclxuYDtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFN0eWxlZFdlYmFtcDtcclxuIl0sIm5hbWVzIjpbIm0iLCJtb3Rpb24iLCJzdHlsZWQiLCJTdHlsZWRXZWJhbXAiLCJkaXYiLCIkekluZGV4IiwiJG1pbmltaXplZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/apps/Webamp/StyledWebamp.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./components/apps/Webamp/functions.ts":
/*!*********************************************!*\
  !*** ./components/apps/Webamp/functions.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BASE_WEBAMP_OPTIONS: () => (/* binding */ BASE_WEBAMP_OPTIONS),\n/* harmony export */   MAIN_WINDOW: () => (/* binding */ MAIN_WINDOW),\n/* harmony export */   PLAYLIST_WINDOW: () => (/* binding */ PLAYLIST_WINDOW),\n/* harmony export */   cleanBufferOnSkinLoad: () => (/* binding */ cleanBufferOnSkinLoad),\n/* harmony export */   closeEqualizer: () => (/* binding */ closeEqualizer),\n/* harmony export */   createM3uPlaylist: () => (/* binding */ createM3uPlaylist),\n/* harmony export */   enabledMilkdrop: () => (/* binding */ enabledMilkdrop),\n/* harmony export */   focusWindow: () => (/* binding */ focusWindow),\n/* harmony export */   getMetadataProvider: () => (/* binding */ getMetadataProvider),\n/* harmony export */   getWebampElement: () => (/* binding */ getWebampElement),\n/* harmony export */   loadButterchurnPreset: () => (/* binding */ loadButterchurnPreset),\n/* harmony export */   loadMilkdropWhenNeeded: () => (/* binding */ loadMilkdropWhenNeeded),\n/* harmony export */   parseTrack: () => (/* binding */ parseTrack),\n/* harmony export */   setSkinData: () => (/* binding */ setSkinData),\n/* harmony export */   tracksFromPlaylist: () => (/* binding */ tracksFromPlaylist),\n/* harmony export */   unFocus: () => (/* binding */ unFocus),\n/* harmony export */   updateWebampPosition: () => (/* binding */ updateWebampPosition)\n/* harmony export */ });\n/* harmony import */ var components_system_Window_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! components/system/Window/functions */ \"(pages-dir-node)/./components/system/Window/functions.ts\");\n/* harmony import */ var utils_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! utils/constants */ \"(pages-dir-node)/./utils/constants.ts\");\n/* harmony import */ var utils_functions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! utils/functions */ \"(pages-dir-node)/./utils/functions.ts\");\n\n\n\nconst BROKEN_PRESETS = new Set([\n    \"Flexi - alien fish pond\",\n    \"Geiss - Spiral Artifact\"\n]);\nconst WEBAMP_SKINS_PATH = `${utils_constants__WEBPACK_IMPORTED_MODULE_1__.HOME}/Documents/Winamp Skins`;\nconst ALLOWS_CORS_IN_WINAMP_SKIN_MUSEUM =  false && 0;\nconst createWebampSkinMuseumQuery = (offset)=>`\n  query {\n    skins(filter: APPROVED, first: 1, offset: ${offset}) {\n      nodes {\n        download_url\n      }\n    }\n  }\n`;\nconst BASE_WEBAMP_OPTIONS = {\n    availableSkins: [\n        {\n            name: \"Aqua X\",\n            url: `${WEBAMP_SKINS_PATH}/Aqua_X.wsz`\n        },\n        {\n            name: \"Nucleo NLog v2G\",\n            url: `${WEBAMP_SKINS_PATH}/Nucleo_NLog_v102.wsz`\n        },\n        ...ALLOWS_CORS_IN_WINAMP_SKIN_MUSEUM ? [\n            {\n                defaultName: \"Random (Winamp Skin Museum)\",\n                loading: false,\n                get name () {\n                    if (this.loading) return this.defaultName;\n                    this.loading = true;\n                    fetch(\"https://api.webamp.org/graphql\", {\n                        body: JSON.stringify({\n                            query: createWebampSkinMuseumQuery(Math.floor(Math.random() * 1000))\n                        }),\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        method: \"POST\"\n                    }).then(async (response)=>{\n                        const { data } = await response.json() || {};\n                        this.skinUrl = data?.skins?.nodes?.[0]?.download_url;\n                        this.loading = false;\n                    });\n                    return this.defaultName;\n                },\n                skinUrl: \"\",\n                get url () {\n                    return this.skinUrl || `${WEBAMP_SKINS_PATH}/base-2.91.wsz`;\n                }\n            }\n        ] : [],\n        {\n            name: \"SpyAMP Professional Edition v5\",\n            url: `${WEBAMP_SKINS_PATH}/SpyAMP_Professional_Edition_v5.wsz`\n        }\n    ]\n};\nconst BASE_WINDOW_SIZE = {\n    height: 116,\n    width: 275\n};\nconst CONTAINER_WINDOW = \"#webamp\";\nconst MAIN_WINDOW = \"#main-window\";\nconst PLAYLIST_WINDOW = \"#playlist-window\";\nconst cleanBufferOnSkinLoad = (webamp, url = \"\")=>webamp.skinIsLoaded().then(()=>{\n        if (url) (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.cleanUpBufferUrl)(url);\n    });\nconst closeEqualizer = (webamp)=>{\n    webamp.store.dispatch({\n        type: \"CLOSE_WINDOW\",\n        windowId: \"equalizer\"\n    });\n};\nconst enabledMilkdrop = (webamp)=>{\n    webamp.store.dispatch({\n        open: false,\n        type: \"ENABLE_MILKDROP\"\n    });\n};\nconst setSkinData = (webamp, data)=>{\n    webamp.store.dispatch({\n        data,\n        type: \"SET_SKIN_DATA\"\n    });\n};\nconst loadButterchurn = (webamp, butterchurn)=>{\n    webamp.store.dispatch({\n        butterchurn,\n        type: \"GOT_BUTTERCHURN\"\n    });\n};\nconst loadButterchurnPresets = (webamp, presets)=>webamp.store.dispatch({\n        presets,\n        type: \"GOT_BUTTERCHURN_PRESETS\"\n    });\nconst getButterchurnPresetIndex = (webamp)=>{\n    const { presetHistory = [], presets = [] } = webamp.store.getState()?.milkdrop || {};\n    const index = Math.floor(Math.random() * presets.length);\n    const preset = presets[index];\n    return preset.name && !BROKEN_PRESETS.has(preset.name) && !presetHistory.slice(-5).includes(index) ? index : getButterchurnPresetIndex(webamp);\n};\nconst loadButterchurnPreset = (webamp)=>{\n    const index = getButterchurnPresetIndex(webamp);\n    webamp.store.dispatch({\n        addToHistory: true,\n        index,\n        type: \"PRESET_REQUESTED\"\n    });\n    webamp.store.dispatch({\n        index,\n        type: \"SELECT_PRESET_AT_INDEX\"\n    });\n};\nlet cycleTimerId = 0;\nconst cycleButterchurnPresets = (webamp)=>{\n    window.clearInterval(cycleTimerId);\n    cycleTimerId = window.setInterval(()=>{\n        if (!webamp) window.clearInterval(cycleTimerId);\n        loadButterchurnPreset(webamp);\n    }, 20000);\n};\nconst loadMilkdropWhenNeeded = (webamp)=>{\n    const unsubscribe = webamp.store.subscribe(()=>{\n        const { milkdrop, windows } = webamp.store.getState();\n        if (windows?.genWindows?.milkdrop?.open && !milkdrop?.butterchurn) {\n            (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.loadFiles)([\n                \"/Program Files/Webamp/butterchurn.min.js\"\n            ]).then(()=>{\n                if (!window.butterchurn?.default) return;\n                loadButterchurn(webamp, window.butterchurn.default);\n                const { playlist, main: mainWindow } = windows.genWindows || {};\n                const { x = 0, y = 0 } = (playlist?.open ? playlist?.position : mainWindow?.position) || {};\n                webamp.store.dispatch({\n                    positions: {\n                        milkdrop: {\n                            x,\n                            y: y + BASE_WINDOW_SIZE.height\n                        }\n                    },\n                    type: \"UPDATE_WINDOW_POSITIONS\"\n                });\n                unsubscribe();\n                webamp.store.subscribe(()=>{\n                    const webampDesktop = [\n                        ...document.body.children\n                    ].find((node)=>node.classList?.contains(\"webamp-desktop\"));\n                    if (webampDesktop) {\n                        const main = document.querySelector(\"main\");\n                        if (main) {\n                            [\n                                ...main.children\n                            ].forEach((node)=>{\n                                if (node.classList?.contains(\"webamp-desktop\")) {\n                                    node.remove();\n                                }\n                            });\n                            main.append(webampDesktop);\n                        }\n                    }\n                });\n                Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! butterchurn-presets */ \"butterchurn-presets\", 23)).then(({ default: presets })=>{\n                    const resolvedPresets = Object.entries(presets).map(([name, preset])=>({\n                            name,\n                            preset\n                        }));\n                    loadButterchurnPresets(webamp, resolvedPresets);\n                    loadButterchurnPreset(webamp);\n                    cycleButterchurnPresets(webamp);\n                });\n            });\n        }\n    });\n};\nconst getWebampElement = ()=>document.querySelector(CONTAINER_WINDOW);\nconst updateWebampPosition = (webamp, position)=>{\n    const { height, width } = BASE_WINDOW_SIZE;\n    const { x, y } = position || (0,components_system_Window_functions__WEBPACK_IMPORTED_MODULE_0__.centerPosition)({\n        height: height * 2,\n        width\n    });\n    webamp.store.dispatch({\n        positions: {\n            main: {\n                x,\n                y\n            },\n            milkdrop: {\n                x: 0 - width,\n                y: 0 - height\n            },\n            playlist: {\n                x,\n                y: height + y\n            }\n        },\n        type: \"UPDATE_WINDOW_POSITIONS\"\n    });\n};\nconst focusWindow = (webamp, window1)=>webamp.store.dispatch({\n        type: \"SET_FOCUSED_WINDOW\",\n        window: window1\n    });\nconst unFocus = (webamp)=>webamp.store.dispatch({\n        type: \"SET_FOCUSED_WINDOW\",\n        window: \"\"\n    });\nconst parseTrack = async (file, fileName)=>{\n    const { parseBuffer } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! music-metadata-browser */ \"music-metadata-browser\", 23));\n    const { common: { album = \"\", artist = \"\", title = fileName }, format: { duration = 0 } } = await parseBuffer(file, {\n        mimeType: utils_constants__WEBPACK_IMPORTED_MODULE_1__.MP3_MIME_TYPE,\n        size: file.length\n    }, {\n        duration: true,\n        skipCovers: true,\n        skipPostHeaders: true\n    });\n    return {\n        blob: (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.bufferToBlob)(file, \"audio/mpeg\"),\n        duration: Math.floor(duration),\n        metaData: {\n            album,\n            artist,\n            title\n        }\n    };\n};\nconst createM3uPlaylist = (tracks)=>{\n    const m3uPlaylist = tracks.map((track)=>{\n        const trackUrl = track.url ? `\\n${track.url}` : \"\";\n        let title = track.defaultName;\n        if (track.metaData?.artist) {\n            if (track.metaData?.title) {\n                title = `${track.metaData.artist} - ${track.metaData.title}`;\n            } else if (title) {\n                title = `${track.metaData.artist} - ${title}`;\n            }\n        } else if (track.metaData?.title) {\n            title = track.metaData.title;\n        }\n        return trackUrl ? `#EXTINF:${track.duration ?? -1},${title || \"\"}${trackUrl}` : \"\";\n    });\n    return `${[\n        \"#EXTM3U\",\n        ...m3uPlaylist.filter(Boolean)\n    ].join(\"\\n\")}\\n`;\n};\nconst MAX_PLAYLIST_ITEMS = 1000;\nconst tracksFromPlaylist = async (data, extension, defaultName)=>{\n    const { ASX, M3U, PLS } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! playlist-parser */ \"playlist-parser\", 23));\n    // eslint-disable-next-line @typescript-eslint/no-duplicate-type-constituents\n    const parser = {\n        \".asx\": ASX,\n        \".m3u\": M3U,\n        \".pls\": PLS\n    };\n    const tracks = parser[extension]?.parse(data).filter(Boolean).slice(0, MAX_PLAYLIST_ITEMS) ?? [];\n    return tracks.map(({ artist = \"\", file = \"\", length = 0, title = \"\" })=>{\n        const [parsedArtist, parsedTitle] = [\n            artist.trim(),\n            title.trim()\n        ];\n        return {\n            duration: Math.max(length, 0),\n            metaData: {\n                album: parsedTitle || defaultName,\n                artist: parsedArtist,\n                title: parsedTitle\n            },\n            url: file\n        };\n    });\n};\nconst removeCData = (string = \"\")=>string.replace(/<!\\[CDATA\\[|\\]\\]>/g, \"\");\nconst streamingMetadataProviders = {\n    \"somafm.com\": (url)=>async ()=>{\n            const { pathname } = new URL(url);\n            const [channel] = pathname.replace(\"/\", \"\").split(\"-\");\n            const xmlPlaylist = await (await fetch(`https://somafm.com/songs/${channel}.xml`, {\n                cache: \"no-cache\",\n                credentials: \"omit\",\n                keepalive: false,\n                mode: \"cors\",\n                referrerPolicy: \"no-referrer\",\n                // eslint-disable-next-line unicorn/no-null\n                window: null\n            })).text();\n            const songNode = new DOMParser().parseFromString(xmlPlaylist, \"application/xml\").querySelector(\"song\");\n            const artist = songNode?.querySelector(\"artist\")?.innerHTML;\n            const title = songNode?.querySelector(\"title\")?.innerHTML;\n            return {\n                artist: removeCData(artist),\n                title: removeCData(title)\n            };\n        }\n};\nconst getMetadataProvider = (url)=>{\n    const { host } = new URL(url);\n    const [, domain, tld] = host.split(\".\");\n    return streamingMetadataProviders[`${domain}.${tld}`]?.(url);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvYXBwcy9XZWJhbXAvZnVuY3Rpb25zLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU29FO0FBQ0E7QUFDUTtBQUU1RSxNQUFNTyxpQkFBaUIsSUFBSUMsSUFBSTtJQUM3QjtJQUNBO0NBQ0Q7QUFFRCxNQUFNQyxvQkFBb0IsR0FBR1IsaURBQUlBLENBQUMsdUJBQXVCLENBQUM7QUFFMUQsTUFBTVMsb0NBQ0osTUFBNkIsSUFDN0IsQ0FDMEI7QUFHNUIsTUFBTVEsOEJBQThCLENBQUNDLFNBQTJCLENBQUM7OzhDQUVuQixFQUFFQSxPQUFPOzs7Ozs7QUFNdkQsQ0FBQztBQUVNLE1BQU1DLHNCQUFzQjtJQUNqQ0MsZ0JBQWdCO1FBQ2Q7WUFDRUMsTUFBTTtZQUNOVixLQUFLLEdBQUdILGtCQUFrQixXQUFXLENBQUM7UUFDeEM7UUFDQTtZQUNFYSxNQUFNO1lBQ05WLEtBQUssR0FBR0gsa0JBQWtCLHFCQUFxQixDQUFDO1FBQ2xEO1dBQ0lDLG9DQUNBO1lBQ0U7Z0JBQ0VhLGFBQWE7Z0JBQ2JDLFNBQVM7Z0JBQ1QsSUFBSUYsUUFBZTtvQkFDakIsSUFBSSxJQUFJLENBQUNFLE9BQU8sRUFBRSxPQUFPLElBQUksQ0FBQ0QsV0FBVztvQkFFekMsSUFBSSxDQUFDQyxPQUFPLEdBQUc7b0JBRWZDLE1BQU0sa0NBQWtDO3dCQUN0Q0MsTUFBTUMsS0FBS0MsU0FBUyxDQUFDOzRCQUNuQkMsT0FBT1gsNEJBQ0xZLEtBQUtDLEtBQUssQ0FBQ0QsS0FBS0UsTUFBTSxLQUFLO3dCQUUvQjt3QkFDQUMsU0FBUzs0QkFDUCxnQkFBZ0I7d0JBQ2xCO3dCQUNBQyxRQUFRO29CQUNWLEdBQUdDLElBQUksQ0FBQyxPQUFPQzt3QkFDYixNQUFNLEVBQUVDLElBQUksRUFBRSxHQUFJLE1BQU9ELFNBQVNFLElBQUksTUFDcEMsQ0FBQzt3QkFFSCxJQUFJLENBQUNDLE9BQU8sR0FBR0YsTUFBTUcsT0FBT0MsT0FB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UyxFQUFFLEdBQzlCQSxPQUFPdkksT0FBTyxDQUFDLHNCQUFzQjtBQUV2QyxNQUFNd0ksNkJBQStEO0lBQ25FLGNBQWMsQ0FBQ3pJLE1BQWdCO1lBQzdCLE1BQU0sRUFBRTBJLFFBQVEsRUFBRSxHQUFHLElBQUlDLElBQUkzSTtZQUM3QixNQUFNLENBQUM0SSxRQUFRLEdBQUdGLFNBQVN6SSxPQUFPLENBQUMsS0FBSyxJQUFJNEksS0FBSyxDQUFDO1lBQ2xELE1BQU1DLGNBQWMsTUFBTSxDQUN4QixNQUFNakksTUFBTSxDQUFDLHlCQUF5QixFQUFFK0gsUUFBUSxJQUFJLENBQUMsRUFBRTtnQkFDckRHLE9BQU87Z0JBQ1BDLGFBQWE7Z0JBQ2JDLFdBQVc7Z0JBQ1hDLE1BQU07Z0JBQ05DLGdCQUFnQjtnQkFDaEIsMkNBQTJDO2dCQUMzQ2hKLFFBQVE7WUFDVixFQUFDLEVBQ0RpSixJQUFJO1lBQ04sTUFBTUMsV0FBVyxJQUFJQyxZQUNsQkMsZUFBZSxDQUFDVCxhQUFhLG1CQUM3QnZELGFBQWEsQ0FBQztZQUNqQixNQUFNa0IsU0FBUzRDLFVBQVU5RCxjQUFjLFdBQVdpRTtZQUNsRCxNQUFNOUMsUUFBUTJDLFVBQVU5RCxjQUFjLFVBQVVpRTtZQUVoRCxPQUFPO2dCQUNML0MsUUFBUThCLFlBQVk5QjtnQkFDcEJDLE9BQU82QixZQUFZN0I7WUFDckI7UUFDRjtBQUNGO0FBRU8sTUFBTStDLHNCQUFzQixDQUFDeko7SUFDbEMsTUFBTSxFQUFFMEosSUFBSSxFQUFFLEdBQUcsSUFBSWYsSUFBSTNJO0lBQ3pCLE1BQU0sR0FBRzJKLFFBQVFDLElBQUksR0FBR0YsS0FBS2IsS0FBSyxDQUFDO0lBRW5DLE9BQU9KLDBCQUEwQixDQUFDLEdBQUdrQixPQUFPLENBQUMsRUFBRUMsS0FBSyxDQUFDLEdBQUc1SjtBQUMxRCxFQUFFIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFVzZXJcXERvY3VtZW50c1xcU2l0ZXNcXFNpdGVzXFxlbSBkZXNlbnZvbHZpbWVudG9cXFBvcnRmb2xpbzJcXGNvbXBvbmVudHNcXGFwcHNcXFdlYmFtcFxcZnVuY3Rpb25zLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHR5cGUgVHJhY2ssIHR5cGUgVVJMVHJhY2sgfSBmcm9tIFwid2ViYW1wXCI7XHJcbmltcG9ydCB7IHR5cGUgUG9zaXRpb24gfSBmcm9tIFwicmVhY3Qtcm5kXCI7XHJcbmltcG9ydCB7XHJcbiAgdHlwZSBCdXR0ZXJDaHVyblByZXNldHMsXHJcbiAgdHlwZSBCdXR0ZXJDaHVybldlYmFtcFByZXNldCxcclxuICB0eXBlIFNraW5EYXRhLFxyXG4gIHR5cGUgV2ViYW1wQXBpUmVzcG9uc2UsXHJcbiAgdHlwZSBXZWJhbXBDSSxcclxufSBmcm9tIFwiY29tcG9uZW50cy9hcHBzL1dlYmFtcC90eXBlc1wiO1xyXG5pbXBvcnQgeyBjZW50ZXJQb3NpdGlvbiB9IGZyb20gXCJjb21wb25lbnRzL3N5c3RlbS9XaW5kb3cvZnVuY3Rpb25zXCI7XHJcbmltcG9ydCB7IEhPTUUsIE1QM19NSU1FX1RZUEUsIFBBQ0tBR0VfREFUQSB9IGZyb20gXCJ1dGlscy9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgYnVmZmVyVG9CbG9iLCBjbGVhblVwQnVmZmVyVXJsLCBsb2FkRmlsZXMgfSBmcm9tIFwidXRpbHMvZnVuY3Rpb25zXCI7XHJcblxyXG5jb25zdCBCUk9LRU5fUFJFU0VUUyA9IG5ldyBTZXQoW1xyXG4gIFwiRmxleGkgLSBhbGllbiBmaXNoIHBvbmRcIixcclxuICBcIkdlaXNzIC0gU3BpcmFsIEFydGlmYWN0XCIsXHJcbl0pO1xyXG5cclxuY29uc3QgV0VCQU1QX1NLSU5TX1BBVEggPSBgJHtIT01FfS9Eb2N1bWVudHMvV2luYW1wIFNraW5zYDtcclxuXHJcbmNvbnN0IEFMTE9XU19DT1JTX0lOX1dJTkFNUF9TS0lOX01VU0VVTSA9XHJcbiAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gIFtcImxvY2FsaG9zdFwiLCBQQUNLQUdFX0RBVEEuYXV0aG9yLnVybC5yZXBsYWNlKFwiaHR0cHM6Ly9cIiwgXCJcIildLmluY2x1ZGVzKFxyXG4gICAgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lXHJcbiAgKTtcclxuXHJcbmNvbnN0IGNyZWF0ZVdlYmFtcFNraW5NdXNldW1RdWVyeSA9IChvZmZzZXQ6IG51bWJlcik6IHN0cmluZyA9PiBgXHJcbiAgcXVlcnkge1xyXG4gICAgc2tpbnMoZmlsdGVyOiBBUFBST1ZFRCwgZmlyc3Q6IDEsIG9mZnNldDogJHtvZmZzZXR9KSB7XHJcbiAgICAgIG5vZGVzIHtcclxuICAgICAgICBkb3dubG9hZF91cmxcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuYDtcclxuXHJcbmV4cG9ydCBjb25zdCBCQVNFX1dFQkFNUF9PUFRJT05TID0ge1xyXG4gIGF2YWlsYWJsZVNraW5zOiBbXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiQXF1YSBYXCIsXHJcbiAgICAgIHVybDogYCR7V0VCQU1QX1NLSU5TX1BBVEh9L0FxdWFfWC53c3pgLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJOdWNsZW8gTkxvZyB2MkdcIixcclxuICAgICAgdXJsOiBgJHtXRUJBTVBfU0tJTlNfUEFUSH0vTnVjbGVvX05Mb2dfdjEwMi53c3pgLFxyXG4gICAgfSxcclxuICAgIC4uLihBTExPV1NfQ09SU19JTl9XSU5BTVBfU0tJTl9NVVNFVU1cclxuICAgICAgPyBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGRlZmF1bHROYW1lOiBcIlJhbmRvbSAoV2luYW1wIFNraW4gTXVzZXVtKVwiLFxyXG4gICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgICBpZiAodGhpcy5sb2FkaW5nKSByZXR1cm4gdGhpcy5kZWZhdWx0TmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgZmV0Y2goXCJodHRwczovL2FwaS53ZWJhbXAub3JnL2dyYXBocWxcIiwge1xyXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgICBxdWVyeTogY3JlYXRlV2ViYW1wU2tpbk11c2V1bVF1ZXJ5KFxyXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDApXHJcbiAgICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICB9KS50aGVuKGFzeW5jIChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSAoKGF3YWl0IHJlc3BvbnNlLmpzb24oKSkgfHxcclxuICAgICAgICAgICAgICAgICAge30pIGFzIFdlYmFtcEFwaVJlc3BvbnNlO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2tpblVybCA9IGRhdGE/LnNraW5zPy5ub2Rlcz8uWzBdPy5kb3dubG9hZF91cmwgYXMgc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHROYW1lO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBza2luVXJsOiBcIlwiLFxyXG4gICAgICAgICAgICBnZXQgdXJsKCk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2tpblVybCB8fCBgJHtXRUJBTVBfU0tJTlNfUEFUSH0vYmFzZS0yLjkxLndzemA7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIF1cclxuICAgICAgOiBbXSksXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiU3B5QU1QIFByb2Zlc3Npb25hbCBFZGl0aW9uIHY1XCIsXHJcbiAgICAgIHVybDogYCR7V0VCQU1QX1NLSU5TX1BBVEh9L1NweUFNUF9Qcm9mZXNzaW9uYWxfRWRpdGlvbl92NS53c3pgLFxyXG4gICAgfSxcclxuICBdLFxyXG59O1xyXG5cclxuY29uc3QgQkFTRV9XSU5ET1dfU0laRSA9IHtcclxuICBoZWlnaHQ6IDExNixcclxuICB3aWR0aDogMjc1LFxyXG59O1xyXG5cclxuY29uc3QgQ09OVEFJTkVSX1dJTkRPVyA9IFwiI3dlYmFtcFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IE1BSU5fV0lORE9XID0gXCIjbWFpbi13aW5kb3dcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBQTEFZTElTVF9XSU5ET1cgPSBcIiNwbGF5bGlzdC13aW5kb3dcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBjbGVhbkJ1ZmZlck9uU2tpbkxvYWQgPSAoXHJcbiAgd2ViYW1wOiBXZWJhbXBDSSxcclxuICB1cmwgPSBcIlwiXHJcbik6IFByb21pc2U8dm9pZD4gPT5cclxuICB3ZWJhbXAuc2tpbklzTG9hZGVkKCkudGhlbigoKSA9PiB7XHJcbiAgICBpZiAodXJsKSBjbGVhblVwQnVmZmVyVXJsKHVybCk7XHJcbiAgfSk7XHJcblxyXG5leHBvcnQgY29uc3QgY2xvc2VFcXVhbGl6ZXIgPSAod2ViYW1wOiBXZWJhbXBDSSk6IHZvaWQgPT4ge1xyXG4gIHdlYmFtcC5zdG9yZS5kaXNwYXRjaCh7XHJcbiAgICB0eXBlOiBcIkNMT1NFX1dJTkRPV1wiLFxyXG4gICAgd2luZG93SWQ6IFwiZXF1YWxpemVyXCIsXHJcbiAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZW5hYmxlZE1pbGtkcm9wID0gKHdlYmFtcDogV2ViYW1wQ0kpOiB2b2lkID0+IHtcclxuICB3ZWJhbXAuc3RvcmUuZGlzcGF0Y2goe1xyXG4gICAgb3BlbjogZmFsc2UsXHJcbiAgICB0eXBlOiBcIkVOQUJMRV9NSUxLRFJPUFwiLFxyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHNldFNraW5EYXRhID0gKHdlYmFtcDogV2ViYW1wQ0ksIGRhdGE6IFNraW5EYXRhKTogdm9pZCA9PiB7XHJcbiAgd2ViYW1wLnN0b3JlLmRpc3BhdGNoKHtcclxuICAgIGRhdGEsXHJcbiAgICB0eXBlOiBcIlNFVF9TS0lOX0RBVEFcIixcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGxvYWRCdXR0ZXJjaHVybiA9ICh3ZWJhbXA6IFdlYmFtcENJLCBidXR0ZXJjaHVybjogdW5rbm93bik6IHZvaWQgPT4ge1xyXG4gIHdlYmFtcC5zdG9yZS5kaXNwYXRjaCh7XHJcbiAgICBidXR0ZXJjaHVybixcclxuICAgIHR5cGU6IFwiR09UX0JVVFRFUkNIVVJOXCIsXHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBsb2FkQnV0dGVyY2h1cm5QcmVzZXRzID0gKFxyXG4gIHdlYmFtcDogV2ViYW1wQ0ksXHJcbiAgcHJlc2V0czogQnV0dGVyQ2h1cm5XZWJhbXBQcmVzZXRbXVxyXG4pOiB2b2lkID0+XHJcbiAgd2ViYW1wLnN0b3JlLmRpc3BhdGNoKHtcclxuICAgIHByZXNldHMsXHJcbiAgICB0eXBlOiBcIkdPVF9CVVRURVJDSFVSTl9QUkVTRVRTXCIsXHJcbiAgfSk7XHJcblxyXG5jb25zdCBnZXRCdXR0ZXJjaHVyblByZXNldEluZGV4ID0gKHdlYmFtcDogV2ViYW1wQ0kpOiBudW1iZXIgPT4ge1xyXG4gIGNvbnN0IHsgcHJlc2V0SGlzdG9yeSA9IFtdLCBwcmVzZXRzID0gW10gfSA9XHJcbiAgICB3ZWJhbXAuc3RvcmUuZ2V0U3RhdGUoKT8ubWlsa2Ryb3AgfHwge307XHJcbiAgY29uc3QgaW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwcmVzZXRzLmxlbmd0aCk7XHJcbiAgY29uc3QgcHJlc2V0ID0gcHJlc2V0c1tpbmRleF07XHJcblxyXG4gIHJldHVybiBwcmVzZXQubmFtZSAmJlxyXG4gICAgIUJST0tFTl9QUkVTRVRTLmhhcyhwcmVzZXQubmFtZSkgJiZcclxuICAgICFwcmVzZXRIaXN0b3J5LnNsaWNlKC01KS5pbmNsdWRlcyhpbmRleClcclxuICAgID8gaW5kZXhcclxuICAgIDogZ2V0QnV0dGVyY2h1cm5QcmVzZXRJbmRleCh3ZWJhbXApO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGxvYWRCdXR0ZXJjaHVyblByZXNldCA9ICh3ZWJhbXA6IFdlYmFtcENJKTogdm9pZCA9PiB7XHJcbiAgY29uc3QgaW5kZXggPSBnZXRCdXR0ZXJjaHVyblByZXNldEluZGV4KHdlYmFtcCk7XHJcblxyXG4gIHdlYmFtcC5zdG9yZS5kaXNwYXRjaCh7XHJcbiAgICBhZGRUb0hpc3Rvcnk6IHRydWUsXHJcbiAgICBpbmRleCxcclxuICAgIHR5cGU6IFwiUFJFU0VUX1JFUVVFU1RFRFwiLFxyXG4gIH0pO1xyXG4gIHdlYmFtcC5zdG9yZS5kaXNwYXRjaCh7XHJcbiAgICBpbmRleCxcclxuICAgIHR5cGU6IFwiU0VMRUNUX1BSRVNFVF9BVF9JTkRFWFwiLFxyXG4gIH0pO1xyXG59O1xyXG5cclxubGV0IGN5Y2xlVGltZXJJZCA9IDA7XHJcblxyXG5jb25zdCBjeWNsZUJ1dHRlcmNodXJuUHJlc2V0cyA9ICh3ZWJhbXA6IFdlYmFtcENJKTogdm9pZCA9PiB7XHJcbiAgd2luZG93LmNsZWFySW50ZXJ2YWwoY3ljbGVUaW1lcklkKTtcclxuICBjeWNsZVRpbWVySWQgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgaWYgKCF3ZWJhbXApIHdpbmRvdy5jbGVhckludGVydmFsKGN5Y2xlVGltZXJJZCk7XHJcblxyXG4gICAgbG9hZEJ1dHRlcmNodXJuUHJlc2V0KHdlYmFtcCk7XHJcbiAgfSwgMjAwMDApO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGxvYWRNaWxrZHJvcFdoZW5OZWVkZWQgPSAod2ViYW1wOiBXZWJhbXBDSSk6IHZvaWQgPT4ge1xyXG4gIGNvbnN0IHVuc3Vic2NyaWJlID0gd2ViYW1wLnN0b3JlLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICBjb25zdCB7IG1pbGtkcm9wLCB3aW5kb3dzIH0gPSB3ZWJhbXAuc3RvcmUuZ2V0U3RhdGUoKTtcclxuXHJcbiAgICBpZiAod2luZG93cz8uZ2VuV2luZG93cz8ubWlsa2Ryb3A/Lm9wZW4gJiYgIW1pbGtkcm9wPy5idXR0ZXJjaHVybikge1xyXG4gICAgICBsb2FkRmlsZXMoW1wiL1Byb2dyYW0gRmlsZXMvV2ViYW1wL2J1dHRlcmNodXJuLm1pbi5qc1wiXSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgaWYgKCF3aW5kb3cuYnV0dGVyY2h1cm4/LmRlZmF1bHQpIHJldHVybjtcclxuXHJcbiAgICAgICAgbG9hZEJ1dHRlcmNodXJuKHdlYmFtcCwgd2luZG93LmJ1dHRlcmNodXJuLmRlZmF1bHQpO1xyXG5cclxuICAgICAgICBjb25zdCB7IHBsYXlsaXN0LCBtYWluOiBtYWluV2luZG93IH0gPSB3aW5kb3dzLmdlbldpbmRvd3MgfHwge307XHJcbiAgICAgICAgY29uc3QgeyB4ID0gMCwgeSA9IDAgfSA9XHJcbiAgICAgICAgICAocGxheWxpc3Q/Lm9wZW4gPyBwbGF5bGlzdD8ucG9zaXRpb24gOiBtYWluV2luZG93Py5wb3NpdGlvbikgfHwge307XHJcblxyXG4gICAgICAgIHdlYmFtcC5zdG9yZS5kaXNwYXRjaCh7XHJcbiAgICAgICAgICBwb3NpdGlvbnM6IHtcclxuICAgICAgICAgICAgbWlsa2Ryb3A6IHtcclxuICAgICAgICAgICAgICB4LFxyXG4gICAgICAgICAgICAgIHk6IHkgKyBCQVNFX1dJTkRPV19TSVpFLmhlaWdodCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB0eXBlOiBcIlVQREFURV9XSU5ET1dfUE9TSVRJT05TXCIsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHVuc3Vic2NyaWJlKCk7XHJcblxyXG4gICAgICAgIHdlYmFtcC5zdG9yZS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgY29uc3Qgd2ViYW1wRGVza3RvcCA9IFsuLi5kb2N1bWVudC5ib2R5LmNoaWxkcmVuXS5maW5kKChub2RlKSA9PlxyXG4gICAgICAgICAgICBub2RlLmNsYXNzTGlzdD8uY29udGFpbnMoXCJ3ZWJhbXAtZGVza3RvcFwiKVxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICBpZiAod2ViYW1wRGVza3RvcCkge1xyXG4gICAgICAgICAgICBjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIm1haW5cIik7XHJcblxyXG4gICAgICAgICAgICBpZiAobWFpbikge1xyXG4gICAgICAgICAgICAgIFsuLi5tYWluLmNoaWxkcmVuXS5mb3JFYWNoKChub2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5jbGFzc0xpc3Q/LmNvbnRhaW5zKFwid2ViYW1wLWRlc2t0b3BcIikpIHtcclxuICAgICAgICAgICAgICAgICAgbm9kZS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBtYWluLmFwcGVuZCh3ZWJhbXBEZXNrdG9wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpbXBvcnQoXCJidXR0ZXJjaHVybi1wcmVzZXRzXCIpLnRoZW4oKHsgZGVmYXVsdDogcHJlc2V0cyB9KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCByZXNvbHZlZFByZXNldHM6IEJ1dHRlckNodXJuV2ViYW1wUHJlc2V0W10gPSBPYmplY3QuZW50cmllcyhcclxuICAgICAgICAgICAgcHJlc2V0cyBhcyBCdXR0ZXJDaHVyblByZXNldHNcclxuICAgICAgICAgICkubWFwKChbbmFtZSwgcHJlc2V0XSkgPT4gKHtcclxuICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICAgICAgcHJlc2V0LFxyXG4gICAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICAgIGxvYWRCdXR0ZXJjaHVyblByZXNldHMod2ViYW1wLCByZXNvbHZlZFByZXNldHMpO1xyXG4gICAgICAgICAgbG9hZEJ1dHRlcmNodXJuUHJlc2V0KHdlYmFtcCk7XHJcbiAgICAgICAgICBjeWNsZUJ1dHRlcmNodXJuUHJlc2V0cyh3ZWJhbXApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRXZWJhbXBFbGVtZW50ID0gKCk6IEhUTUxEaXZFbGVtZW50IHwgbnVsbCA9PlxyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTERpdkVsZW1lbnQ+KENPTlRBSU5FUl9XSU5ET1cpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVdlYmFtcFBvc2l0aW9uID0gKFxyXG4gIHdlYmFtcDogV2ViYW1wQ0ksXHJcbiAgcG9zaXRpb24/OiBQb3NpdGlvblxyXG4pOiB2b2lkID0+IHtcclxuICBjb25zdCB7IGhlaWdodCwgd2lkdGggfSA9IEJBU0VfV0lORE9XX1NJWkU7XHJcbiAgY29uc3QgeyB4LCB5IH0gPSBwb3NpdGlvbiB8fCBjZW50ZXJQb3NpdGlvbih7IGhlaWdodDogaGVpZ2h0ICogMiwgd2lkdGggfSk7XHJcblxyXG4gIHdlYmFtcC5zdG9yZS5kaXNwYXRjaCh7XHJcbiAgICBwb3NpdGlvbnM6IHtcclxuICAgICAgbWFpbjogeyB4LCB5IH0sXHJcbiAgICAgIG1pbGtkcm9wOiB7IHg6IDAgLSB3aWR0aCwgeTogMCAtIGhlaWdodCB9LFxyXG4gICAgICBwbGF5bGlzdDogeyB4LCB5OiBoZWlnaHQgKyB5IH0sXHJcbiAgICB9LFxyXG4gICAgdHlwZTogXCJVUERBVEVfV0lORE9XX1BPU0lUSU9OU1wiLFxyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGZvY3VzV2luZG93ID0gKHdlYmFtcDogV2ViYW1wQ0ksIHdpbmRvdzogc3RyaW5nKTogdm9pZCA9PlxyXG4gIHdlYmFtcC5zdG9yZS5kaXNwYXRjaCh7XHJcbiAgICB0eXBlOiBcIlNFVF9GT0NVU0VEX1dJTkRPV1wiLFxyXG4gICAgd2luZG93LFxyXG4gIH0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IHVuRm9jdXMgPSAod2ViYW1wOiBXZWJhbXBDSSk6IHZvaWQgPT5cclxuICB3ZWJhbXAuc3RvcmUuZGlzcGF0Y2goe1xyXG4gICAgdHlwZTogXCJTRVRfRk9DVVNFRF9XSU5ET1dcIixcclxuICAgIHdpbmRvdzogXCJcIixcclxuICB9KTtcclxuXHJcbmV4cG9ydCBjb25zdCBwYXJzZVRyYWNrID0gYXN5bmMgKFxyXG4gIGZpbGU6IEJ1ZmZlcixcclxuICBmaWxlTmFtZTogc3RyaW5nXHJcbik6IFByb21pc2U8VHJhY2s+ID0+IHtcclxuICBjb25zdCB7IHBhcnNlQnVmZmVyIH0gPSBhd2FpdCBpbXBvcnQoXCJtdXNpYy1tZXRhZGF0YS1icm93c2VyXCIpO1xyXG4gIGNvbnN0IHtcclxuICAgIGNvbW1vbjogeyBhbGJ1bSA9IFwiXCIsIGFydGlzdCA9IFwiXCIsIHRpdGxlID0gZmlsZU5hbWUgfSxcclxuICAgIGZvcm1hdDogeyBkdXJhdGlvbiA9IDAgfSxcclxuICB9ID0gYXdhaXQgcGFyc2VCdWZmZXIoXHJcbiAgICBmaWxlLFxyXG4gICAge1xyXG4gICAgICBtaW1lVHlwZTogTVAzX01JTUVfVFlQRSxcclxuICAgICAgc2l6ZTogZmlsZS5sZW5ndGgsXHJcbiAgICB9LFxyXG4gICAgeyBkdXJhdGlvbjogdHJ1ZSwgc2tpcENvdmVyczogdHJ1ZSwgc2tpcFBvc3RIZWFkZXJzOiB0cnVlIH1cclxuICApO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgYmxvYjogYnVmZmVyVG9CbG9iKGZpbGUsIFwiYXVkaW8vbXBlZ1wiKSxcclxuICAgIGR1cmF0aW9uOiBNYXRoLmZsb29yKGR1cmF0aW9uKSxcclxuICAgIG1ldGFEYXRhOiB7IGFsYnVtLCBhcnRpc3QsIHRpdGxlIH0sXHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVNM3VQbGF5bGlzdCA9ICh0cmFja3M6IFVSTFRyYWNrW10pOiBzdHJpbmcgPT4ge1xyXG4gIGNvbnN0IG0zdVBsYXlsaXN0ID0gdHJhY2tzLm1hcCgodHJhY2spOiBzdHJpbmcgPT4ge1xyXG4gICAgY29uc3QgdHJhY2tVcmwgPSB0cmFjay51cmwgPyBgXFxuJHt0cmFjay51cmx9YCA6IFwiXCI7XHJcbiAgICBsZXQgdGl0bGUgPSB0cmFjay5kZWZhdWx0TmFtZTtcclxuXHJcbiAgICBpZiAodHJhY2subWV0YURhdGE/LmFydGlzdCkge1xyXG4gICAgICBpZiAodHJhY2subWV0YURhdGE/LnRpdGxlKSB7XHJcbiAgICAgICAgdGl0bGUgPSBgJHt0cmFjay5tZXRhRGF0YS5hcnRpc3R9IC0gJHt0cmFjay5tZXRhRGF0YS50aXRsZX1gO1xyXG4gICAgICB9IGVsc2UgaWYgKHRpdGxlKSB7XHJcbiAgICAgICAgdGl0bGUgPSBgJHt0cmFjay5tZXRhRGF0YS5hcnRpc3R9IC0gJHt0aXRsZX1gO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHRyYWNrLm1ldGFEYXRhPy50aXRsZSkge1xyXG4gICAgICB0aXRsZSA9IHRyYWNrLm1ldGFEYXRhLnRpdGxlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cmFja1VybFxyXG4gICAgICA/IGAjRVhUSU5GOiR7dHJhY2suZHVyYXRpb24gPz8gLTF9LCR7dGl0bGUgfHwgXCJcIn0ke3RyYWNrVXJsfWBcclxuICAgICAgOiBcIlwiO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gYCR7W1wiI0VYVE0zVVwiLCAuLi5tM3VQbGF5bGlzdC5maWx0ZXIoQm9vbGVhbildLmpvaW4oXCJcXG5cIil9XFxuYDtcclxufTtcclxuXHJcbmNvbnN0IE1BWF9QTEFZTElTVF9JVEVNUyA9IDEwMDA7XHJcblxyXG5leHBvcnQgY29uc3QgdHJhY2tzRnJvbVBsYXlsaXN0ID0gYXN5bmMgKFxyXG4gIGRhdGE6IHN0cmluZyxcclxuICBleHRlbnNpb246IHN0cmluZyxcclxuICBkZWZhdWx0TmFtZT86IHN0cmluZ1xyXG4pOiBQcm9taXNlPFRyYWNrW10+ID0+IHtcclxuICBjb25zdCB7IEFTWCwgTTNVLCBQTFMgfSA9IGF3YWl0IGltcG9ydChcInBsYXlsaXN0LXBhcnNlclwiKTtcclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWR1cGxpY2F0ZS10eXBlLWNvbnN0aXR1ZW50c1xyXG4gIGNvbnN0IHBhcnNlcjogUmVjb3JkPHN0cmluZywgdHlwZW9mIEFTWCB8IHR5cGVvZiBNM1UgfCB0eXBlb2YgUExTPiA9IHtcclxuICAgIFwiLmFzeFwiOiBBU1gsXHJcbiAgICBcIi5tM3VcIjogTTNVLFxyXG4gICAgXCIucGxzXCI6IFBMUyxcclxuICB9O1xyXG4gIGNvbnN0IHRyYWNrcyA9XHJcbiAgICBwYXJzZXJbZXh0ZW5zaW9uXVxyXG4gICAgICA/LnBhcnNlKGRhdGEpXHJcbiAgICAgIC5maWx0ZXIoQm9vbGVhbilcclxuICAgICAgLnNsaWNlKDAsIE1BWF9QTEFZTElTVF9JVEVNUykgPz8gW107XHJcblxyXG4gIHJldHVybiB0cmFja3MubWFwKCh7IGFydGlzdCA9IFwiXCIsIGZpbGUgPSBcIlwiLCBsZW5ndGggPSAwLCB0aXRsZSA9IFwiXCIgfSkgPT4ge1xyXG4gICAgY29uc3QgW3BhcnNlZEFydGlzdCwgcGFyc2VkVGl0bGVdID0gW2FydGlzdC50cmltKCksIHRpdGxlLnRyaW0oKV07XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZHVyYXRpb246IE1hdGgubWF4KGxlbmd0aCwgMCksXHJcbiAgICAgIG1ldGFEYXRhOiB7XHJcbiAgICAgICAgYWxidW06IHBhcnNlZFRpdGxlIHx8IGRlZmF1bHROYW1lLFxyXG4gICAgICAgIGFydGlzdDogcGFyc2VkQXJ0aXN0LFxyXG4gICAgICAgIHRpdGxlOiBwYXJzZWRUaXRsZSxcclxuICAgICAgfSxcclxuICAgICAgdXJsOiBmaWxlLFxyXG4gICAgfTtcclxuICB9KTtcclxufTtcclxuXHJcbnR5cGUgTWV0YWRhdGFHZXR0ZXIgPSAoKSA9PiBQcm9taXNlPFRyYWNrW1wibWV0YURhdGFcIl0+O1xyXG5cclxudHlwZSBNZXRhZGF0YVByb3ZpZGVyID0gKHVybDogc3RyaW5nKSA9PiBNZXRhZGF0YUdldHRlcjtcclxuXHJcbmNvbnN0IHJlbW92ZUNEYXRhID0gKHN0cmluZyA9IFwiXCIpOiBzdHJpbmcgPT5cclxuICBzdHJpbmcucmVwbGFjZSgvPCFcXFtDREFUQVxcW3xcXF1cXF0+L2csIFwiXCIpO1xyXG5cclxuY29uc3Qgc3RyZWFtaW5nTWV0YWRhdGFQcm92aWRlcnM6IFJlY29yZDxzdHJpbmcsIE1ldGFkYXRhUHJvdmlkZXI+ID0ge1xyXG4gIFwic29tYWZtLmNvbVwiOiAodXJsOiBzdHJpbmcpID0+IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHsgcGF0aG5hbWUgfSA9IG5ldyBVUkwodXJsKTtcclxuICAgIGNvbnN0IFtjaGFubmVsXSA9IHBhdGhuYW1lLnJlcGxhY2UoXCIvXCIsIFwiXCIpLnNwbGl0KFwiLVwiKTtcclxuICAgIGNvbnN0IHhtbFBsYXlsaXN0ID0gYXdhaXQgKFxyXG4gICAgICBhd2FpdCBmZXRjaChgaHR0cHM6Ly9zb21hZm0uY29tL3NvbmdzLyR7Y2hhbm5lbH0ueG1sYCwge1xyXG4gICAgICAgIGNhY2hlOiBcIm5vLWNhY2hlXCIsXHJcbiAgICAgICAgY3JlZGVudGlhbHM6IFwib21pdFwiLFxyXG4gICAgICAgIGtlZXBhbGl2ZTogZmFsc2UsXHJcbiAgICAgICAgbW9kZTogXCJjb3JzXCIsXHJcbiAgICAgICAgcmVmZXJyZXJQb2xpY3k6IFwibm8tcmVmZXJyZXJcIixcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9uby1udWxsXHJcbiAgICAgICAgd2luZG93OiBudWxsLFxyXG4gICAgICB9KVxyXG4gICAgKS50ZXh0KCk7XHJcbiAgICBjb25zdCBzb25nTm9kZSA9IG5ldyBET01QYXJzZXIoKVxyXG4gICAgICAucGFyc2VGcm9tU3RyaW5nKHhtbFBsYXlsaXN0LCBcImFwcGxpY2F0aW9uL3htbFwiKVxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcInNvbmdcIik7XHJcbiAgICBjb25zdCBhcnRpc3QgPSBzb25nTm9kZT8ucXVlcnlTZWxlY3RvcihcImFydGlzdFwiKT8uaW5uZXJIVE1MO1xyXG4gICAgY29uc3QgdGl0bGUgPSBzb25nTm9kZT8ucXVlcnlTZWxlY3RvcihcInRpdGxlXCIpPy5pbm5lckhUTUw7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgYXJ0aXN0OiByZW1vdmVDRGF0YShhcnRpc3QpLFxyXG4gICAgICB0aXRsZTogcmVtb3ZlQ0RhdGEodGl0bGUpLFxyXG4gICAgfTtcclxuICB9LFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldE1ldGFkYXRhUHJvdmlkZXIgPSAodXJsOiBzdHJpbmcpOiBNZXRhZGF0YUdldHRlciB8IHZvaWQgPT4ge1xyXG4gIGNvbnN0IHsgaG9zdCB9ID0gbmV3IFVSTCh1cmwpO1xyXG4gIGNvbnN0IFssIGRvbWFpbiwgdGxkXSA9IGhvc3Quc3BsaXQoXCIuXCIpO1xyXG5cclxuICByZXR1cm4gc3RyZWFtaW5nTWV0YWRhdGFQcm92aWRlcnNbYCR7ZG9tYWlufS4ke3RsZH1gXT8uKHVybCk7XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJjZW50ZXJQb3NpdGlvbiIsIkhPTUUiLCJNUDNfTUlNRV9UWVBFIiwiUEFDS0FHRV9EQVRBIiwiYnVmZmVyVG9CbG9iIiwiY2xlYW5VcEJ1ZmZlclVybCIsImxvYWRGaWxlcyIsIkJST0tFTl9QUkVTRVRTIiwiU2V0IiwiV0VCQU1QX1NLSU5TX1BBVEgiLCJBTExPV1NfQ09SU19JTl9XSU5BTVBfU0tJTl9NVVNFVU0iLCJhdXRob3IiLCJ1cmwiLCJyZXBsYWNlIiwiaW5jbHVkZXMiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwiY3JlYXRlV2ViYW1wU2tpbk11c2V1bVF1ZXJ5Iiwib2Zmc2V0IiwiQkFTRV9XRUJBTVBfT1BUSU9OUyIsImF2YWlsYWJsZVNraW5zIiwibmFtZSIsImRlZmF1bHROYW1lIiwibG9hZGluZyIsImZldGNoIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJxdWVyeSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImhlYWRlcnMiLCJtZXRob2QiLCJ0aGVuIiwicmVzcG9uc2UiLCJkYXRhIiwianNvbiIsInNraW5VcmwiLCJza2lucyIsIm5vZGVzIiwiZG93bmxvYWRfdXJsIiwiQkFTRV9XSU5ET1dfU0laRSIsImhlaWdodCIsIndpZHRoIiwiQ09OVEFJTkVSX1dJTkRPVyIsIk1BSU5fV0lORE9XIiwiUExBWUxJU1RfV0lORE9XIiwiY2xlYW5CdWZmZXJPblNraW5Mb2FkIiwid2ViYW1wIiwic2tpbklzTG9hZGVkIiwiY2xvc2VFcXVhbGl6ZXIiLCJzdG9yZSIsImRpc3BhdGNoIiwidHlwZSIsIndpbmRvd0lkIiwiZW5hYmxlZE1pbGtkcm9wIiwib3BlbiIsInNldFNraW5EYXRhIiwibG9hZEJ1dHRlcmNodXJuIiwiYnV0dGVyY2h1cm4iLCJsb2FkQnV0dGVyY2h1cm5QcmVzZXRzIiwicHJlc2V0cyIsImdldEJ1dHRlcmNodXJuUHJlc2V0SW5kZXgiLCJwcmVzZXRIaXN0b3J5IiwiZ2V0U3RhdGUiLCJtaWxrZHJvcCIsImluZGV4IiwibGVuZ3RoIiwicHJlc2V0IiwiaGFzIiwic2xpY2UiLCJsb2FkQnV0dGVyY2h1cm5QcmVzZXQiLCJhZGRUb0hpc3RvcnkiLCJjeWNsZVRpbWVySWQiLCJjeWNsZUJ1dHRlcmNodXJuUHJlc2V0cyIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImxvYWRNaWxrZHJvcFdoZW5OZWVkZWQiLCJ1bnN1YnNjcmliZSIsInN1YnNjcmliZSIsIndpbmRvd3MiLCJnZW5XaW5kb3dzIiwiZGVmYXVsdCIsInBsYXlsaXN0IiwibWFpbiIsIm1haW5XaW5kb3ciLCJ4IiwieSIsInBvc2l0aW9uIiwicG9zaXRpb25zIiwid2ViYW1wRGVza3RvcCIsImRvY3VtZW50IiwiY2hpbGRyZW4iLCJmaW5kIiwibm9kZSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicXVlcnlTZWxlY3RvciIsImZvckVhY2giLCJyZW1vdmUiLCJhcHBlbmQiLCJyZXNvbHZlZFByZXNldHMiLCJPYmplY3QiLCJlbnRyaWVzIiwibWFwIiwiZ2V0V2ViYW1wRWxlbWVudCIsInVwZGF0ZVdlYmFtcFBvc2l0aW9uIiwiZm9jdXNXaW5kb3ciLCJ1bkZvY3VzIiwicGFyc2VUcmFjayIsImZpbGUiLCJmaWxlTmFtZSIsInBhcnNlQnVmZmVyIiwiY29tbW9uIiwiYWxidW0iLCJhcnRpc3QiLCJ0aXRsZSIsImZvcm1hdCIsImR1cmF0aW9uIiwibWltZVR5cGUiLCJzaXplIiwic2tpcENvdmVycyIsInNraXBQb3N0SGVhZGVycyIsImJsb2IiLCJtZXRhRGF0YSIsImNyZWF0ZU0zdVBsYXlsaXN0IiwidHJhY2tzIiwibTN1UGxheWxpc3QiLCJ0cmFjayIsInRyYWNrVXJsIiwiZmlsdGVyIiwiQm9vbGVhbiIsImpvaW4iLCJNQVhfUExBWUxJU1RfSVRFTVMiLCJ0cmFja3NGcm9tUGxheWxpc3QiLCJleHRlbnNpb24iLCJBU1giLCJNM1UiLCJQTFMiLCJwYXJzZXIiLCJwYXJzZSIsInBhcnNlZEFydGlzdCIsInBhcnNlZFRpdGxlIiwidHJpbSIsIm1heCIsInJlbW92ZUNEYXRhIiwic3RyaW5nIiwic3RyZWFtaW5nTWV0YWRhdGFQcm92aWRlcnMiLCJwYXRobmFtZSIsIlVSTCIsImNoYW5uZWwiLCJzcGxpdCIsInhtbFBsYXlsaXN0IiwiY2FjaGUiLCJjcmVkZW50aWFscyIsImtlZXBhbGl2ZSIsIm1vZGUiLCJyZWZlcnJlclBvbGljeSIsInRleHQiLCJzb25nTm9kZSIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImlubmVySFRNTCIsImdldE1ldGFkYXRhUHJvdmlkZXIiLCJob3N0IiwiZG9tYWluIiwidGxkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/apps/Webamp/functions.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./components/apps/Webamp/index.tsx":
/*!******************************************!*\
  !*** ./components/apps/Webamp/index.tsx ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var components_apps_Webamp_StyledWebamp__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/apps/Webamp/StyledWebamp */ \"(pages-dir-node)/./components/apps/Webamp/StyledWebamp.ts\");\n/* harmony import */ var components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/apps/Webamp/functions */ \"(pages-dir-node)/./components/apps/Webamp/functions.ts\");\n/* harmony import */ var components_apps_Webamp_useWebamp__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/apps/Webamp/useWebamp */ \"(pages-dir-node)/./components/apps/Webamp/useWebamp.ts\");\n/* harmony import */ var components_system_Window_useFocusable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! components/system/Window/useFocusable */ \"(pages-dir-node)/./components/system/Window/useFocusable.ts\");\n/* harmony import */ var components_system_Window_useWindowTransitions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! components/system/Window/useWindowTransitions */ \"(pages-dir-node)/./components/system/Window/useWindowTransitions.ts\");\n/* harmony import */ var contexts_fileSystem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! contexts/fileSystem */ \"(pages-dir-node)/./contexts/fileSystem/index.ts\");\n/* harmony import */ var contexts_process__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! contexts/process */ \"(pages-dir-node)/./contexts/process/index.ts\");\n/* harmony import */ var utils_constants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! utils/constants */ \"(pages-dir-node)/./utils/constants.ts\");\n/* harmony import */ var utils_functions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! utils/functions */ \"(pages-dir-node)/./utils/functions.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([components_apps_Webamp_StyledWebamp__WEBPACK_IMPORTED_MODULE_3__]);\ncomponents_apps_Webamp_StyledWebamp__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\n\n\n\n\n\nconst Webamp = ({ id })=>{\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const { readFile } = (0,contexts_fileSystem__WEBPACK_IMPORTED_MODULE_8__.useFileSystem)();\n    const { processes: { [id]: { libs = [], minimized = false, url = \"\" } = {} } = {}, url: setUrl } = (0,contexts_process__WEBPACK_IMPORTED_MODULE_9__.useProcesses)();\n    const [loadedUrl, setLoadedUrl] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(url);\n    const { initWebamp, webampCI } = (0,components_apps_Webamp_useWebamp__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(id);\n    const windowTransitions = (0,components_system_Window_useWindowTransitions__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(id, true);\n    const focusEvents = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"Webamp.useMemo[focusEvents]\": ()=>({\n                onBlurCapture: ({\n                    \"Webamp.useMemo[focusEvents]\": ()=>webampCI && (0,components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_4__.unFocus)(webampCI)\n                })[\"Webamp.useMemo[focusEvents]\"],\n                onFocusCapture: ({\n                    \"Webamp.useMemo[focusEvents]\": ()=>webampCI && (0,components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_4__.focusWindow)(webampCI, \"main\")\n                })[\"Webamp.useMemo[focusEvents]\"]\n            })\n    }[\"Webamp.useMemo[focusEvents]\"], [\n        webampCI\n    ]);\n    const { zIndex, ...focusableProps } = (0,components_system_Window_useFocusable__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(id, focusEvents);\n    const getUrlOptions = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"Webamp.useCallback[getUrlOptions]\": async ()=>{\n            if (url) {\n                const extension = (0,utils_functions__WEBPACK_IMPORTED_MODULE_11__.getExtension)(url);\n                if (utils_constants__WEBPACK_IMPORTED_MODULE_10__.AUDIO_PLAYLIST_EXTENSIONS.has(extension)) {\n                    const initialTracks = await (0,components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_4__.tracksFromPlaylist)((await readFile(url)).toString(), extension, (0,path__WEBPACK_IMPORTED_MODULE_1__.basename)(url, (0,path__WEBPACK_IMPORTED_MODULE_1__.extname)(url)));\n                    return initialTracks.length > 0 ? {\n                        initialTracks\n                    } : {};\n                }\n                if (extension === \".mp3\") {\n                    return {\n                        initialTracks: [\n                            await (0,components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_4__.parseTrack)(await readFile(url), (0,path__WEBPACK_IMPORTED_MODULE_1__.basename)(url))\n                        ]\n                    };\n                }\n                if (extension === \".wsz\") {\n                    return {\n                        initialSkin: {\n                            url: (0,utils_functions__WEBPACK_IMPORTED_MODULE_11__.bufferToUrl)(await readFile(url))\n                        }\n                    };\n                }\n            }\n            return {};\n        }\n    }[\"Webamp.useCallback[getUrlOptions]\"], [\n        readFile,\n        url\n    ]);\n    const loadWebampUrl = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"Webamp.useCallback[loadWebampUrl]\": async ()=>{\n            if (webampCI) {\n                const { initialTracks, initialSkin } = await getUrlOptions();\n                if (initialTracks) webampCI.setTracksToPlay(initialTracks);\n                else if (initialSkin) {\n                    (0,components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_4__.cleanBufferOnSkinLoad)(webampCI, initialSkin.url);\n                    webampCI.setSkinFromUrl(initialSkin.url);\n                }\n            }\n        }\n    }[\"Webamp.useCallback[loadWebampUrl]\"], [\n        getUrlOptions,\n        webampCI\n    ]);\n    const loadingWebamp = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"Webamp.useEffect\": ()=>{\n            if (containerRef.current && !webampCI) {\n                (0,utils_functions__WEBPACK_IMPORTED_MODULE_11__.loadFiles)(libs).then({\n                    \"Webamp.useEffect\": async ()=>{\n                        if (window.Webamp && !loadingWebamp.current) {\n                            loadingWebamp.current = true;\n                            initWebamp(containerRef.current, await getUrlOptions());\n                        }\n                    }\n                }[\"Webamp.useEffect\"]);\n            }\n        }\n    }[\"Webamp.useEffect\"], [\n        getUrlOptions,\n        initWebamp,\n        libs,\n        webampCI\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"Webamp.useEffect\": ()=>{\n            if (url !== loadedUrl) {\n                loadWebampUrl();\n                setLoadedUrl(url);\n            } else if (url) {\n                setUrl(id, \"\");\n                setLoadedUrl(\"\");\n            }\n        }\n    }[\"Webamp.useEffect\"], [\n        id,\n        loadWebampUrl,\n        loadedUrl,\n        setUrl,\n        url\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(components_apps_Webamp_StyledWebamp__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        ref: containerRef,\n        $minimized: minimized,\n        $zIndex: zIndex,\n        ...focusableProps,\n        ...windowTransitions\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\User\\\\Documents\\\\Sites\\\\Sites\\\\em desenvolvimento\\\\Portfolio2\\\\components\\\\apps\\\\Webamp\\\\index.tsx\",\n        lineNumber: 105,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(Webamp));\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvYXBwcy9XZWJhbXAvaW5kZXgudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXlDO0FBRXVDO0FBQ2pCO0FBT3JCO0FBQ2U7QUFFUTtBQUNnQjtBQUM3QjtBQUNKO0FBQ1k7QUFDVztBQUV2RSxNQUFNdUIsU0FBb0MsQ0FBQyxFQUFFQyxFQUFFLEVBQUU7SUFDL0MsTUFBTUMsZUFBZW5CLDZDQUFNQSxDQUF3QjtJQUNuRCxNQUFNLEVBQUVvQixRQUFRLEVBQUUsR0FBR1Qsa0VBQWFBO0lBQ2xDLE1BQU0sRUFDSlUsV0FBVyxFQUFFLENBQUNILEdBQUcsRUFBRSxFQUFFSSxPQUFPLEVBQUUsRUFBRUMsWUFBWSxLQUFLLEVBQUVDLE1BQU0sRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFDekVBLEtBQUtDLE1BQU0sRUFDWixHQUFHYiw4REFBWUE7SUFDaEIsTUFBTSxDQUFDYyxXQUFXQyxhQUFhLEdBQUcxQiwrQ0FBUUEsQ0FBQ3VCO0lBQzNDLE1BQU0sRUFBRUksVUFBVSxFQUFFQyxRQUFRLEVBQUUsR0FBR3JCLDRFQUFTQSxDQUFDVTtJQUMzQyxNQUFNWSxvQkFBb0JwQix5RkFBb0JBLENBQUNRLElBQUk7SUFDbkQsTUFBTWEsY0FBY2hDLDhDQUFPQTt1Q0FDekIsSUFBTztnQkFDTGlDLGFBQWE7bURBQUUsSUFBTUgsWUFBWXRCLHlFQUFPQSxDQUFDc0I7O2dCQUN6Q0ksY0FBYzttREFBRSxJQUFNSixZQUFZekIsNkVBQVdBLENBQUN5QixVQUFVOztZQUMxRDtzQ0FDQTtRQUFDQTtLQUFTO0lBRVosTUFBTSxFQUFFSyxNQUFNLEVBQUUsR0FBR0MsZ0JBQWdCLEdBQUcxQixpRkFBWUEsQ0FBQ1MsSUFBSWE7SUFDdkQsTUFBTUssZ0JBQWdCdkMsa0RBQVdBOzZDQUFDO1lBQ2hDLElBQUkyQixLQUFLO2dCQUNQLE1BQU1hLFlBQVl0Qiw4REFBWUEsQ0FBQ1M7Z0JBRS9CLElBQUlYLHVFQUF5QkEsQ0FBQ3lCLEdBQUcsQ0FBQ0QsWUFBWTtvQkFDNUMsTUFBTUUsZ0JBQWdCLE1BQU1qQyxvRkFBa0JBLENBQzVDLENBQUMsTUFBTWMsU0FBU0ksSUFBRyxFQUFHZ0IsUUFBUSxJQUM5QkgsV0FDQTNDLDhDQUFRQSxDQUFDOEIsS0FBSzdCLDZDQUFPQSxDQUFDNkI7b0JBR3hCLE9BQU9lLGNBQWNFLE1BQU0sR0FBRyxJQUFJO3dCQUFFRjtvQkFBYyxJQUFJLENBQUM7Z0JBQ3pEO2dCQUVBLElBQUlGLGNBQWMsUUFBUTtvQkFDeEIsT0FBTzt3QkFDTEUsZUFBZTs0QkFBQyxNQUFNbEMsNEVBQVVBLENBQUMsTUFBTWUsU0FBU0ksTUFBTTlCLDhDQUFRQSxDQUFDOEI7eUJBQU07b0JBQ3ZFO2dCQUNGO2dCQUVBLElBQUlhLGNBQWMsUUFBUTtvQkFDeEIsT0FBTzt3QkFBRUssYUFBYTs0QkFBRWxCLEtBQUtWLDZEQUFXQSxDQUFDLE1BQU1NLFNBQVNJO3dCQUFNO29CQUFFO2dCQUNsRTtZQUNGO1lBRUEsT0FBTyxDQUFDO1FBQ1Y7NENBQUc7UUFBQ0o7UUFBVUk7S0FBSTtJQUNsQixNQUFNbUIsZ0JBQWdCOUMsa0RBQVdBOzZDQUFDO1lBQ2hDLElBQUlnQyxVQUFVO2dCQUNaLE1BQU0sRUFBRVUsYUFBYSxFQUFFRyxXQUFXLEVBQUUsR0FBRyxNQUFNTjtnQkFFN0MsSUFBSUcsZUFBZVYsU0FBU2UsZUFBZSxDQUFDTDtxQkFDdkMsSUFBSUcsYUFBYTtvQkFDcEJ2Qyx1RkFBcUJBLENBQUMwQixVQUFVYSxZQUFZbEIsR0FBRztvQkFDL0NLLFNBQVNnQixjQUFjLENBQUNILFlBQVlsQixHQUFHO2dCQUN6QztZQUNGO1FBQ0Y7NENBQUc7UUFBQ1k7UUFBZVA7S0FBUztJQUM1QixNQUFNaUIsZ0JBQWdCOUMsNkNBQU1BLENBQUM7SUFFN0JGLGdEQUFTQTs0QkFBQztZQUNSLElBQUlxQixhQUFhNEIsT0FBTyxJQUFJLENBQUNsQixVQUFVO2dCQUNyQ2IsMkRBQVNBLENBQUNNLE1BQU0wQixJQUFJO3dDQUFDO3dCQUNuQixJQUFJQyxPQUFPaEMsTUFBTSxJQUFJLENBQUM2QixjQUFjQyxPQUFPLEVBQUU7NEJBQzNDRCxjQUFjQyxPQUFPLEdBQUc7NEJBRXhCbkIsV0FDRVQsYUFBYTRCLE9BQU8sRUFDcEIsTUFBTVg7d0JBRVY7b0JBQ0Y7O1lBQ0Y7UUFDRjsyQkFBRztRQUFDQTtRQUFlUjtRQUFZTjtRQUFNTztLQUFTO0lBRTlDL0IsZ0RBQVNBOzRCQUFDO1lBQ1IsSUFBSTBCLFFBQVFFLFdBQVc7Z0JBQ3JCaUI7Z0JBQ0FoQixhQUFhSDtZQUNmLE9BQU8sSUFBSUEsS0FBSztnQkFDZEMsT0FBT1AsSUFBSTtnQkFDWFMsYUFBYTtZQUNmO1FBQ0Y7MkJBQUc7UUFBQ1Q7UUFBSXlCO1FBQWVqQjtRQUFXRDtRQUFRRDtLQUFJO0lBRTlDLHFCQUNFLDhEQUFDdEIsMkVBQVlBO1FBQ1hnRCxLQUFLL0I7UUFDTGdDLFlBQVk1QjtRQUNaNkIsU0FBU2xCO1FBQ1IsR0FBR0MsY0FBYztRQUNqQixHQUFHTCxpQkFBaUI7Ozs7OztBQUczQjtBQUVBLDhFQUFlbEMsMkNBQUlBLENBQUNxQixPQUFPQSxFQUFDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFVzZXJcXERvY3VtZW50c1xcU2l0ZXNcXFNpdGVzXFxlbSBkZXNlbnZvbHZpbWVudG9cXFBvcnRmb2xpbzJcXGNvbXBvbmVudHNcXGFwcHNcXFdlYmFtcFxcaW5kZXgudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJhc2VuYW1lLCBleHRuYW1lIH0gZnJvbSBcInBhdGhcIjtcclxuaW1wb3J0IHsgdHlwZSBPcHRpb25zIH0gZnJvbSBcIndlYmFtcFwiO1xyXG5pbXBvcnQgeyBtZW1vLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBTdHlsZWRXZWJhbXAgZnJvbSBcImNvbXBvbmVudHMvYXBwcy9XZWJhbXAvU3R5bGVkV2ViYW1wXCI7XHJcbmltcG9ydCB7XHJcbiAgY2xlYW5CdWZmZXJPblNraW5Mb2FkLFxyXG4gIGZvY3VzV2luZG93LFxyXG4gIHBhcnNlVHJhY2ssXHJcbiAgdHJhY2tzRnJvbVBsYXlsaXN0LFxyXG4gIHVuRm9jdXMsXHJcbn0gZnJvbSBcImNvbXBvbmVudHMvYXBwcy9XZWJhbXAvZnVuY3Rpb25zXCI7XHJcbmltcG9ydCB1c2VXZWJhbXAgZnJvbSBcImNvbXBvbmVudHMvYXBwcy9XZWJhbXAvdXNlV2ViYW1wXCI7XHJcbmltcG9ydCB7IHR5cGUgQ29tcG9uZW50UHJvY2Vzc1Byb3BzIH0gZnJvbSBcImNvbXBvbmVudHMvc3lzdGVtL0FwcHMvUmVuZGVyQ29tcG9uZW50XCI7XHJcbmltcG9ydCB1c2VGb2N1c2FibGUgZnJvbSBcImNvbXBvbmVudHMvc3lzdGVtL1dpbmRvdy91c2VGb2N1c2FibGVcIjtcclxuaW1wb3J0IHVzZVdpbmRvd1RyYW5zaXRpb25zIGZyb20gXCJjb21wb25lbnRzL3N5c3RlbS9XaW5kb3cvdXNlV2luZG93VHJhbnNpdGlvbnNcIjtcclxuaW1wb3J0IHsgdXNlRmlsZVN5c3RlbSB9IGZyb20gXCJjb250ZXh0cy9maWxlU3lzdGVtXCI7XHJcbmltcG9ydCB7IHVzZVByb2Nlc3NlcyB9IGZyb20gXCJjb250ZXh0cy9wcm9jZXNzXCI7XHJcbmltcG9ydCB7IEFVRElPX1BMQVlMSVNUX0VYVEVOU0lPTlMgfSBmcm9tIFwidXRpbHMvY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IGJ1ZmZlclRvVXJsLCBnZXRFeHRlbnNpb24sIGxvYWRGaWxlcyB9IGZyb20gXCJ1dGlscy9mdW5jdGlvbnNcIjtcclxuXHJcbmNvbnN0IFdlYmFtcDogRkM8Q29tcG9uZW50UHJvY2Vzc1Byb3BzPiA9ICh7IGlkIH0pID0+IHtcclxuICBjb25zdCBjb250YWluZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKTtcclxuICBjb25zdCB7IHJlYWRGaWxlIH0gPSB1c2VGaWxlU3lzdGVtKCk7XHJcbiAgY29uc3Qge1xyXG4gICAgcHJvY2Vzc2VzOiB7IFtpZF06IHsgbGlicyA9IFtdLCBtaW5pbWl6ZWQgPSBmYWxzZSwgdXJsID0gXCJcIiB9ID0ge30gfSA9IHt9LFxyXG4gICAgdXJsOiBzZXRVcmwsXHJcbiAgfSA9IHVzZVByb2Nlc3NlcygpO1xyXG4gIGNvbnN0IFtsb2FkZWRVcmwsIHNldExvYWRlZFVybF0gPSB1c2VTdGF0ZSh1cmwpO1xyXG4gIGNvbnN0IHsgaW5pdFdlYmFtcCwgd2ViYW1wQ0kgfSA9IHVzZVdlYmFtcChpZCk7XHJcbiAgY29uc3Qgd2luZG93VHJhbnNpdGlvbnMgPSB1c2VXaW5kb3dUcmFuc2l0aW9ucyhpZCwgdHJ1ZSk7XHJcbiAgY29uc3QgZm9jdXNFdmVudHMgPSB1c2VNZW1vKFxyXG4gICAgKCkgPT4gKHtcclxuICAgICAgb25CbHVyQ2FwdHVyZTogKCkgPT4gd2ViYW1wQ0kgJiYgdW5Gb2N1cyh3ZWJhbXBDSSksXHJcbiAgICAgIG9uRm9jdXNDYXB0dXJlOiAoKSA9PiB3ZWJhbXBDSSAmJiBmb2N1c1dpbmRvdyh3ZWJhbXBDSSwgXCJtYWluXCIpLFxyXG4gICAgfSksXHJcbiAgICBbd2ViYW1wQ0ldXHJcbiAgKTtcclxuICBjb25zdCB7IHpJbmRleCwgLi4uZm9jdXNhYmxlUHJvcHMgfSA9IHVzZUZvY3VzYWJsZShpZCwgZm9jdXNFdmVudHMpO1xyXG4gIGNvbnN0IGdldFVybE9wdGlvbnMgPSB1c2VDYWxsYmFjayhhc3luYyAoKTogUHJvbWlzZTxPcHRpb25zPiA9PiB7XHJcbiAgICBpZiAodXJsKSB7XHJcbiAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IGdldEV4dGVuc2lvbih1cmwpO1xyXG5cclxuICAgICAgaWYgKEFVRElPX1BMQVlMSVNUX0VYVEVOU0lPTlMuaGFzKGV4dGVuc2lvbikpIHtcclxuICAgICAgICBjb25zdCBpbml0aWFsVHJhY2tzID0gYXdhaXQgdHJhY2tzRnJvbVBsYXlsaXN0KFxyXG4gICAgICAgICAgKGF3YWl0IHJlYWRGaWxlKHVybCkpLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICBleHRlbnNpb24sXHJcbiAgICAgICAgICBiYXNlbmFtZSh1cmwsIGV4dG5hbWUodXJsKSlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICByZXR1cm4gaW5pdGlhbFRyYWNrcy5sZW5ndGggPiAwID8geyBpbml0aWFsVHJhY2tzIH0gOiB7fTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGV4dGVuc2lvbiA9PT0gXCIubXAzXCIpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgaW5pdGlhbFRyYWNrczogW2F3YWl0IHBhcnNlVHJhY2soYXdhaXQgcmVhZEZpbGUodXJsKSwgYmFzZW5hbWUodXJsKSldLFxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChleHRlbnNpb24gPT09IFwiLndzelwiKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgaW5pdGlhbFNraW46IHsgdXJsOiBidWZmZXJUb1VybChhd2FpdCByZWFkRmlsZSh1cmwpKSB9IH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge307XHJcbiAgfSwgW3JlYWRGaWxlLCB1cmxdKTtcclxuICBjb25zdCBsb2FkV2ViYW1wVXJsID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKHdlYmFtcENJKSB7XHJcbiAgICAgIGNvbnN0IHsgaW5pdGlhbFRyYWNrcywgaW5pdGlhbFNraW4gfSA9IGF3YWl0IGdldFVybE9wdGlvbnMoKTtcclxuXHJcbiAgICAgIGlmIChpbml0aWFsVHJhY2tzKSB3ZWJhbXBDSS5zZXRUcmFja3NUb1BsYXkoaW5pdGlhbFRyYWNrcyk7XHJcbiAgICAgIGVsc2UgaWYgKGluaXRpYWxTa2luKSB7XHJcbiAgICAgICAgY2xlYW5CdWZmZXJPblNraW5Mb2FkKHdlYmFtcENJLCBpbml0aWFsU2tpbi51cmwpO1xyXG4gICAgICAgIHdlYmFtcENJLnNldFNraW5Gcm9tVXJsKGluaXRpYWxTa2luLnVybCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbZ2V0VXJsT3B0aW9ucywgd2ViYW1wQ0ldKTtcclxuICBjb25zdCBsb2FkaW5nV2ViYW1wID0gdXNlUmVmKGZhbHNlKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChjb250YWluZXJSZWYuY3VycmVudCAmJiAhd2ViYW1wQ0kpIHtcclxuICAgICAgbG9hZEZpbGVzKGxpYnMpLnRoZW4oYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGlmICh3aW5kb3cuV2ViYW1wICYmICFsb2FkaW5nV2ViYW1wLmN1cnJlbnQpIHtcclxuICAgICAgICAgIGxvYWRpbmdXZWJhbXAuY3VycmVudCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgaW5pdFdlYmFtcChcclxuICAgICAgICAgICAgY29udGFpbmVyUmVmLmN1cnJlbnQgYXMgSFRNTERpdkVsZW1lbnQsXHJcbiAgICAgICAgICAgIGF3YWl0IGdldFVybE9wdGlvbnMoKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sIFtnZXRVcmxPcHRpb25zLCBpbml0V2ViYW1wLCBsaWJzLCB3ZWJhbXBDSV0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHVybCAhPT0gbG9hZGVkVXJsKSB7XHJcbiAgICAgIGxvYWRXZWJhbXBVcmwoKTtcclxuICAgICAgc2V0TG9hZGVkVXJsKHVybCk7XHJcbiAgICB9IGVsc2UgaWYgKHVybCkge1xyXG4gICAgICBzZXRVcmwoaWQsIFwiXCIpO1xyXG4gICAgICBzZXRMb2FkZWRVcmwoXCJcIik7XHJcbiAgICB9XHJcbiAgfSwgW2lkLCBsb2FkV2ViYW1wVXJsLCBsb2FkZWRVcmwsIHNldFVybCwgdXJsXSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8U3R5bGVkV2ViYW1wXHJcbiAgICAgIHJlZj17Y29udGFpbmVyUmVmfVxyXG4gICAgICAkbWluaW1pemVkPXttaW5pbWl6ZWR9XHJcbiAgICAgICR6SW5kZXg9e3pJbmRleH1cclxuICAgICAgey4uLmZvY3VzYWJsZVByb3BzfVxyXG4gICAgICB7Li4ud2luZG93VHJhbnNpdGlvbnN9XHJcbiAgICAvPlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtZW1vKFdlYmFtcCk7XHJcbiJdLCJuYW1lcyI6WyJiYXNlbmFtZSIsImV4dG5hbWUiLCJtZW1vIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlUmVmIiwidXNlU3RhdGUiLCJTdHlsZWRXZWJhbXAiLCJjbGVhbkJ1ZmZlck9uU2tpbkxvYWQiLCJmb2N1c1dpbmRvdyIsInBhcnNlVHJhY2siLCJ0cmFja3NGcm9tUGxheWxpc3QiLCJ1bkZvY3VzIiwidXNlV2ViYW1wIiwidXNlRm9jdXNhYmxlIiwidXNlV2luZG93VHJhbnNpdGlvbnMiLCJ1c2VGaWxlU3lzdGVtIiwidXNlUHJvY2Vzc2VzIiwiQVVESU9fUExBWUxJU1RfRVhURU5TSU9OUyIsImJ1ZmZlclRvVXJsIiwiZ2V0RXh0ZW5zaW9uIiwibG9hZEZpbGVzIiwiV2ViYW1wIiwiaWQiLCJjb250YWluZXJSZWYiLCJyZWFkRmlsZSIsInByb2Nlc3NlcyIsImxpYnMiLCJtaW5pbWl6ZWQiLCJ1cmwiLCJzZXRVcmwiLCJsb2FkZWRVcmwiLCJzZXRMb2FkZWRVcmwiLCJpbml0V2ViYW1wIiwid2ViYW1wQ0kiLCJ3aW5kb3dUcmFuc2l0aW9ucyIsImZvY3VzRXZlbnRzIiwib25CbHVyQ2FwdHVyZSIsIm9uRm9jdXNDYXB0dXJlIiwiekluZGV4IiwiZm9jdXNhYmxlUHJvcHMiLCJnZXRVcmxPcHRpb25zIiwiZXh0ZW5zaW9uIiwiaGFzIiwiaW5pdGlhbFRyYWNrcyIsInRvU3RyaW5nIiwibGVuZ3RoIiwiaW5pdGlhbFNraW4iLCJsb2FkV2ViYW1wVXJsIiwic2V0VHJhY2tzVG9QbGF5Iiwic2V0U2tpbkZyb21VcmwiLCJsb2FkaW5nV2ViYW1wIiwiY3VycmVudCIsInRoZW4iLCJ3aW5kb3ciLCJyZWYiLCIkbWluaW1pemVkIiwiJHpJbmRleCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/apps/Webamp/index.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./components/apps/Webamp/useWebamp.ts":
/*!*********************************************!*\
  !*** ./components/apps/Webamp/useWebamp.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/apps/Webamp/functions */ \"(pages-dir-node)/./components/apps/Webamp/functions.ts\");\n/* harmony import */ var components_system_Files_FileManager_useFileDrop__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/system/Files/FileManager/useFileDrop */ \"(pages-dir-node)/./components/system/Files/FileManager/useFileDrop.ts\");\n/* harmony import */ var components_system_Window_Titlebar_useWindowActions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/system/Window/Titlebar/useWindowActions */ \"(pages-dir-node)/./components/system/Window/Titlebar/useWindowActions.ts\");\n/* harmony import */ var contexts_fileSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! contexts/fileSystem */ \"(pages-dir-node)/./contexts/fileSystem/index.ts\");\n/* harmony import */ var contexts_process__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! contexts/process */ \"(pages-dir-node)/./contexts/process/index.ts\");\n/* harmony import */ var contexts_process_directory__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! contexts/process/directory */ \"(pages-dir-node)/./contexts/process/directory.ts\");\n/* harmony import */ var contexts_session__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! contexts/session */ \"(pages-dir-node)/./contexts/session/index.ts\");\n/* harmony import */ var utils_constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! utils/constants */ \"(pages-dir-node)/./utils/constants.ts\");\n/* harmony import */ var utils_functions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! utils/functions */ \"(pages-dir-node)/./utils/functions.ts\");\n/* harmony import */ var hooks_useSnapshots__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! hooks/useSnapshots */ \"(pages-dir-node)/./hooks/useSnapshots.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst SKIN_DATA_PATH = `${utils_constants__WEBPACK_IMPORTED_MODULE_9__.SAVE_PATH}/webampSkinData.json`;\nconst SKIN_DATA_NAME = \"webampSkinData.json\";\nconst useWebamp = (id)=>{\n    const { onClose, onMinimize } = (0,components_system_Window_Titlebar_useWindowActions__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(id);\n    const { setWindowStates, windowStates: { [id]: windowState } = {} } = (0,contexts_session__WEBPACK_IMPORTED_MODULE_8__.useSession)();\n    const { position } = windowState || {};\n    const { argument, linkElement, processes: { [id]: process }, title } = (0,contexts_process__WEBPACK_IMPORTED_MODULE_6__.useProcesses)();\n    const { closing, componentWindow } = process || {};\n    const webampCI = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(undefined);\n    const { createPath, deletePath, exists, readFile, updateFolder } = (0,contexts_fileSystem__WEBPACK_IMPORTED_MODULE_5__.useFileSystem)();\n    const { onDrop } = (0,components_system_Files_FileManager_useFileDrop__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n        id\n    });\n    const metadataProviderRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const windowPositionDebounceRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const subscriptions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const { createSnapshot } = (0,hooks_useSnapshots__WEBPACK_IMPORTED_MODULE_11__.useSnapshots)();\n    const onWillClose = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"useWebamp.useCallback[onWillClose]\": (cancel)=>{\n            cancel?.();\n            onClose();\n            window.setTimeout({\n                \"useWebamp.useCallback[onWillClose]\": ()=>{\n                    subscriptions.current.forEach({\n                        \"useWebamp.useCallback[onWillClose]\": (unsubscribe)=>unsubscribe()\n                    }[\"useWebamp.useCallback[onWillClose]\"]);\n                    webampCI.current?.close();\n                }\n            }[\"useWebamp.useCallback[onWillClose]\"], utils_constants__WEBPACK_IMPORTED_MODULE_9__.TRANSITIONS_IN_MILLISECONDS.WINDOW);\n            window.clearInterval(metadataProviderRef.current);\n            window.clearInterval(windowPositionDebounceRef.current);\n        }\n    }[\"useWebamp.useCallback[onWillClose]\"], [\n        onClose\n    ]);\n    const initWebamp = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"useWebamp.useCallback[initWebamp]\": (containerElement, { initialSkin, initialTracks })=>{\n            const handleUrl = {\n                \"useWebamp.useCallback[initWebamp].handleUrl\": async ()=>{\n                    // eslint-disable-next-line no-alert\n                    const externalUrl = prompt(\"Enter an Internet location to open here:\\nFor example: https://server.com/playlist.m3u\");\n                    if (externalUrl) {\n                        const playlistExtension = (0,utils_functions__WEBPACK_IMPORTED_MODULE_10__.getExtension)(externalUrl);\n                        if (utils_constants__WEBPACK_IMPORTED_MODULE_9__.AUDIO_PLAYLIST_EXTENSIONS.has(playlistExtension)) {\n                            return (0,components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_2__.tracksFromPlaylist)(await (await fetch(externalUrl, utils_constants__WEBPACK_IMPORTED_MODULE_9__.HIGH_PRIORITY_REQUEST)).text(), playlistExtension);\n                        }\n                        return [\n                            {\n                                duration: 0,\n                                url: externalUrl\n                            }\n                        ];\n                    }\n                    return [];\n                }\n            }[\"useWebamp.useCallback[initWebamp].handleUrl\"];\n            const webamp = new window.Webamp({\n                ...components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_2__.BASE_WEBAMP_OPTIONS,\n                handleAddUrlEvent: handleUrl,\n                handleLoadListEvent: handleUrl,\n                handleSaveListEvent: {\n                    \"useWebamp.useCallback[initWebamp]\": (tracks)=>{\n                        createPath(\"playlist.m3u\", utils_constants__WEBPACK_IMPORTED_MODULE_9__.DESKTOP_PATH, Buffer.from((0,components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_2__.createM3uPlaylist)(tracks))).then({\n                            \"useWebamp.useCallback[initWebamp]\": (saveName)=>updateFolder(utils_constants__WEBPACK_IMPORTED_MODULE_9__.DESKTOP_PATH, saveName)\n                        }[\"useWebamp.useCallback[initWebamp]\"]);\n                    }\n                }[\"useWebamp.useCallback[initWebamp]\"],\n                initialSkin,\n                initialTracks\n            });\n            const setupElements = {\n                \"useWebamp.useCallback[initWebamp].setupElements\": ()=>{\n                    const webampElement = (0,components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_2__.getWebampElement)();\n                    if (webampElement) {\n                        const mainWindow = webampElement.querySelector(components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_2__.MAIN_WINDOW);\n                        const playlistWindow = webampElement.querySelector(components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_2__.PLAYLIST_WINDOW);\n                        [\n                            mainWindow,\n                            playlistWindow\n                        ].forEach({\n                            \"useWebamp.useCallback[initWebamp].setupElements\": (element)=>{\n                                element?.addEventListener(\"drop\", onDrop);\n                                element?.addEventListener(\"dragover\", utils_functions__WEBPACK_IMPORTED_MODULE_10__.haltEvent);\n                            }\n                        }[\"useWebamp.useCallback[initWebamp].setupElements\"]);\n                        if (process) {\n                            if (!componentWindow) {\n                                linkElement(id, \"componentWindow\", containerElement);\n                            }\n                            if (mainWindow) {\n                                linkElement(id, \"peekElement\", mainWindow);\n                            }\n                            argument(id, \"play\", {\n                                \"useWebamp.useCallback[initWebamp].setupElements\": ()=>webamp.play()\n                            }[\"useWebamp.useCallback[initWebamp].setupElements\"]);\n                            argument(id, \"pause\", {\n                                \"useWebamp.useCallback[initWebamp].setupElements\": ()=>webamp.pause()\n                            }[\"useWebamp.useCallback[initWebamp].setupElements\"]);\n                            webamp._actionEmitter.on(\"PLAY\", {\n                                \"useWebamp.useCallback[initWebamp].setupElements\": ()=>argument(id, \"paused\", false)\n                            }[\"useWebamp.useCallback[initWebamp].setupElements\"]);\n                            webamp._actionEmitter.on(\"PAUSE\", {\n                                \"useWebamp.useCallback[initWebamp].setupElements\": ()=>argument(id, \"paused\", true)\n                            }[\"useWebamp.useCallback[initWebamp].setupElements\"]);\n                            webamp._actionEmitter.on(\"STOP\", {\n                                \"useWebamp.useCallback[initWebamp].setupElements\": ()=>argument(id, \"paused\", true)\n                            }[\"useWebamp.useCallback[initWebamp].setupElements\"]);\n                            webamp._actionEmitter.on(\"IS_STOPPED\", {\n                                \"useWebamp.useCallback[initWebamp].setupElements\": ()=>argument(id, \"paused\", true)\n                            }[\"useWebamp.useCallback[initWebamp].setupElements\"]);\n                        }\n                        if (!initialSkin && !process.url?.endsWith(\".wsz\")) {\n                            exists(SKIN_DATA_PATH).then({\n                                \"useWebamp.useCallback[initWebamp].setupElements\": async (skinExists)=>{\n                                    if (skinExists) {\n                                        (0,components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_2__.setSkinData)(webamp, JSON.parse((await readFile(SKIN_DATA_PATH)).toString()));\n                                    }\n                                }\n                            }[\"useWebamp.useCallback[initWebamp].setupElements\"]);\n                        }\n                        containerElement.append(webampElement);\n                    }\n                }\n            }[\"useWebamp.useCallback[initWebamp].setupElements\"];\n            const updatePosition = {\n                \"useWebamp.useCallback[initWebamp].updatePosition\": ()=>{\n                    window.clearInterval(windowPositionDebounceRef.current);\n                    windowPositionDebounceRef.current = window.setTimeout({\n                        \"useWebamp.useCallback[initWebamp].updatePosition\": ()=>{\n                            const mainWindow = (0,components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_2__.getWebampElement)()?.querySelector(components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_2__.MAIN_WINDOW);\n                            const { x = 0, y = 0 } = mainWindow?.getBoundingClientRect() || {};\n                            setWindowStates({\n                                \"useWebamp.useCallback[initWebamp].updatePosition\": (currentWindowStates)=>({\n                                        ...currentWindowStates,\n                                        [id]: {\n                                            position: {\n                                                x,\n                                                y\n                                            }\n                                        }\n                                    })\n                            }[\"useWebamp.useCallback[initWebamp].updatePosition\"]);\n                        }\n                    }[\"useWebamp.useCallback[initWebamp].updatePosition\"], utils_constants__WEBPACK_IMPORTED_MODULE_9__.TRANSITIONS_IN_MILLISECONDS.WINDOW);\n                }\n            }[\"useWebamp.useCallback[initWebamp].updatePosition\"];\n            subscriptions.current.push(webamp.onWillClose(onWillClose), webamp.onMinimize({\n                \"useWebamp.useCallback[initWebamp]\": ()=>onMinimize()\n            }[\"useWebamp.useCallback[initWebamp]\"]), webamp.onTrackDidChange({\n                \"useWebamp.useCallback[initWebamp]\": (track)=>{\n                    const { milkdrop, windows } = webamp.store.getState();\n                    if (windows?.genWindows?.milkdrop?.open && milkdrop?.butterchurn) {\n                        (0,components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_2__.loadButterchurnPreset)(webamp);\n                    }\n                    window.clearInterval(metadataProviderRef.current);\n                    if (track?.url) {\n                        const getMetadata = (0,components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_2__.getMetadataProvider)(track.url);\n                        if (getMetadata) {\n                            const updateTrackInfo = {\n                                \"useWebamp.useCallback[initWebamp].updateTrackInfo\": async ()=>{\n                                    const { display: { closed = false } = {}, playlist: { currentTrack } = {}, tracks } = webamp.store.getState() || {};\n                                    if (closed) {\n                                        window.clearInterval(metadataProviderRef.current);\n                                    } else if (typeof currentTrack === \"number\" && tracks[currentTrack]) {\n                                        const metaData = await getMetadata?.();\n                                        if (metaData) {\n                                            webamp.store.dispatch({\n                                                type: \"SET_MEDIA_TAGS\",\n                                                ...tracks[currentTrack],\n                                                ...metaData\n                                            });\n                                            title(id, `${metaData.artist} - ${metaData.title}`);\n                                        }\n                                    }\n                                }\n                            }[\"useWebamp.useCallback[initWebamp].updateTrackInfo\"];\n                            updateTrackInfo();\n                            metadataProviderRef.current = window.setInterval(updateTrackInfo, 30 * utils_constants__WEBPACK_IMPORTED_MODULE_9__.MILLISECONDS_IN_SECOND);\n                        } else {\n                            const { playlist: { currentTrack } = {}, tracks } = webamp.store.getState() || {};\n                            const { artist = \"\", title: trackTitle = \"\" } = typeof currentTrack === \"number\" ? tracks?.[currentTrack] || {} : {};\n                            if (trackTitle || artist) {\n                                title(id, trackTitle && artist ? `${artist} - ${trackTitle}` : trackTitle || artist);\n                            }\n                        }\n                    } else {\n                        title(id, contexts_process_directory__WEBPACK_IMPORTED_MODULE_7__[\"default\"].Webamp.title);\n                    }\n                }\n            }[\"useWebamp.useCallback[initWebamp]\"]), webamp._actionEmitter.on(\"SET_SKIN_DATA\", {\n                \"useWebamp.useCallback[initWebamp]\": ({ data })=>createSnapshot(SKIN_DATA_NAME, Buffer.from(JSON.stringify(data)), {\n                        \"useWebamp.useCallback[initWebamp]\": async ()=>{\n                            const { skinUrl } = webamp.options.availableSkins?.find({\n                                \"useWebamp.useCallback[initWebamp]\": (skin)=>skin.skinUrl\n                            }[\"useWebamp.useCallback[initWebamp]\"]) || {};\n                            return skinUrl ? Buffer.from(await (await fetch(`https://r2.webampskins.org/screenshots/${(0,path__WEBPACK_IMPORTED_MODULE_0__.basename)(skinUrl, \".wsz\")}.png`)).arrayBuffer()) : undefined;\n                        }\n                    }[\"useWebamp.useCallback[initWebamp]\"])\n            }[\"useWebamp.useCallback[initWebamp]\"]), webamp._actionEmitter.on(\"LOAD_DEFAULT_SKIN\", {\n                \"useWebamp.useCallback[initWebamp]\": ()=>{\n                    deletePath(SKIN_DATA_PATH);\n                }\n            }[\"useWebamp.useCallback[initWebamp]\"]), webamp._actionEmitter.on(\"UPDATE_WINDOW_POSITIONS\", updatePosition));\n            if (initialSkin) (0,components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_2__.cleanBufferOnSkinLoad)(webamp, initialSkin.url);\n            webamp.renderWhenReady(containerElement).then({\n                \"useWebamp.useCallback[initWebamp]\": ()=>{\n                    (0,components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_2__.closeEqualizer)(webamp);\n                    (0,components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_2__.enabledMilkdrop)(webamp);\n                    (0,components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_2__.loadMilkdropWhenNeeded)(webamp);\n                    (0,components_apps_Webamp_functions__WEBPACK_IMPORTED_MODULE_2__.updateWebampPosition)(webamp, position);\n                    setupElements();\n                    if (initialTracks) webamp.play();\n                }\n            }[\"useWebamp.useCallback[initWebamp]\"]);\n            window.WebampGlobal = webamp;\n            webampCI.current = webamp;\n        }\n    }[\"useWebamp.useCallback[initWebamp]\"], [\n        argument,\n        componentWindow,\n        createPath,\n        createSnapshot,\n        deletePath,\n        exists,\n        id,\n        linkElement,\n        onDrop,\n        onMinimize,\n        onWillClose,\n        position,\n        process,\n        readFile,\n        setWindowStates,\n        title,\n        updateFolder\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"useWebamp.useEffect\": ()=>{\n            if (closing) onWillClose();\n        }\n    }[\"useWebamp.useEffect\"], [\n        closing,\n        onWillClose\n    ]);\n    return {\n        initWebamp,\n        webampCI: webampCI.current\n    };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useWebamp);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvYXBwcy9XZWJhbXAvdXNlV2ViYW1wLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFnQztBQUV1QjtBQWdCYjtBQUVnQztBQUNRO0FBQzlCO0FBQ0o7QUFDVTtBQUNaO0FBUXJCO0FBQ2lDO0FBQ1I7QUFPbEQsTUFBTWlDLGlCQUFpQixHQUFHTCxzREFBU0EsQ0FBQyxvQkFBb0IsQ0FBQztBQUN6RCxNQUFNTSxpQkFBaUI7QUFFdkIsTUFBTUMsWUFBWSxDQUFDQztJQUNqQixNQUFNLEVBQUVDLE9BQU8sRUFBRUMsVUFBVSxFQUFFLEdBQUduQiw4RkFBZ0JBLENBQUNpQjtJQUNqRCxNQUFNLEVBQUVHLGVBQWUsRUFBRUMsY0FBYyxFQUFFLENBQUNKLEdBQUcsRUFBRUssV0FBVyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FDakVsQiw0REFBVUE7SUFDWixNQUFNLEVBQUVtQixRQUFRLEVBQUUsR0FBR0QsZUFBZSxDQUFDO0lBQ3JDLE1BQU0sRUFDSkUsUUFBUSxFQUNSQyxXQUFXLEVBQ1hDLFdBQVcsRUFBRSxDQUFDVCxHQUFHLEVBQUVVLE9BQU8sRUFBRSxFQUM1QkMsS0FBSyxFQUNOLEdBQUcxQiw4REFBWUE7SUFDaEIsTUFBTSxFQUFFMkIsT0FBTyxFQUFFQyxlQUFlLEVBQUUsR0FBR0gsV0FBVyxDQUFDO0lBQ2pELE1BQU1JLFdBQVcvQyw2Q0FBTUEsQ0FBV2dEO0lBQ2xDLE1BQU0sRUFBRUMsVUFBVSxFQUFFQyxVQUFVLEVBQUVDLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxZQUFZLEVBQUUsR0FDOURwQyxrRUFBYUE7SUFDZixNQUFNLEVBQUVxQyxNQUFNLEVBQUUsR0FBR3ZDLDJGQUFXQSxDQUFDO1FBQUVrQjtJQUFHO0lBQ3BDLE1BQU1zQixzQkFBc0J2RCw2Q0FBTUEsQ0FBQztJQUNuQyxNQUFNd0QsNEJBQTRCeEQsNkNBQU1BLENBQUM7SUFDekMsTUFBTXlELGdCQUFnQnpELDZD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QSxDQUFDMkU7b0JBQ2hCdkUsd0ZBQXNCQSxDQUFDdUU7b0JBQ3ZCcEUsc0ZBQW9CQSxDQUFDb0UsUUFBUTNDO29CQUM3QnFEO29CQUVBLElBQUlwQixlQUFlVSxPQUFPaUIsSUFBSTtnQkFDaEM7O1lBRUF0QyxPQUFPb0YsWUFBWSxHQUFHL0Q7WUFDdEJuQyxTQUFTZ0IsT0FBTyxHQUFHbUI7UUFDckI7NENBQ0E7UUFDRTFDO1FBQ0FNO1FBQ0FHO1FBQ0FTO1FBQ0FSO1FBQ0FDO1FBQ0FsQjtRQUNBUTtRQUNBYTtRQUNBbkI7UUFDQXdCO1FBQ0FwQjtRQUNBSTtRQUNBUztRQUNBaEI7UUFDQVE7UUFDQVM7S0FDRDtJQUdIdEQsZ0RBQVNBOytCQUFDO1lBQ1IsSUFBSThDLFNBQVNjO1FBQ2Y7OEJBQUc7UUFBQ2Q7UUFBU2M7S0FBWTtJQUV6QixPQUFPO1FBQ0xVO1FBQ0F0QixVQUFVQSxTQUFTZ0IsT0FBTztJQUM1QjtBQUNGO0FBRUEsaUVBQWUvQixTQUFTQSxFQUFDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFVzZXJcXERvY3VtZW50c1xcU2l0ZXNcXFNpdGVzXFxlbSBkZXNlbnZvbHZpbWVudG9cXFBvcnRmb2xpbzJcXGNvbXBvbmVudHNcXGFwcHNcXFdlYmFtcFxcdXNlV2ViYW1wLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJhc2VuYW1lIH0gZnJvbSBcInBhdGhcIjtcclxuaW1wb3J0IHsgdHlwZSBPcHRpb25zLCB0eXBlIFRyYWNrLCB0eXBlIFVSTFRyYWNrIH0gZnJvbSBcIndlYmFtcFwiO1xyXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHtcclxuICBCQVNFX1dFQkFNUF9PUFRJT05TLFxyXG4gIE1BSU5fV0lORE9XLFxyXG4gIFBMQVlMSVNUX1dJTkRPVyxcclxuICBjbGVhbkJ1ZmZlck9uU2tpbkxvYWQsXHJcbiAgY2xvc2VFcXVhbGl6ZXIsXHJcbiAgY3JlYXRlTTN1UGxheWxpc3QsXHJcbiAgZW5hYmxlZE1pbGtkcm9wLFxyXG4gIGdldE1ldGFkYXRhUHJvdmlkZXIsXHJcbiAgZ2V0V2ViYW1wRWxlbWVudCxcclxuICBsb2FkQnV0dGVyY2h1cm5QcmVzZXQsXHJcbiAgbG9hZE1pbGtkcm9wV2hlbk5lZWRlZCxcclxuICBzZXRTa2luRGF0YSxcclxuICB0cmFja3NGcm9tUGxheWxpc3QsXHJcbiAgdXBkYXRlV2ViYW1wUG9zaXRpb24sXHJcbn0gZnJvbSBcImNvbXBvbmVudHMvYXBwcy9XZWJhbXAvZnVuY3Rpb25zXCI7XHJcbmltcG9ydCB7IHR5cGUgU2tpbkRhdGEsIHR5cGUgV2ViYW1wQ0kgfSBmcm9tIFwiY29tcG9uZW50cy9hcHBzL1dlYmFtcC90eXBlc1wiO1xyXG5pbXBvcnQgdXNlRmlsZURyb3AgZnJvbSBcImNvbXBvbmVudHMvc3lzdGVtL0ZpbGVzL0ZpbGVNYW5hZ2VyL3VzZUZpbGVEcm9wXCI7XHJcbmltcG9ydCB1c2VXaW5kb3dBY3Rpb25zIGZyb20gXCJjb21wb25lbnRzL3N5c3RlbS9XaW5kb3cvVGl0bGViYXIvdXNlV2luZG93QWN0aW9uc1wiO1xyXG5pbXBvcnQgeyB1c2VGaWxlU3lzdGVtIH0gZnJvbSBcImNvbnRleHRzL2ZpbGVTeXN0ZW1cIjtcclxuaW1wb3J0IHsgdXNlUHJvY2Vzc2VzIH0gZnJvbSBcImNvbnRleHRzL3Byb2Nlc3NcIjtcclxuaW1wb3J0IHByb2Nlc3NEaXJlY3RvcnkgZnJvbSBcImNvbnRleHRzL3Byb2Nlc3MvZGlyZWN0b3J5XCI7XHJcbmltcG9ydCB7IHVzZVNlc3Npb24gfSBmcm9tIFwiY29udGV4dHMvc2Vzc2lvblwiO1xyXG5pbXBvcnQge1xyXG4gIEFVRElPX1BMQVlMSVNUX0VYVEVOU0lPTlMsXHJcbiAgREVTS1RPUF9QQVRILFxyXG4gIEhJR0hfUFJJT1JJVFlfUkVRVUVTVCxcclxuICBNSUxMSVNFQ09ORFNfSU5fU0VDT05ELFxyXG4gIFNBVkVfUEFUSCxcclxuICBUUkFOU0lUSU9OU19JTl9NSUxMSVNFQ09ORFMsXHJcbn0gZnJvbSBcInV0aWxzL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBnZXRFeHRlbnNpb24sIGhhbHRFdmVudCB9IGZyb20gXCJ1dGlscy9mdW5jdGlvbnNcIjtcclxuaW1wb3J0IHsgdXNlU25hcHNob3RzIH0gZnJvbSBcImhvb2tzL3VzZVNuYXBzaG90c1wiO1xyXG5cclxudHlwZSBXZWJhbXAgPSB7XHJcbiAgaW5pdFdlYmFtcDogKGNvbnRhaW5lckVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50LCBvcHRpb25zOiBPcHRpb25zKSA9PiB2b2lkO1xyXG4gIHdlYmFtcENJPzogV2ViYW1wQ0k7XHJcbn07XHJcblxyXG5jb25zdCBTS0lOX0RBVEFfUEFUSCA9IGAke1NBVkVfUEFUSH0vd2ViYW1wU2tpbkRhdGEuanNvbmA7XHJcbmNvbnN0IFNLSU5fREFUQV9OQU1FID0gXCJ3ZWJhbXBTa2luRGF0YS5qc29uXCI7XHJcblxyXG5jb25zdCB1c2VXZWJhbXAgPSAoaWQ6IHN0cmluZyk6IFdlYmFtcCA9PiB7XHJcbiAgY29uc3QgeyBvbkNsb3NlLCBvbk1pbmltaXplIH0gPSB1c2VXaW5kb3dBY3Rpb25zKGlkKTtcclxuICBjb25zdCB7IHNldFdpbmRvd1N0YXRlcywgd2luZG93U3RhdGVzOiB7IFtpZF06IHdpbmRvd1N0YXRlIH0gPSB7fSB9ID1cclxuICAgIHVzZVNlc3Npb24oKTtcclxuICBjb25zdCB7IHBvc2l0aW9uIH0gPSB3aW5kb3dTdGF0ZSB8fCB7fTtcclxuICBjb25zdCB7XHJcbiAgICBhcmd1bWVudCxcclxuICAgIGxpbmtFbGVtZW50LFxyXG4gICAgcHJvY2Vzc2VzOiB7IFtpZF06IHByb2Nlc3MgfSxcclxuICAgIHRpdGxlLFxyXG4gIH0gPSB1c2VQcm9jZXNzZXMoKTtcclxuICBjb25zdCB7IGNsb3NpbmcsIGNvbXBvbmVudFdpbmRvdyB9ID0gcHJvY2VzcyB8fCB7fTtcclxuICBjb25zdCB3ZWJhbXBDSSA9IHVzZVJlZjxXZWJhbXBDST4odW5kZWZpbmVkKTtcclxuICBjb25zdCB7IGNyZWF0ZVBhdGgsIGRlbGV0ZVBhdGgsIGV4aXN0cywgcmVhZEZpbGUsIHVwZGF0ZUZvbGRlciB9ID1cclxuICAgIHVzZUZpbGVTeXN0ZW0oKTtcclxuICBjb25zdCB7IG9uRHJvcCB9ID0gdXNlRmlsZURyb3AoeyBpZCB9KTtcclxuICBjb25zdCBtZXRhZGF0YVByb3ZpZGVyUmVmID0gdXNlUmVmKDApO1xyXG4gIGNvbnN0IHdpbmRvd1Bvc2l0aW9uRGVib3VuY2VSZWYgPSB1c2VSZWYoMCk7XHJcbiAgY29uc3Qgc3Vic2NyaXB0aW9ucyA9IHVzZVJlZjwoKCkgPT4gdm9pZClbXT4oW10pO1xyXG4gIGNvbnN0IHsgY3JlYXRlU25hcHNob3QgfSA9IHVzZVNuYXBzaG90cygpO1xyXG4gIGNvbnN0IG9uV2lsbENsb3NlID0gdXNlQ2FsbGJhY2soXHJcbiAgICAoY2FuY2VsPzogKCkgPT4gdm9pZCk6IHZvaWQgPT4ge1xyXG4gICAgICBjYW5jZWw/LigpO1xyXG4gICAgICBvbkNsb3NlKCk7XHJcblxyXG4gICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgc3Vic2NyaXB0aW9ucy5jdXJyZW50LmZvckVhY2goKHVuc3Vic2NyaWJlKSA9PiB1bnN1YnNjcmliZSgpKTtcclxuICAgICAgICB3ZWJhbXBDSS5jdXJyZW50Py5jbG9zZSgpO1xyXG4gICAgICB9LCBUUkFOU0lUSU9OU19JTl9NSUxMSVNFQ09ORFMuV0lORE9XKTtcclxuICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwobWV0YWRhdGFQcm92aWRlclJlZi5jdXJyZW50KTtcclxuICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwod2luZG93UG9zaXRpb25EZWJvdW5jZVJlZi5jdXJyZW50KTtcclxuICAgIH0sXHJcbiAgICBbb25DbG9zZV1cclxuICApO1xyXG4gIGNvbnN0IGluaXRXZWJhbXAgPSB1c2VDYWxsYmFjayhcclxuICAgIChcclxuICAgICAgY29udGFpbmVyRWxlbWVudDogSFRNTERpdkVsZW1lbnQsXHJcbiAgICAgIHsgaW5pdGlhbFNraW4sIGluaXRpYWxUcmFja3MgfTogT3B0aW9uc1xyXG4gICAgKSA9PiB7XHJcbiAgICAgIGNvbnN0IGhhbmRsZVVybCA9IGFzeW5jICgpOiBQcm9taXNlPFRyYWNrW10+ID0+IHtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYWxlcnRcclxuICAgICAgICBjb25zdCBleHRlcm5hbFVybCA9IHByb21wdChcclxuICAgICAgICAgIFwiRW50ZXIgYW4gSW50ZXJuZXQgbG9jYXRpb24gdG8gb3BlbiBoZXJlOlxcbkZvciBleGFtcGxlOiBodHRwczovL3NlcnZlci5jb20vcGxheWxpc3QubTN1XCJcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBpZiAoZXh0ZXJuYWxVcmwpIHtcclxuICAgICAgICAgIGNvbnN0IHBsYXlsaXN0RXh0ZW5zaW9uID0gZ2V0RXh0ZW5zaW9uKGV4dGVybmFsVXJsKTtcclxuXHJcbiAgICAgICAgICBpZiAoQVVESU9fUExBWUxJU1RfRVhURU5TSU9OUy5oYXMocGxheWxpc3RFeHRlbnNpb24pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cmFja3NGcm9tUGxheWxpc3QoXHJcbiAgICAgICAgICAgICAgYXdhaXQgKGF3YWl0IGZldGNoKGV4dGVybmFsVXJsLCBISUdIX1BSSU9SSVRZX1JFUVVFU1QpKS50ZXh0KCksXHJcbiAgICAgICAgICAgICAgcGxheWxpc3RFeHRlbnNpb25cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgZHVyYXRpb246IDAsXHJcbiAgICAgICAgICAgICAgdXJsOiBleHRlcm5hbFVybCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICAgIH07XHJcbiAgICAgIGNvbnN0IHdlYmFtcCA9IG5ldyB3aW5kb3cuV2ViYW1wKHtcclxuICAgICAgICAuLi5CQVNFX1dFQkFNUF9PUFRJT05TLFxyXG4gICAgICAgIGhhbmRsZUFkZFVybEV2ZW50OiBoYW5kbGVVcmwsXHJcbiAgICAgICAgaGFuZGxlTG9hZExpc3RFdmVudDogaGFuZGxlVXJsLFxyXG4gICAgICAgIGhhbmRsZVNhdmVMaXN0RXZlbnQ6ICh0cmFja3M6IFVSTFRyYWNrW10pID0+IHtcclxuICAgICAgICAgIGNyZWF0ZVBhdGgoXHJcbiAgICAgICAgICAgIFwicGxheWxpc3QubTN1XCIsXHJcbiAgICAgICAgICAgIERFU0tUT1BfUEFUSCxcclxuICAgICAgICAgICAgQnVmZmVyLmZyb20oY3JlYXRlTTN1UGxheWxpc3QodHJhY2tzKSlcclxuICAgICAgICAgICkudGhlbigoc2F2ZU5hbWUpID0+IHVwZGF0ZUZvbGRlcihERVNLVE9QX1BBVEgsIHNhdmVOYW1lKSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBpbml0aWFsU2tpbixcclxuICAgICAgICBpbml0aWFsVHJhY2tzLFxyXG4gICAgICB9IGFzIE9wdGlvbnMpIGFzIFdlYmFtcENJO1xyXG4gICAgICBjb25zdCBzZXR1cEVsZW1lbnRzID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGNvbnN0IHdlYmFtcEVsZW1lbnQgPSBnZXRXZWJhbXBFbGVtZW50KCk7XHJcblxyXG4gICAgICAgIGlmICh3ZWJhbXBFbGVtZW50KSB7XHJcbiAgICAgICAgICBjb25zdCBtYWluV2luZG93ID1cclxuICAgICAgICAgICAgd2ViYW1wRWxlbWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PihNQUlOX1dJTkRPVyk7XHJcbiAgICAgICAgICBjb25zdCBwbGF5bGlzdFdpbmRvdyA9XHJcbiAgICAgICAgICAgIHdlYmFtcEVsZW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oUExBWUxJU1RfV0lORE9XKTtcclxuXHJcbiAgICAgICAgICBbbWFpbldpbmRvdywgcGxheWxpc3RXaW5kb3ddLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudD8uYWRkRXZlbnRMaXN0ZW5lcihcImRyb3BcIiwgb25Ecm9wKTtcclxuICAgICAgICAgICAgZWxlbWVudD8uYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsIGhhbHRFdmVudCk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAocHJvY2Vzcykge1xyXG4gICAgICAgICAgICBpZiAoIWNvbXBvbmVudFdpbmRvdykge1xyXG4gICAgICAgICAgICAgIGxpbmtFbGVtZW50KGlkLCBcImNvbXBvbmVudFdpbmRvd1wiLCBjb250YWluZXJFbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG1haW5XaW5kb3cpIHtcclxuICAgICAgICAgICAgICBsaW5rRWxlbWVudChpZCwgXCJwZWVrRWxlbWVudFwiLCBtYWluV2luZG93KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYXJndW1lbnQoaWQsIFwicGxheVwiLCAoKSA9PiB3ZWJhbXAucGxheSgpKTtcclxuICAgICAgICAgICAgYXJndW1lbnQoaWQsIFwicGF1c2VcIiwgKCkgPT4gd2ViYW1wLnBhdXNlKCkpO1xyXG4gICAgICAgICAgICB3ZWJhbXAuX2FjdGlvbkVtaXR0ZXIub24oXCJQTEFZXCIsICgpID0+XHJcbiAgICAgICAgICAgICAgYXJndW1lbnQoaWQsIFwicGF1c2VkXCIsIGZhbHNlKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB3ZWJhbXAuX2FjdGlvbkVtaXR0ZXIub24oXCJQQVVTRVwiLCAoKSA9PlxyXG4gICAgICAgICAgICAgIGFyZ3VtZW50KGlkLCBcInBhdXNlZFwiLCB0cnVlKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB3ZWJhbXAuX2FjdGlvbkVtaXR0ZXIub24oXCJTVE9QXCIsICgpID0+XHJcbiAgICAgICAgICAgICAgYXJndW1lbnQoaWQsIFwicGF1c2VkXCIsIHRydWUpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHdlYmFtcC5fYWN0aW9uRW1pdHRlci5vbihcIklTX1NUT1BQRURcIiwgKCkgPT5cclxuICAgICAgICAgICAgICBhcmd1bWVudChpZCwgXCJwYXVzZWRcIiwgdHJ1ZSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoIWluaXRpYWxTa2luICYmICFwcm9jZXNzLnVybD8uZW5kc1dpdGgoXCIud3N6XCIpKSB7XHJcbiAgICAgICAgICAgIGV4aXN0cyhTS0lOX0RBVEFfUEFUSCkudGhlbihhc3luYyAoc2tpbkV4aXN0cykgPT4ge1xyXG4gICAgICAgICAgICAgIGlmIChza2luRXhpc3RzKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRTa2luRGF0YShcclxuICAgICAgICAgICAgICAgICAgd2ViYW1wLFxyXG4gICAgICAgICAgICAgICAgICBKU09OLnBhcnNlKFxyXG4gICAgICAgICAgICAgICAgICAgIChhd2FpdCByZWFkRmlsZShTS0lOX0RBVEFfUEFUSCkpLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICAgKSBhcyBTa2luRGF0YVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnRhaW5lckVsZW1lbnQuYXBwZW5kKHdlYmFtcEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgY29uc3QgdXBkYXRlUG9zaXRpb24gPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwod2luZG93UG9zaXRpb25EZWJvdW5jZVJlZi5jdXJyZW50KTtcclxuICAgICAgICB3aW5kb3dQb3NpdGlvbkRlYm91bmNlUmVmLmN1cnJlbnQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBtYWluV2luZG93ID1cclxuICAgICAgICAgICAgZ2V0V2ViYW1wRWxlbWVudCgpPy5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PihNQUlOX1dJTkRPVyk7XHJcbiAgICAgICAgICBjb25zdCB7IHggPSAwLCB5ID0gMCB9ID0gbWFpbldpbmRvdz8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgfHwge307XHJcblxyXG4gICAgICAgICAgc2V0V2luZG93U3RhdGVzKChjdXJyZW50V2luZG93U3RhdGVzKSA9PiAoe1xyXG4gICAgICAgICAgICAuLi5jdXJyZW50V2luZG93U3RhdGVzLFxyXG4gICAgICAgICAgICBbaWRdOiB7XHJcbiAgICAgICAgICAgICAgcG9zaXRpb246IHsgeCwgeSB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSkpO1xyXG4gICAgICAgIH0sIFRSQU5TSVRJT05TX0lOX01JTExJU0VDT05EUy5XSU5ET1cpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgc3Vic2NyaXB0aW9ucy5jdXJyZW50LnB1c2goXHJcbiAgICAgICAgd2ViYW1wLm9uV2lsbENsb3NlKG9uV2lsbENsb3NlKSxcclxuICAgICAgICB3ZWJhbXAub25NaW5pbWl6ZSgoKSA9PiBvbk1pbmltaXplKCkpLFxyXG4gICAgICAgIHdlYmFtcC5vblRyYWNrRGlkQ2hhbmdlKCh0cmFjaykgPT4ge1xyXG4gICAgICAgICAgY29uc3QgeyBtaWxrZHJvcCwgd2luZG93cyB9ID0gd2ViYW1wLnN0b3JlLmdldFN0YXRlKCk7XHJcblxyXG4gICAgICAgICAgaWYgKHdpbmRvd3M/LmdlbldpbmRvd3M/Lm1pbGtkcm9wPy5vcGVuICYmIG1pbGtkcm9wPy5idXR0ZXJjaHVybikge1xyXG4gICAgICAgICAgICBsb2FkQnV0dGVyY2h1cm5QcmVzZXQod2ViYW1wKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChtZXRhZGF0YVByb3ZpZGVyUmVmLmN1cnJlbnQpO1xyXG5cclxuICAgICAgICAgIGlmICh0cmFjaz8udXJsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdldE1ldGFkYXRhID0gZ2V0TWV0YWRhdGFQcm92aWRlcih0cmFjay51cmwpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGdldE1ldGFkYXRhKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgdXBkYXRlVHJhY2tJbmZvID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiB7IGNsb3NlZCA9IGZhbHNlIH0gPSB7fSxcclxuICAgICAgICAgICAgICAgICAgcGxheWxpc3Q6IHsgY3VycmVudFRyYWNrIH0gPSB7fSxcclxuICAgICAgICAgICAgICAgICAgdHJhY2tzLFxyXG4gICAgICAgICAgICAgICAgfSA9IHdlYmFtcC5zdG9yZS5nZXRTdGF0ZSgpIHx8IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjbG9zZWQpIHtcclxuICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwobWV0YWRhdGFQcm92aWRlclJlZi5jdXJyZW50KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICAgIHR5cGVvZiBjdXJyZW50VHJhY2sgPT09IFwibnVtYmVyXCIgJiZcclxuICAgICAgICAgICAgICAgICAgdHJhY2tzW2N1cnJlbnRUcmFja11cclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBtZXRhRGF0YSA9IGF3YWl0IGdldE1ldGFkYXRhPy4oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIGlmIChtZXRhRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdlYmFtcC5zdG9yZS5kaXNwYXRjaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlNFVF9NRURJQV9UQUdTXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAuLi50cmFja3NbY3VycmVudFRyYWNrXSxcclxuICAgICAgICAgICAgICAgICAgICAgIC4uLm1ldGFEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlKGlkLCBgJHttZXRhRGF0YS5hcnRpc3R9IC0gJHttZXRhRGF0YS50aXRsZX1gKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgIHVwZGF0ZVRyYWNrSW5mbygpO1xyXG4gICAgICAgICAgICAgIG1ldGFkYXRhUHJvdmlkZXJSZWYuY3VycmVudCA9IHdpbmRvdy5zZXRJbnRlcnZhbChcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVRyYWNrSW5mbyxcclxuICAgICAgICAgICAgICAgIDMwICogTUlMTElTRUNPTkRTX0lOX1NFQ09ORFxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgeyBwbGF5bGlzdDogeyBjdXJyZW50VHJhY2sgfSA9IHt9LCB0cmFja3MgfSA9XHJcbiAgICAgICAgICAgICAgICB3ZWJhbXAuc3RvcmUuZ2V0U3RhdGUoKSB8fCB7fTtcclxuICAgICAgICAgICAgICBjb25zdCB7IGFydGlzdCA9IFwiXCIsIHRpdGxlOiB0cmFja1RpdGxlID0gXCJcIiB9ID1cclxuICAgICAgICAgICAgICAgIHR5cGVvZiBjdXJyZW50VHJhY2sgPT09IFwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgPyB0cmFja3M/LltjdXJyZW50VHJhY2tdIHx8IHt9XHJcbiAgICAgICAgICAgICAgICAgIDoge307XHJcblxyXG4gICAgICAgICAgICAgIGlmICh0cmFja1RpdGxlIHx8IGFydGlzdCkge1xyXG4gICAgICAgICAgICAgICAgdGl0bGUoXHJcbiAgICAgICAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICAgICAgICB0cmFja1RpdGxlICYmIGFydGlzdFxyXG4gICAgICAgICAgICAgICAgICAgID8gYCR7YXJ0aXN0fSAtICR7dHJhY2tUaXRsZX1gXHJcbiAgICAgICAgICAgICAgICAgICAgOiB0cmFja1RpdGxlIHx8IGFydGlzdFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRpdGxlKGlkLCBwcm9jZXNzRGlyZWN0b3J5LldlYmFtcC50aXRsZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgd2ViYW1wLl9hY3Rpb25FbWl0dGVyLm9uKFwiU0VUX1NLSU5fREFUQVwiLCAoeyBkYXRhIH0pID0+XHJcbiAgICAgICAgICBjcmVhdGVTbmFwc2hvdChcclxuICAgICAgICAgICAgU0tJTl9EQVRBX05BTUUsXHJcbiAgICAgICAgICAgIEJ1ZmZlci5mcm9tKEpTT04uc3RyaW5naWZ5KGRhdGEpKSxcclxuICAgICAgICAgICAgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHsgc2tpblVybCB9ID1cclxuICAgICAgICAgICAgICAgICh3ZWJhbXAub3B0aW9ucy5hdmFpbGFibGVTa2lucyBhcyB7IHNraW5Vcmw/OiBzdHJpbmcgfVtdKT8uZmluZChcclxuICAgICAgICAgICAgICAgICAgKHNraW4pID0+IHNraW4uc2tpblVybFxyXG4gICAgICAgICAgICAgICAgKSB8fCB7fTtcclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIHNraW5VcmxcclxuICAgICAgICAgICAgICAgID8gQnVmZmVyLmZyb20oXHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZmV0Y2goXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBodHRwczovL3IyLndlYmFtcHNraW5zLm9yZy9zY3JlZW5zaG90cy8ke2Jhc2VuYW1lKHNraW5VcmwsIFwiLndzelwiKX0ucG5nYFxyXG4gICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICkuYXJyYXlCdWZmZXIoKVxyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICksXHJcbiAgICAgICAgd2ViYW1wLl9hY3Rpb25FbWl0dGVyLm9uKFwiTE9BRF9ERUZBVUxUX1NLSU5cIiwgKCkgPT4ge1xyXG4gICAgICAgICAgZGVsZXRlUGF0aChTS0lOX0RBVEFfUEFUSCk7XHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgd2ViYW1wLl9hY3Rpb25FbWl0dGVyLm9uKFwiVVBEQVRFX1dJTkRPV19QT1NJVElPTlNcIiwgdXBkYXRlUG9zaXRpb24pXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAoaW5pdGlhbFNraW4pIGNsZWFuQnVmZmVyT25Ta2luTG9hZCh3ZWJhbXAsIGluaXRpYWxTa2luLnVybCk7XHJcblxyXG4gICAgICB3ZWJhbXAucmVuZGVyV2hlblJlYWR5KGNvbnRhaW5lckVsZW1lbnQpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGNsb3NlRXF1YWxpemVyKHdlYmFtcCk7XHJcbiAgICAgICAgZW5hYmxlZE1pbGtkcm9wKHdlYmFtcCk7XHJcbiAgICAgICAgbG9hZE1pbGtkcm9wV2hlbk5lZWRlZCh3ZWJhbXApO1xyXG4gICAgICAgIHVwZGF0ZVdlYmFtcFBvc2l0aW9uKHdlYmFtcCwgcG9zaXRpb24pO1xyXG4gICAgICAgIHNldHVwRWxlbWVudHMoKTtcclxuXHJcbiAgICAgICAgaWYgKGluaXRpYWxUcmFja3MpIHdlYmFtcC5wbGF5KCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgd2luZG93LldlYmFtcEdsb2JhbCA9IHdlYmFtcDtcclxuICAgICAgd2ViYW1wQ0kuY3VycmVudCA9IHdlYmFtcDtcclxuICAgIH0sXHJcbiAgICBbXHJcbiAgICAgIGFyZ3VtZW50LFxyXG4gICAgICBjb21wb25lbnRXaW5kb3csXHJcbiAgICAgIGNyZWF0ZVBhdGgsXHJcbiAgICAgIGNyZWF0ZVNuYXBzaG90LFxyXG4gICAgICBkZWxldGVQYXRoLFxyXG4gICAgICBleGlzdHMsXHJcbiAgICAgIGlkLFxyXG4gICAgICBsaW5rRWxlbWVudCxcclxuICAgICAgb25Ecm9wLFxyXG4gICAgICBvbk1pbmltaXplLFxyXG4gICAgICBvbldpbGxDbG9zZSxcclxuICAgICAgcG9zaXRpb24sXHJcbiAgICAgIHByb2Nlc3MsXHJcbiAgICAgIHJlYWRGaWxlLFxyXG4gICAgICBzZXRXaW5kb3dTdGF0ZXMsXHJcbiAgICAgIHRpdGxlLFxyXG4gICAgICB1cGRhdGVGb2xkZXIsXHJcbiAgICBdXHJcbiAgKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChjbG9zaW5nKSBvbldpbGxDbG9zZSgpO1xyXG4gIH0sIFtjbG9zaW5nLCBvbldpbGxDbG9zZV0pO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaW5pdFdlYmFtcCxcclxuICAgIHdlYmFtcENJOiB3ZWJhbXBDSS5jdXJyZW50LFxyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VXZWJhbXA7XHJcbiJdLCJuYW1lcyI6WyJiYXNlbmFtZSIsInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiQkFTRV9XRUJBTVBfT1BUSU9OUyIsIk1BSU5fV0lORE9XIiwiUExBWUxJU1RfV0lORE9XIiwiY2xlYW5CdWZmZXJPblNraW5Mb2FkIiwiY2xvc2VFcXVhbGl6ZXIiLCJjcmVhdGVNM3VQbGF5bGlzdCIsImVuYWJsZWRNaWxrZHJvcCIsImdldE1ldGFkYXRhUHJvdmlkZXIiLCJnZXRXZWJhbXBFbGVtZW50IiwibG9hZEJ1dHRlcmNodXJuUHJlc2V0IiwibG9hZE1pbGtkcm9wV2hlbk5lZWRlZCIsInNldFNraW5EYXRhIiwidHJhY2tzRnJvbVBsYXlsaXN0IiwidXBkYXRlV2ViYW1wUG9zaXRpb24iLCJ1c2VGaWxlRHJvcCIsInVzZVdpbmRvd0FjdGlvbnMiLCJ1c2VGaWxlU3lzdGVtIiwidXNlUHJvY2Vzc2VzIiwicHJvY2Vzc0RpcmVjdG9yeSIsInVzZVNlc3Npb24iLCJBVURJT19QTEFZTElTVF9FWFRFTlNJT05TIiwiREVTS1RPUF9QQVRIIiwiSElHSF9QUklPUklUWV9SRVFVRVNUIiwiTUlMTElTRUNPTkRTX0lOX1NFQ09ORCIsIlNBVkVfUEFUSCIsIlRSQU5TSVRJT05TX0lOX01JTExJU0VDT05EUyIsImdldEV4dGVuc2lvbiIsImhhbHRFdmVudCIsInVzZVNuYXBzaG90cyIsIlNLSU5fREFUQV9QQVRIIiwiU0tJTl9EQVRBX05BTUUiLCJ1c2VXZWJhbXAiLCJpZCIsIm9uQ2xvc2UiLCJvbk1pbmltaXplIiwic2V0V2luZG93U3RhdGVzIiwid2luZG93U3RhdGVzIiwid2luZG93U3RhdGUiLCJwb3NpdGlvbiIsImFyZ3VtZW50IiwibGlua0VsZW1lbnQiLCJwcm9jZXNzZXMiLCJwcm9jZXNzIiwidGl0bGUiLCJjbG9zaW5nIiwiY29tcG9uZW50V2luZG93Iiwid2ViYW1wQ0kiLCJ1bmRlZmluZWQiLCJjcmVhdGVQYXRoIiwiZGVsZXRlUGF0aCIsImV4aXN0cyIsInJlYWRGaWxlIiwidXBkYXRlRm9sZGVyIiwib25Ecm9wIiwibWV0YWRhdGFQcm92aWRlclJlZiIsIndpbmRvd1Bvc2l0aW9uRGVib3VuY2VSZWYiLCJzdWJzY3JpcHRpb25zIiwiY3JlYXRlU25hcHNob3QiLCJvbldpbGxDbG9zZSIsImNhbmNlbCIsIndpbmRvdyIsInNldFRpbWVvdXQiLCJjdXJyZW50IiwiZm9yRWFjaCIsInVuc3Vic2NyaWJlIiwiY2xvc2UiLCJXSU5ET1ciLCJjbGVhckludGVydmFsIiwiaW5pdFdlYmFtcCIsImNvbnRhaW5lckVsZW1lbnQiLCJpbml0aWFsU2tpbiIsImluaXRpYWxUcmFja3MiLCJoYW5kbGVVcmwiLCJleHRlcm5hbFVybCIsInByb21wdCIsInBsYXlsaXN0RXh0ZW5zaW9uIiwiaGFzIiwiZmV0Y2giLCJ0ZXh0IiwiZHVyYXRpb24iLCJ1cmwiLCJ3ZWJhbXAiLCJXZWJhbXAiLCJoYW5kbGVBZGRVcmxFdmVudCIsImhhbmRsZUxvYWRMaXN0RXZlbnQiLCJoYW5kbGVTYXZlTGlzdEV2ZW50IiwidHJhY2tzIiwiQnVmZmVyIiwiZnJvbSIsInRoZW4iLCJzYXZlTmFtZSIsInNldHVwRWxlbWVudHMiLCJ3ZWJhbXBFbGVtZW50IiwibWFpbldpbmRvdyIsInF1ZXJ5U2VsZWN0b3IiLCJwbGF5bGlzdFdpbmRvdyIsImVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicGxheSIsInBhdXNlIiwiX2FjdGlvbkVtaXR0ZXIiLCJvbiIsImVuZHNXaXRoIiwic2tpbkV4aXN0cyIsIkpTT04iLCJwYXJzZSIsInRvU3RyaW5nIiwiYXBwZW5kIiwidXBkYXRlUG9zaXRpb24iLCJ4IiwieSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImN1cnJlbnRXaW5kb3dTdGF0ZXMiLCJwdXNoIiwib25UcmFja0RpZENoYW5nZSIsInRyYWNrIiwibWlsa2Ryb3AiLCJ3aW5kb3dzIiwic3RvcmUiLCJnZXRTdGF0ZSIsImdlbldpbmRvd3MiLCJvcGVuIiwiYnV0dGVyY2h1cm4iLCJnZXRNZXRhZGF0YSIsInVwZGF0ZVRyYWNrSW5mbyIsImRpc3BsYXkiLCJjbG9zZWQiLCJwbGF5bGlzdCIsImN1cnJlbnRUcmFjayIsIm1ldGFEYXRhIiwiZGlzcGF0Y2giLCJ0eXBlIiwiYXJ0aXN0Iiwic2V0SW50ZXJ2YWwiLCJ0cmFja1RpdGxlIiwiZGF0YSIsInN0cmluZ2lmeSIsInNraW5VcmwiLCJvcHRpb25zIiwiYXZhaWxhYmxlU2tpbnMiLCJmaW5kIiwic2tpbiIsImFycmF5QnVmZmVyIiwicmVuZGVyV2hlblJlYWR5IiwiV2ViYW1wR2xvYmFsIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/apps/Webamp/useWebamp.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./components/system/Files/FileManager/useFileDrop.ts":
/*!************************************************************!*\
  !*** ./components/system/Files/FileManager/useFileDrop.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var components_system_Dialogs_Transfer_useTransferDialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! components/system/Dialogs/Transfer/useTransferDialog */ \"(pages-dir-node)/./components/system/Dialogs/Transfer/useTransferDialog.ts\");\n/* harmony import */ var components_system_Files_FileManager_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/system/Files/FileManager/functions */ \"(pages-dir-node)/./components/system/Files/FileManager/functions.ts\");\n/* harmony import */ var components_system_Files_FileManager_useFolder__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/system/Files/FileManager/useFolder */ \"(pages-dir-node)/./components/system/Files/FileManager/useFolder.ts\");\n/* harmony import */ var contexts_fileSystem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! contexts/fileSystem */ \"(pages-dir-node)/./contexts/fileSystem/index.ts\");\n/* harmony import */ var contexts_process__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! contexts/process */ \"(pages-dir-node)/./contexts/process/index.ts\");\n/* harmony import */ var contexts_session__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! contexts/session */ \"(pages-dir-node)/./contexts/session/index.ts\");\n/* harmony import */ var utils_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! utils/constants */ \"(pages-dir-node)/./utils/constants.ts\");\n/* harmony import */ var utils_functions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! utils/functions */ \"(pages-dir-node)/./utils/functions.ts\");\n/* harmony import */ var hooks_useProcessesRef__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! hooks/useProcessesRef */ \"(pages-dir-node)/./hooks/useProcessesRef.ts\");\n\n\n\n\n\n\n\n\n\n\n\nconst useFileDrop = ({ callback, directory = utils_constants__WEBPACK_IMPORTED_MODULE_8__.DESKTOP_PATH, id, onDragLeave, onDragOver, updatePositions })=>{\n    const { url } = (0,contexts_process__WEBPACK_IMPORTED_MODULE_6__.useProcesses)();\n    const processesRef = (0,hooks_useProcessesRef__WEBPACK_IMPORTED_MODULE_10__.useProcessesRef)();\n    const { iconPositions, sortOrders, setIconPositions } = (0,contexts_session__WEBPACK_IMPORTED_MODULE_7__.useSession)();\n    const { exists, mkdirRecursive, updateFolder, writeFile } = (0,contexts_fileSystem__WEBPACK_IMPORTED_MODULE_5__.useFileSystem)();\n    const updateProcessUrl = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"useFileDrop.useCallback[updateProcessUrl]\": async (filePath, fileData, completeAction)=>{\n            if (id) {\n                if (fileData) {\n                    const tempPath = (0,path__WEBPACK_IMPORTED_MODULE_0__.join)(utils_constants__WEBPACK_IMPORTED_MODULE_8__.DESKTOP_PATH, filePath);\n                    await mkdirRecursive(utils_constants__WEBPACK_IMPORTED_MODULE_8__.DESKTOP_PATH);\n                    if (await writeFile(tempPath, fileData, true)) {\n                        if (completeAction === components_system_Files_FileManager_useFolder__WEBPACK_IMPORTED_MODULE_4__.COMPLETE_ACTION.UPDATE_URL) {\n                            url(id, tempPath);\n                        }\n                        updateFolder(utils_constants__WEBPACK_IMPORTED_MODULE_8__.DESKTOP_PATH, filePath);\n                        return (0,path__WEBPACK_IMPORTED_MODULE_0__.basename)(tempPath);\n                    }\n                } else if (completeAction === components_system_Files_FileManager_useFolder__WEBPACK_IMPORTED_MODULE_4__.COMPLETE_ACTION.UPDATE_URL) {\n                    url(id, filePath);\n                }\n            }\n            return \"\";\n        }\n    }[\"useFileDrop.useCallback[updateProcessUrl]\"], [\n        id,\n        mkdirRecursive,\n        updateFolder,\n        url,\n        writeFile\n    ]);\n    const { openTransferDialog } = (0,components_system_Dialogs_Transfer_useTransferDialog__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n    const onDragOverThenHaltEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"useFileDrop.useCallback[onDragOverThenHaltEvent]\": (event)=>{\n            onDragOver?.(event);\n            (0,utils_functions__WEBPACK_IMPORTED_MODULE_9__.haltEvent)(event);\n        }\n    }[\"useFileDrop.useCallback[onDragOverThenHaltEvent]\"], [\n        onDragOver\n    ]);\n    const onDrop = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"useFileDrop.useCallback[onDrop]\": (event)=>{\n            if (utils_constants__WEBPACK_IMPORTED_MODULE_8__.MOUNTABLE_EXTENSIONS.has((0,utils_functions__WEBPACK_IMPORTED_MODULE_9__.getExtension)(directory))) return;\n            if (event.target instanceof HTMLElement) {\n                if (event.target.closest(\".focus-within\")?.contains(event.target)) {\n                    return;\n                }\n                if (updatePositions) {\n                    const { files, text } = (0,components_system_Files_FileManager_functions__WEBPACK_IMPORTED_MODULE_3__.getEventData)(event);\n                    if (files.length === 0 && text === \"\") return;\n                    const checkUpdatableIcons = {\n                        \"useFileDrop.useCallback[onDrop].checkUpdatableIcons\": async ()=>{\n                            const dragPosition = {\n                                x: event.clientX,\n                                y: event.clientY\n                            };\n                            let fileEntries = [];\n                            if (text) {\n                                try {\n                                    fileEntries = JSON.parse(text);\n                                } catch  {\n                                // Ignore failed JSON parsing\n                                }\n                                if (!Array.isArray(fileEntries)) return;\n                                const [firstEntry] = fileEntries;\n                                if (!firstEntry) return;\n                                if (firstEntry.startsWith(directory) && (0,path__WEBPACK_IMPORTED_MODULE_0__.basename)(firstEntry) === (0,path__WEBPACK_IMPORTED_MODULE_0__.relative)(directory, firstEntry)) {\n                                    return;\n                                }\n                                fileEntries = fileEntries.map({\n                                    \"useFileDrop.useCallback[onDrop].checkUpdatableIcons\": (entry)=>(0,path__WEBPACK_IMPORTED_MODULE_0__.basename)(entry)\n                                }[\"useFileDrop.useCallback[onDrop].checkUpdatableIcons\"]);\n                            } else if (files instanceof FileList) {\n                                fileEntries = [\n                                    ...files\n                                ].map({\n                                    \"useFileDrop.useCallback[onDrop].checkUpdatableIcons\": (file)=>file.name\n                                }[\"useFileDrop.useCallback[onDrop].checkUpdatableIcons\"]);\n                            } else {\n                                fileEntries = [\n                                    ...files\n                                ].map({\n                                    \"useFileDrop.useCallback[onDrop].checkUpdatableIcons\": (file)=>file.getAsFile()?.name || \"\"\n                                }[\"useFileDrop.useCallback[onDrop].checkUpdatableIcons\"]).filter(Boolean);\n                            }\n                            fileEntries = await (0,utils_functions__WEBPACK_IMPORTED_MODULE_9__.getIteratedNames)(fileEntries, directory, iconPositions, exists);\n                            (0,utils_functions__WEBPACK_IMPORTED_MODULE_9__.updateIconPositions)(directory, event.target, iconPositions, sortOrders, dragPosition, fileEntries, setIconPositions, exists);\n                        }\n                    }[\"useFileDrop.useCallback[onDrop].checkUpdatableIcons\"];\n                    checkUpdatableIcons();\n                }\n            }\n            const hasUpdateId = typeof id === \"string\";\n            if (hasUpdateId && !updatePositions && directory === utils_constants__WEBPACK_IMPORTED_MODULE_8__.DESKTOP_PATH) {\n                processesRef.current[id]?.componentWindow?.focus(utils_constants__WEBPACK_IMPORTED_MODULE_8__.PREVENT_SCROLL);\n            }\n            (0,components_system_Files_FileManager_functions__WEBPACK_IMPORTED_MODULE_3__.handleFileInputEvent)(event, callback || updateProcessUrl, directory, openTransferDialog, hasUpdateId);\n        }\n    }[\"useFileDrop.useCallback[onDrop]\"], [\n        callback,\n        directory,\n        exists,\n        iconPositions,\n        id,\n        openTransferDialog,\n        processesRef,\n        setIconPositions,\n        sortOrders,\n        updatePositions,\n        updateProcessUrl\n    ]);\n    return {\n        onDragLeave,\n        onDragOver: onDragOverThenHaltEvent,\n        onDrop\n    };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useFileDrop);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvc3lzdGVtL0ZpbGVzL0ZpbGVNYW5hZ2VyL3VzZUZpbGVEcm9wLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWdEO0FBQ1o7QUFDaUQ7QUFJOUI7QUFNQTtBQUNIO0FBQ0o7QUFDRjtBQUtyQjtBQU1BO0FBQytCO0FBaUJ4RCxNQUFNbUIsY0FBYyxDQUFDLEVBQ25CQyxRQUFRLEVBQ1JDLFlBQVlWLHlEQUFZLEVBQ3hCVyxFQUFFLEVBQ0ZDLFdBQVcsRUFDWEMsVUFBVSxFQUNWQyxlQUFlLEVBQ0Q7SUFDZCxNQUFNLEVBQUVDLEdBQUcsRUFBRSxHQUFHakIsOERBQVlBO0lBQzVCLE1BQU1rQixlQUFlVCx1RUFBZUE7SUFDcEMsTUFBTSxFQUFFVSxhQUFhLEVBQUVDLFVBQVUsRUFBRUMsZ0JBQWdCLEVBQUUsR0FBR3BCLDREQUFVQTtJQUNsRSxNQUFNLEVBQUVxQixNQUFNLEVBQUVDLGNBQWMsRUFBRUMsWUFBWSxFQUFFQyxTQUFTLEVBQUUsR0FBRzFCLGtFQUFhQTtJQUN6RSxNQUFNMkIsbUJBQW1CaEMsa0RBQVdBO3FEQUNsQyxPQUNFaUMsVUFDQUMsVUFDQUM7WUFFQSxJQUFJaEIsSUFBSTtnQkFDTixJQUFJZSxVQUFVO29CQUNaLE1BQU1FLFdBQVd0QywwQ0FBSUEsQ0FBQ1UseURBQVlBLEVBQUV5QjtvQkFFcEMsTUFBTUosZUFBZXJCLHlEQUFZQTtvQkFFakMsSUFBSSxNQUFNdUIsVUFBVUssVUFBVUYsVUFBVSxPQUFPO3dCQUM3QyxJQUFJQyxtQkFBbUIvQiwwRkFBZUEsQ0FBQ2lDLFVBQVUsRUFBRTs0QkFDakRkLElBQUlKLElBQUlpQjt3QkFDVjt3QkFDQU4sYUFBYXRCLHlEQUFZQSxFQUFFeUI7d0JBRTNCLE9BQU9wQyw4Q0FBUUEsQ0FBQ3VDO29CQUNsQjtnQkFDRixPQUFPLElBQUlELG1CQUFtQi9CLDBGQUFlQSxDQUFDaUMsVUFBVSxFQUFFO29CQUN4RGQsSUFBSUosSUFBSWM7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U2l0ZXNcXGVtIGRlc2Vudm9sdmltZW50b1xcUG9ydGZvbGlvMlxcY29tcG9uZW50c1xcc3lzdGVtXFxGaWxlc1xcRmlsZU1hbmFnZXJcXHVzZUZpbGVEcm9wLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJhc2VuYW1lLCBqb2luLCByZWxhdGl2ZSB9IGZyb20gXCJwYXRoXCI7XHJcbmltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB1c2VUcmFuc2ZlckRpYWxvZyBmcm9tIFwiY29tcG9uZW50cy9zeXN0ZW0vRGlhbG9ncy9UcmFuc2Zlci91c2VUcmFuc2ZlckRpYWxvZ1wiO1xyXG5pbXBvcnQge1xyXG4gIGdldEV2ZW50RGF0YSxcclxuICBoYW5kbGVGaWxlSW5wdXRFdmVudCxcclxufSBmcm9tIFwiY29tcG9uZW50cy9zeXN0ZW0vRmlsZXMvRmlsZU1hbmFnZXIvZnVuY3Rpb25zXCI7XHJcbmltcG9ydCB7IHR5cGUgRHJhZ1Bvc2l0aW9uIH0gZnJvbSBcImNvbXBvbmVudHMvc3lzdGVtL0ZpbGVzL0ZpbGVNYW5hZ2VyL3VzZURyYWdnYWJsZUVudHJpZXNcIjtcclxuaW1wb3J0IHtcclxuICB0eXBlIENvbXBsZXRlQWN0aW9uLFxyXG4gIHR5cGUgTmV3UGF0aCxcclxuICBDT01QTEVURV9BQ1RJT04sXHJcbn0gZnJvbSBcImNvbXBvbmVudHMvc3lzdGVtL0ZpbGVzL0ZpbGVNYW5hZ2VyL3VzZUZvbGRlclwiO1xyXG5pbXBvcnQgeyB1c2VGaWxlU3lzdGVtIH0gZnJvbSBcImNvbnRleHRzL2ZpbGVTeXN0ZW1cIjtcclxuaW1wb3J0IHsgdXNlUHJvY2Vzc2VzIH0gZnJvbSBcImNvbnRleHRzL3Byb2Nlc3NcIjtcclxuaW1wb3J0IHsgdXNlU2Vzc2lvbiB9IGZyb20gXCJjb250ZXh0cy9zZXNzaW9uXCI7XHJcbmltcG9ydCB7XHJcbiAgREVTS1RPUF9QQVRILFxyXG4gIE1PVU5UQUJMRV9FWFRFTlNJT05TLFxyXG4gIFBSRVZFTlRfU0NST0xMLFxyXG59IGZyb20gXCJ1dGlscy9jb25zdGFudHNcIjtcclxuaW1wb3J0IHtcclxuICBnZXRFeHRlbnNpb24sXHJcbiAgZ2V0SXRlcmF0ZWROYW1lcyxcclxuICBoYWx0RXZlbnQsXHJcbiAgdXBkYXRlSWNvblBvc2l0aW9ucyxcclxufSBmcm9tIFwidXRpbHMvZnVuY3Rpb25zXCI7XHJcbmltcG9ydCB7IHVzZVByb2Nlc3Nlc1JlZiB9IGZyb20gXCJob29rcy91c2VQcm9jZXNzZXNSZWZcIjtcclxuXHJcbmV4cG9ydCB0eXBlIEZpbGVEcm9wID0ge1xyXG4gIG9uRHJhZ0xlYXZlPzogKGV2ZW50OiBEcmFnRXZlbnQgfCBSZWFjdC5EcmFnRXZlbnQ8SFRNTEVsZW1lbnQ+KSA9PiB2b2lkO1xyXG4gIG9uRHJhZ092ZXI6IChldmVudDogRHJhZ0V2ZW50IHwgUmVhY3QuRHJhZ0V2ZW50PEhUTUxFbGVtZW50PikgPT4gdm9pZDtcclxuICBvbkRyb3A6IChldmVudDogRHJhZ0V2ZW50IHwgUmVhY3QuRHJhZ0V2ZW50PEhUTUxFbGVtZW50PikgPT4gdm9pZDtcclxufTtcclxuXHJcbnR5cGUgRmlsZURyb3BQcm9wcyA9IHtcclxuICBjYWxsYmFjaz86IE5ld1BhdGg7XHJcbiAgZGlyZWN0b3J5Pzogc3RyaW5nO1xyXG4gIGlkPzogc3RyaW5nO1xyXG4gIG9uRHJhZ0xlYXZlPzogKGV2ZW50OiBEcmFnRXZlbnQgfCBSZWFjdC5EcmFnRXZlbnQ8SFRNTEVsZW1lbnQ+KSA9PiB2b2lkO1xyXG4gIG9uRHJhZ092ZXI/OiAoZXZlbnQ6IERyYWdFdmVudCB8IFJlYWN0LkRyYWdFdmVudDxIVE1MRWxlbWVudD4pID0+IHZvaWQ7XHJcbiAgdXBkYXRlUG9zaXRpb25zPzogYm9vbGVhbjtcclxufTtcclxuXHJcbmNvbnN0IHVzZUZpbGVEcm9wID0gKHtcclxuICBjYWxsYmFjayxcclxuICBkaXJlY3RvcnkgPSBERVNLVE9QX1BBVEgsXHJcbiAgaWQsXHJcbiAgb25EcmFnTGVhdmUsXHJcbiAgb25EcmFnT3ZlcixcclxuICB1cGRhdGVQb3NpdGlvbnMsXHJcbn06IEZpbGVEcm9wUHJvcHMpOiBGaWxlRHJvcCA9PiB7XHJcbiAgY29uc3QgeyB1cmwgfSA9IHVzZVByb2Nlc3NlcygpO1xyXG4gIGNvbnN0IHByb2Nlc3Nlc1JlZiA9IHVzZVByb2Nlc3Nlc1JlZigpO1xyXG4gIGNvbnN0IHsgaWNvblBvc2l0aW9ucywgc29ydE9yZGVycywgc2V0SWNvblBvc2l0aW9ucyB9ID0gdXNlU2Vzc2lvbigpO1xyXG4gIGNvbnN0IHsgZXhpc3RzLCBta2RpclJlY3Vyc2l2ZSwgdXBkYXRlRm9sZGVyLCB3cml0ZUZpbGUgfSA9IHVzZUZpbGVTeXN0ZW0oKTtcclxuICBjb25zdCB1cGRhdGVQcm9jZXNzVXJsID0gdXNlQ2FsbGJhY2soXHJcbiAgICBhc3luYyAoXHJcbiAgICAgIGZpbGVQYXRoOiBzdHJpbmcsXHJcbiAgICAgIGZpbGVEYXRhPzogQnVmZmVyLFxyXG4gICAgICBjb21wbGV0ZUFjdGlvbj86IENvbXBsZXRlQWN0aW9uXHJcbiAgICApOiBQcm9taXNlPHN0cmluZz4gPT4ge1xyXG4gICAgICBpZiAoaWQpIHtcclxuICAgICAgICBpZiAoZmlsZURhdGEpIHtcclxuICAgICAgICAgIGNvbnN0IHRlbXBQYXRoID0gam9pbihERVNLVE9QX1BBVEgsIGZpbGVQYXRoKTtcclxuXHJcbiAgICAgICAgICBhd2FpdCBta2RpclJlY3Vyc2l2ZShERVNLVE9QX1BBVEgpO1xyXG5cclxuICAgICAgICAgIGlmIChhd2FpdCB3cml0ZUZpbGUodGVtcFBhdGgsIGZpbGVEYXRhLCB0cnVlKSkge1xyXG4gICAgICAgICAgICBpZiAoY29tcGxldGVBY3Rpb24gPT09IENPTVBMRVRFX0FDVElPTi5VUERBVEVfVVJMKSB7XHJcbiAgICAgICAgICAgICAgdXJsKGlkLCB0ZW1wUGF0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXBkYXRlRm9sZGVyKERFU0tUT1BfUEFUSCwgZmlsZVBhdGgpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGJhc2VuYW1lKHRlbXBQYXRoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGNvbXBsZXRlQWN0aW9uID09PSBDT01QTEVURV9BQ1RJT04uVVBEQVRFX1VSTCkge1xyXG4gICAgICAgICAgdXJsKGlkLCBmaWxlUGF0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gXCJcIjtcclxuICAgIH0sXHJcbiAgICBbaWQsIG1rZGlyUmVjdXJzaXZlLCB1cGRhdGVGb2xkZXIsIHVybCwgd3JpdGVGaWxlXVxyXG4gICk7XHJcbiAgY29uc3QgeyBvcGVuVHJhbnNmZXJEaWFsb2cgfSA9IHVzZVRyYW5zZmVyRGlhbG9nKCk7XHJcbiAgY29uc3Qgb25EcmFnT3ZlclRoZW5IYWx0RXZlbnQgPSB1c2VDYWxsYmFjayhcclxuICAgIChldmVudDogRHJhZ0V2ZW50IHwgUmVhY3QuRHJhZ0V2ZW50PEhUTUxFbGVtZW50Pik6IHZvaWQgPT4ge1xyXG4gICAgICBvbkRyYWdPdmVyPy4oZXZlbnQpO1xyXG4gICAgICBoYWx0RXZlbnQoZXZlbnQpO1xyXG4gICAgfSxcclxuICAgIFtvbkRyYWdPdmVyXVxyXG4gICk7XHJcbiAgY29uc3Qgb25Ecm9wID0gdXNlQ2FsbGJhY2soXHJcbiAgICAoZXZlbnQ6IERyYWdFdmVudCB8IFJlYWN0LkRyYWdFdmVudDxIVE1MRWxlbWVudD4pOiB2b2lkID0+IHtcclxuICAgICAgaWYgKE1PVU5UQUJMRV9FWFRFTlNJT05TLmhhcyhnZXRFeHRlbnNpb24oZGlyZWN0b3J5KSkpIHJldHVybjtcclxuXHJcbiAgICAgIGlmIChldmVudC50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGlmIChldmVudC50YXJnZXQuY2xvc2VzdChcIi5mb2N1cy13aXRoaW5cIik/LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh1cGRhdGVQb3NpdGlvbnMpIHtcclxuICAgICAgICAgIGNvbnN0IHsgZmlsZXMsIHRleHQgfSA9IGdldEV2ZW50RGF0YShldmVudCBhcyBSZWFjdC5EcmFnRXZlbnQpO1xyXG5cclxuICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPT09IDAgJiYgdGV4dCA9PT0gXCJcIikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGNoZWNrVXBkYXRhYmxlSWNvbnMgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRyYWdQb3NpdGlvbiA9IHtcclxuICAgICAgICAgICAgICB4OiBldmVudC5jbGllbnRYLFxyXG4gICAgICAgICAgICAgIHk6IGV2ZW50LmNsaWVudFksXHJcbiAgICAgICAgICAgIH0gYXMgRHJhZ1Bvc2l0aW9uO1xyXG5cclxuICAgICAgICAgICAgbGV0IGZpbGVFbnRyaWVzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRleHQpIHtcclxuICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZmlsZUVudHJpZXMgPSBKU09OLnBhcnNlKHRleHQpIGFzIHN0cmluZ1tdO1xyXG4gICAgICAgICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIGZhaWxlZCBKU09OIHBhcnNpbmdcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShmaWxlRW50cmllcykpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgY29uc3QgW2ZpcnN0RW50cnldID0gZmlsZUVudHJpZXM7XHJcblxyXG4gICAgICAgICAgICAgIGlmICghZmlyc3RFbnRyeSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBmaXJzdEVudHJ5LnN0YXJ0c1dpdGgoZGlyZWN0b3J5KSAmJlxyXG4gICAgICAgICAgICAgICAgYmFzZW5hbWUoZmlyc3RFbnRyeSkgPT09IHJlbGF0aXZlKGRpcmVjdG9yeSwgZmlyc3RFbnRyeSlcclxuICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGZpbGVFbnRyaWVzID0gZmlsZUVudHJpZXMubWFwKChlbnRyeSkgPT4gYmFzZW5hbWUoZW50cnkpKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChmaWxlcyBpbnN0YW5jZW9mIEZpbGVMaXN0KSB7XHJcbiAgICAgICAgICAgICAgZmlsZUVudHJpZXMgPSBbLi4uZmlsZXNdLm1hcCgoZmlsZSkgPT4gZmlsZS5uYW1lKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBmaWxlRW50cmllcyA9IFsuLi5maWxlc11cclxuICAgICAgICAgICAgICAgIC5tYXAoKGZpbGUpID0+IGZpbGUuZ2V0QXNGaWxlKCk/Lm5hbWUgfHwgXCJcIilcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZpbGVFbnRyaWVzID0gYXdhaXQgZ2V0SXRlcmF0ZWROYW1lcyhcclxuICAgICAgICAgICAgICBmaWxlRW50cmllcyxcclxuICAgICAgICAgICAgICBkaXJlY3RvcnksXHJcbiAgICAgICAgICAgICAgaWNvblBvc2l0aW9ucyxcclxuICAgICAgICAgICAgICBleGlzdHNcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHVwZGF0ZUljb25Qb3NpdGlvbnMoXHJcbiAgICAgICAgICAgICAgZGlyZWN0b3J5LFxyXG4gICAgICAgICAgICAgIGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudCxcclxuICAgICAgICAgICAgICBpY29uUG9zaXRpb25zLFxyXG4gICAgICAgICAgICAgIHNvcnRPcmRlcnMsXHJcbiAgICAgICAgICAgICAgZHJhZ1Bvc2l0aW9uLFxyXG4gICAgICAgICAgICAgIGZpbGVFbnRyaWVzLFxyXG4gICAgICAgICAgICAgIHNldEljb25Qb3NpdGlvbnMsXHJcbiAgICAgICAgICAgICAgZXhpc3RzXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIGNoZWNrVXBkYXRhYmxlSWNvbnMoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGhhc1VwZGF0ZUlkID0gdHlwZW9mIGlkID09PSBcInN0cmluZ1wiO1xyXG5cclxuICAgICAgaWYgKGhhc1VwZGF0ZUlkICYmICF1cGRhdGVQb3NpdGlvbnMgJiYgZGlyZWN0b3J5ID09PSBERVNLVE9QX1BBVEgpIHtcclxuICAgICAgICBwcm9jZXNzZXNSZWYuY3VycmVudFtpZF0/LmNvbXBvbmVudFdpbmRvdz8uZm9jdXMoUFJFVkVOVF9TQ1JPTEwpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBoYW5kbGVGaWxlSW5wdXRFdmVudChcclxuICAgICAgICBldmVudCBhcyBSZWFjdC5EcmFnRXZlbnQsXHJcbiAgICAgICAgY2FsbGJhY2sgfHwgdXBkYXRlUHJvY2Vzc1VybCxcclxuICAgICAgICBkaXJlY3RvcnksXHJcbiAgICAgICAgb3BlblRyYW5zZmVyRGlhbG9nLFxyXG4gICAgICAgIGhhc1VwZGF0ZUlkXHJcbiAgICAgICk7XHJcbiAgICB9LFxyXG4gICAgW1xyXG4gICAgICBjYWxsYmFjayxcclxuICAgICAgZGlyZWN0b3J5LFxyXG4gICAgICBleGlzdHMsXHJcbiAgICAgIGljb25Qb3NpdGlvbnMsXHJcbiAgICAgIGlkLFxyXG4gICAgICBvcGVuVHJhbnNmZXJEaWFsb2csXHJcbiAgICAgIHByb2Nlc3Nlc1JlZixcclxuICAgICAgc2V0SWNvblBvc2l0aW9ucyxcclxuICAgICAgc29ydE9yZGVycyxcclxuICAgICAgdXBkYXRlUG9zaXRpb25zLFxyXG4gICAgICB1cGRhdGVQcm9jZXNzVXJsLFxyXG4gICAgXVxyXG4gICk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBvbkRyYWdMZWF2ZSxcclxuICAgIG9uRHJhZ092ZXI6IG9uRHJhZ092ZXJUaGVuSGFsdEV2ZW50LFxyXG4gICAgb25Ecm9wLFxyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VGaWxlRHJvcDtcclxuIl0sIm5hbWVzIjpbImJhc2VuYW1lIiwiam9pbiIsInJlbGF0aXZlIiwidXNlQ2FsbGJhY2siLCJ1c2VUcmFuc2ZlckRpYWxvZyIsImdldEV2ZW50RGF0YSIsImhhbmRsZUZpbGVJbnB1dEV2ZW50IiwiQ09NUExFVEVfQUNUSU9OIiwidXNlRmlsZVN5c3RlbSIsInVzZVByb2Nlc3NlcyIsInVzZVNlc3Npb24iLCJERVNLVE9QX1BBVEgiLCJNT1VOVEFCTEVfRVhURU5TSU9OUyIsIlBSRVZFTlRfU0NST0xMIiwiZ2V0RXh0ZW5zaW9uIiwiZ2V0SXRlcmF0ZWROYW1lcyIsImhhbHRFdmVudCIsInVwZGF0ZUljb25Qb3NpdGlvbnMiLCJ1c2VQcm9jZXNzZXNSZWYiLCJ1c2VGaWxlRHJvcCIsImNhbGxiYWNrIiwiZGlyZWN0b3J5IiwiaWQiLCJvbkRyYWdMZWF2ZSIsIm9uRHJhZ092ZXIiLCJ1cGRhdGVQb3NpdGlvbnMiLCJ1cmwiLCJwcm9jZXNzZXNSZWYiLCJpY29uUG9zaXRpb25zIiwic29ydE9yZGVycyIsInNldEljb25Qb3NpdGlvbnMiLCJleGlzdHMiLCJta2RpclJlY3Vyc2l2ZSIsInVwZGF0ZUZvbGRlciIsIndyaXRlRmlsZSIsInVwZGF0ZVByb2Nlc3NVcmwiLCJmaWxlUGF0aCIsImZpbGVEYXRhIiwiY29tcGxldGVBY3Rpb24iLCJ0ZW1wUGF0aCIsIlVQREFURV9VUkwiLCJvcGVuVHJhbnNmZXJEaWFsb2ciLCJvbkRyYWdPdmVyVGhlbkhhbHRFdmVudCIsImV2ZW50Iiwib25Ecm9wIiwiaGFzIiwidGFyZ2V0IiwiSFRNTEVsZW1lbnQiLCJjbG9zZXN0IiwiY29udGFpbnMiLCJmaWxlcyIsInRleHQiLCJsZW5ndGgiLCJjaGVja1VwZGF0YWJsZUljb25zIiwiZHJhZ1Bvc2l0aW9uIiwieCIsImNsaWVudFgiLCJ5IiwiY2xpZW50WSIsImZpbGVFbnRyaWVzIiwiSlNPTiIsInBhcnNlIiwiQXJyYXkiLCJpc0FycmF5IiwiZmlyc3RFbnRyeSIsInN0YXJ0c1dpdGgiLCJtYXAiLCJlbnRyeSIsIkZpbGVMaXN0IiwiZmlsZSIsIm5hbWUiLCJnZXRBc0ZpbGUiLCJmaWx0ZXIiLCJCb29sZWFuIiwiaGFzVXBkYXRlSWQiLCJjdXJyZW50IiwiY29tcG9uZW50V2luZG93IiwiZm9jdXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/system/Files/FileManager/useFileDrop.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./components/system/Window/RndWindow/rndDefaults.ts":
/*!***********************************************************!*\
  !*** ./components/system/Window/RndWindow/rndDefaults.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MIN_WINDOW_HEIGHT: () => (/* binding */ MIN_WINDOW_HEIGHT),\n/* harmony export */   MIN_WINDOW_WIDTH: () => (/* binding */ MIN_WINDOW_WIDTH),\n/* harmony export */   RESIZING_DISABLED: () => (/* binding */ RESIZING_DISABLED),\n/* harmony export */   RESIZING_ENABLED: () => (/* binding */ RESIZING_ENABLED),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst RESIZING_DISABLED = {\n    bottom: false,\n    bottomLeft: false,\n    bottomRight: false,\n    left: false,\n    right: false,\n    top: false,\n    topLeft: false,\n    topRight: false\n};\nconst RESIZING_ENABLED = {\n    bottom: true,\n    bottomLeft: true,\n    bottomRight: true,\n    left: true,\n    right: true,\n    top: true,\n    topLeft: true,\n    topRight: true\n};\nconst MIN_WINDOW_HEIGHT = 30;\nconst MIN_WINDOW_WIDTH = 166;\nconst rndDefaults = {\n    cancel: \".cancel\",\n    dragHandleClassName: \"handle\",\n    enableUserSelectHack: false,\n    minHeight: `${MIN_WINDOW_HEIGHT}px`,\n    minWidth: `${MIN_WINDOW_WIDTH}px`,\n    resizeHandleStyles: {\n        bottom: {\n            bottom: \"-3px\",\n            cursor: \"ns-resize\",\n            height: \"6px\"\n        },\n        bottomLeft: {\n            bottom: \"-3px\",\n            cursor: \"nesw-resize\",\n            height: \"12px\",\n            left: \"-3px\",\n            width: \"12px\"\n        },\n        bottomRight: {\n            bottom: \"-3px\",\n            cursor: \"nwse-resize\",\n            height: \"12px\",\n            right: \"-3px\",\n            width: \"12px\"\n        },\n        left: {\n            cursor: \"ew-resize\",\n            left: \"-3px\",\n            width: \"6px\"\n        },\n        right: {\n            cursor: \"ew-resize\",\n            right: \"-3px\",\n            width: \"6px\"\n        },\n        top: {\n            cursor: \"ns-resize\",\n            height: \"6px\",\n            top: \"-3px\"\n        },\n        topLeft: {\n            cursor: \"nwse-resize\",\n            height: \"12px\",\n            left: \"-3px\",\n            top: \"-3px\",\n            width: \"12px\"\n        },\n        topRight: {\n            cursor: \"nesw-resize\",\n            height: \"12px\",\n            right: \"-3px\",\n            top: \"-3px\",\n            width: \"12px\"\n        }\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (rndDefaults);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvc3lzdGVtL1dpbmRvdy9SbmRXaW5kb3cvcm5kRGVmYXVsdHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFTyxNQUFNQSxvQkFBb0I7SUFDL0JDLFFBQVE7SUFDUkMsWUFBWTtJQUNaQyxhQUFhO0lBQ2JDLE1BQU07SUFDTkMsT0FBTztJQUNQQyxLQUFLO0lBQ0xDLFNBQVM7SUFDVEMsVUFBVTtBQUNaLEVBQUU7QUFFSyxNQUFNQyxtQkFBbUI7SUFDOUJSLFFBQVE7SUFDUkMsWUFBWTtJQUNaQyxhQUFhO0lBQ2JDLE1BQU07SUFDTkMsT0FBTztJQUNQQyxLQUFLO0lBQ0xDLFNBQVM7SUFDVEMsVUFBVTtBQUNaLEVBQUU7QUFFSyxNQUFNRSxvQkFBb0IsR0FBRztBQUM3QixNQUFNQyxtQkFBbUIsSUFBSTtBQUVwQyxNQUFNQyxjQUFjO0lBQ2xCQyxRQUFRO0lBQ1JDLHFCQUFxQjtJQUNyQkMsc0JBQXNCO0lBQ3RCQyxXQUFXLEdBQUdOLGtCQUFrQixFQUFFLENBQUM7SUFDbkNPLFVBQVUsR0FBR04saUJBQWlCLEVBQUUsQ0FBQztJQUNqQ08sb0JBQW9CO1FBQ2xCakIsUUFBUTtZQUNOQSxRQUFRO1lBQ1JrQixRQUFRO1lBQ1JDLFFBQVE7UUFDVjtRQUNBbEIsWUFBWTtZQUNWRCxRQUFRO1lBQ1JrQixRQUFRO1lBQ1JDLFFBQVE7WUFDUmhCLE1BQU07WUFDTmlCLE9BQU87UUFDVDtRQUNBbEIsYUFBYTtZQUNYRixRQUFRO1lBQ1JrQixRQUFRO1lBQ1JDLFFBQVE7WUFDUmYsT0FBTztZQUNQZ0IsT0FBTztRQUNUO1FBQ0FqQixNQUFNO1lBQ0plLFFBQVE7WUFDUmYsTUFBTTtZQUNOaUIsT0FBTztRQUNUO1FBQ0FoQixPQUFPO1lBQ0xjLFFBQVE7WUFDUmQsT0FBTztZQUNQZ0IsT0FBTztRQUNUO1FBQ0FmLEtBQUs7WUFDSGEsUUFBUTtZQUNSQyxRQUFRO1lBQ1JkLEtBQUs7UUFDUDtRQUNBQyxTQUFTO1lBQ1BZLFFBQVE7WUFDUkMsUUFBUTtZQUNSaEIsTUFBTTtZQUNORSxLQUFLO1lBQ0xlLE9BQU87UUFDVDtRQUNBYixVQUFVO1lBQ1JXLFFBQVE7WUFDUkMsUUFBUTtZQUNSZixPQUFPO1lBQ1BDLEtBQUs7WUFDTGUsT0FBTztRQUNUO0lBQ0Y7QUFDRjtBQUVBLGlFQUFlVCxXQUFXQSxFQUFDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFVzZXJcXERvY3VtZW50c1xcU2l0ZXNcXFNpdGVzXFxlbSBkZXNlbnZvbHZpbWVudG9cXFBvcnRmb2xpbzJcXGNvbXBvbmVudHNcXHN5c3RlbVxcV2luZG93XFxSbmRXaW5kb3dcXHJuZERlZmF1bHRzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHR5cGUgSGFuZGxlU3R5bGVzIH0gZnJvbSBcInJlYWN0LXJuZFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFJFU0laSU5HX0RJU0FCTEVEID0ge1xyXG4gIGJvdHRvbTogZmFsc2UsXHJcbiAgYm90dG9tTGVmdDogZmFsc2UsXHJcbiAgYm90dG9tUmlnaHQ6IGZhbHNlLFxyXG4gIGxlZnQ6IGZhbHNlLFxyXG4gIHJpZ2h0OiBmYWxzZSxcclxuICB0b3A6IGZhbHNlLFxyXG4gIHRvcExlZnQ6IGZhbHNlLFxyXG4gIHRvcFJpZ2h0OiBmYWxzZSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBSRVNJWklOR19FTkFCTEVEID0ge1xyXG4gIGJvdHRvbTogdHJ1ZSxcclxuICBib3R0b21MZWZ0OiB0cnVlLFxyXG4gIGJvdHRvbVJpZ2h0OiB0cnVlLFxyXG4gIGxlZnQ6IHRydWUsXHJcbiAgcmlnaHQ6IHRydWUsXHJcbiAgdG9wOiB0cnVlLFxyXG4gIHRvcExlZnQ6IHRydWUsXHJcbiAgdG9wUmlnaHQ6IHRydWUsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgTUlOX1dJTkRPV19IRUlHSFQgPSAzMDtcclxuZXhwb3J0IGNvbnN0IE1JTl9XSU5ET1dfV0lEVEggPSAxNjY7XHJcblxyXG5jb25zdCBybmREZWZhdWx0cyA9IHtcclxuICBjYW5jZWw6IFwiLmNhbmNlbFwiLFxyXG4gIGRyYWdIYW5kbGVDbGFzc05hbWU6IFwiaGFuZGxlXCIsXHJcbiAgZW5hYmxlVXNlclNlbGVjdEhhY2s6IGZhbHNlLFxyXG4gIG1pbkhlaWdodDogYCR7TUlOX1dJTkRPV19IRUlHSFR9cHhgLFxyXG4gIG1pbldpZHRoOiBgJHtNSU5fV0lORE9XX1dJRFRIfXB4YCxcclxuICByZXNpemVIYW5kbGVTdHlsZXM6IHtcclxuICAgIGJvdHRvbToge1xyXG4gICAgICBib3R0b206IFwiLTNweFwiLFxyXG4gICAgICBjdXJzb3I6IFwibnMtcmVzaXplXCIsXHJcbiAgICAgIGhlaWdodDogXCI2cHhcIixcclxuICAgIH0sXHJcbiAgICBib3R0b21MZWZ0OiB7XHJcbiAgICAgIGJvdHRvbTogXCItM3B4XCIsXHJcbiAgICAgIGN1cnNvcjogXCJuZXN3LXJlc2l6ZVwiLFxyXG4gICAgICBoZWlnaHQ6IFwiMTJweFwiLFxyXG4gICAgICBsZWZ0OiBcIi0zcHhcIixcclxuICAgICAgd2lkdGg6IFwiMTJweFwiLFxyXG4gICAgfSxcclxuICAgIGJvdHRvbVJpZ2h0OiB7XHJcbiAgICAgIGJvdHRvbTogXCItM3B4XCIsXHJcbiAgICAgIGN1cnNvcjogXCJud3NlLXJlc2l6ZVwiLFxyXG4gICAgICBoZWlnaHQ6IFwiMTJweFwiLFxyXG4gICAgICByaWdodDogXCItM3B4XCIsXHJcbiAgICAgIHdpZHRoOiBcIjEycHhcIixcclxuICAgIH0sXHJcbiAgICBsZWZ0OiB7XHJcbiAgICAgIGN1cnNvcjogXCJldy1yZXNpemVcIixcclxuICAgICAgbGVmdDogXCItM3B4XCIsXHJcbiAgICAgIHdpZHRoOiBcIjZweFwiLFxyXG4gICAgfSxcclxuICAgIHJpZ2h0OiB7XHJcbiAgICAgIGN1cnNvcjogXCJldy1yZXNpemVcIixcclxuICAgICAgcmlnaHQ6IFwiLTNweFwiLFxyXG4gICAgICB3aWR0aDogXCI2cHhcIixcclxuICAgIH0sXHJcbiAgICB0b3A6IHtcclxuICAgICAgY3Vyc29yOiBcIm5zLXJlc2l6ZVwiLFxyXG4gICAgICBoZWlnaHQ6IFwiNnB4XCIsXHJcbiAgICAgIHRvcDogXCItM3B4XCIsXHJcbiAgICB9LFxyXG4gICAgdG9wTGVmdDoge1xyXG4gICAgICBjdXJzb3I6IFwibndzZS1yZXNpemVcIixcclxuICAgICAgaGVpZ2h0OiBcIjEycHhcIixcclxuICAgICAgbGVmdDogXCItM3B4XCIsXHJcbiAgICAgIHRvcDogXCItM3B4XCIsXHJcbiAgICAgIHdpZHRoOiBcIjEycHhcIixcclxuICAgIH0sXHJcbiAgICB0b3BSaWdodDoge1xyXG4gICAgICBjdXJzb3I6IFwibmVzdy1yZXNpemVcIixcclxuICAgICAgaGVpZ2h0OiBcIjEycHhcIixcclxuICAgICAgcmlnaHQ6IFwiLTNweFwiLFxyXG4gICAgICB0b3A6IFwiLTNweFwiLFxyXG4gICAgICB3aWR0aDogXCIxMnB4XCIsXHJcbiAgICB9LFxyXG4gIH0gYXMgSGFuZGxlU3R5bGVzLFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm5kRGVmYXVsdHM7XHJcbiJdLCJuYW1lcyI6WyJSRVNJWklOR19ESVNBQkxFRCIsImJvdHRvbSIsImJvdHRvbUxlZnQiLCJib3R0b21SaWdodCIsImxlZnQiLCJyaWdodCIsInRvcCIsInRvcExlZnQiLCJ0b3BSaWdodCIsIlJFU0laSU5HX0VOQUJMRUQiLCJNSU5fV0lORE9XX0hFSUdIVCIsIk1JTl9XSU5ET1dfV0lEVEgiLCJybmREZWZhdWx0cyIsImNhbmNlbCIsImRyYWdIYW5kbGVDbGFzc05hbWUiLCJlbmFibGVVc2VyU2VsZWN0SGFjayIsIm1pbkhlaWdodCIsIm1pbldpZHRoIiwicmVzaXplSGFuZGxlU3R5bGVzIiwiY3Vyc29yIiwiaGVpZ2h0Iiwid2lkdGgiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/system/Window/RndWindow/rndDefaults.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./components/system/Window/Titlebar/useWindowActions.ts":
/*!***************************************************************!*\
  !*** ./components/system/Window/Titlebar/useWindowActions.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var components_system_Window_useNextFocusable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! components/system/Window/useNextFocusable */ \"(pages-dir-node)/./components/system/Window/useNextFocusable.ts\");\n/* harmony import */ var contexts_process__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! contexts/process */ \"(pages-dir-node)/./contexts/process/index.ts\");\n/* harmony import */ var contexts_session__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! contexts/session */ \"(pages-dir-node)/./contexts/session/index.ts\");\n/* harmony import */ var hooks_useProcessesRef__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! hooks/useProcessesRef */ \"(pages-dir-node)/./hooks/useProcessesRef.ts\");\n/* harmony import */ var utils_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! utils/constants */ \"(pages-dir-node)/./utils/constants.ts\");\n\n\n\n\n\n\nconst useWindowActions = (id)=>{\n    const nextFocusableId = (0,components_system_Window_useNextFocusable__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(id);\n    const { setForegroundId, removeFromStack } = (0,contexts_session__WEBPACK_IMPORTED_MODULE_3__.useSession)();\n    const { closeWithTransition, maximize, minimize } = (0,contexts_process__WEBPACK_IMPORTED_MODULE_2__.useProcesses)();\n    const processesRef = (0,hooks_useProcessesRef__WEBPACK_IMPORTED_MODULE_4__.useProcessesRef)();\n    const onMinimize = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWindowActions.useCallback[onMinimize]\": (keepForegroundId)=>{\n            minimize(id);\n            if (!keepForegroundId) setForegroundId(nextFocusableId);\n        }\n    }[\"useWindowActions.useCallback[onMinimize]\"], [\n        id,\n        minimize,\n        nextFocusableId,\n        setForegroundId\n    ]);\n    const onMaximize = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWindowActions.useCallback[onMaximize]\": ()=>{\n            const triggerMaximize = {\n                \"useWindowActions.useCallback[onMaximize].triggerMaximize\": ()=>{\n                    maximize(id);\n                    setForegroundId(id);\n                    processesRef.current[id]?.componentWindow?.focus(utils_constants__WEBPACK_IMPORTED_MODULE_5__.PREVENT_SCROLL);\n                }\n            }[\"useWindowActions.useCallback[onMaximize].triggerMaximize\"];\n            const [currentAnimation] = processesRef.current[id]?.componentWindow?.getAnimations() || [];\n            if (currentAnimation?.finished) {\n                currentAnimation.finished.then(triggerMaximize);\n            } else {\n                triggerMaximize();\n            }\n        }\n    }[\"useWindowActions.useCallback[onMaximize]\"], [\n        id,\n        maximize,\n        processesRef,\n        setForegroundId\n    ]);\n    const onClose = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWindowActions.useCallback[onClose]\": ()=>{\n            removeFromStack(id);\n            closeWithTransition(id);\n            setForegroundId(nextFocusableId);\n        }\n    }[\"useWindowActions.useCallback[onClose]\"], [\n        closeWithTransition,\n        id,\n        nextFocusableId,\n        removeFromStack,\n        setForegroundId\n    ]);\n    return {\n        onClose,\n        onMaximize,\n        onMinimize\n    };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useWindowActions);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvc3lzdGVtL1dpbmRvdy9UaXRsZWJhci91c2VXaW5kb3dBY3Rpb25zLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQW9DO0FBQ3FDO0FBQ3pCO0FBQ0Y7QUFDVTtBQUNQO0FBUWpELE1BQU1NLG1CQUFtQixDQUFDQztJQUN4QixNQUFNQyxrQkFBa0JQLHFGQUFnQkEsQ0FBQ007SUFDekMsTUFBTSxFQUFFRSxlQUFlLEVBQUVDLGVBQWUsRUFBRSxHQUFHUCw0REFBVUE7SUFDdkQsTUFBTSxFQUFFUSxtQkFBbUIsRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUUsR0FBR1gsOERBQVlBO0lBQ2hFLE1BQU1ZLGVBQWVWLHNFQUFlQTtJQUNwQyxNQUFNVyxhQUFhZixrREFBV0E7b0RBQzVCLENBQUNnQjtZQUNDSCxTQUFTTjtZQUNULElBQUksQ0FBQ1Msa0JBQWtCUCxnQkFBZ0JEO1FBQ3pDO21EQUNBO1FBQUNEO1FBQUlNO1FBQVVMO1FBQWlCQztLQUFnQjtJQUVsRCxNQUFNUSxhQUFhakIsa0RBQVdBO29EQUFDO1lBQzdCLE1BQU1rQjs0RUFBa0I7b0JBQ3RCTixTQUFTTDtvQkFDVEUsZ0JBQWdCRjtvQkFDaEJPLGFBQWFLLE9BQU8sQ0FBQ1osR0FBRyxFQUFFYSxpQkFBaUJDLE1BQU1oQiwyREFBY0E7Z0JBQ2pFOztZQUNBLE1BQU0sQ0FBQ2lCLGlCQUFpQixHQUN0QlIsYUFBYUssT0FBTyxDQUFDWixHQUFHLEVBQUVhLGlCQUFpQkcsbUJBQW1CLEVBQUU7WUFFbEUsSUFBSUQsa0JBQWtCRSxVQUFVO2dCQUM5QkYsaUJBQWlCRSxRQUFRLENBQUNDLElBQUksQ0FBQ1A7WUFDakMsT0FBTztnQkFDTEE7WUFDRjtRQUNGO21EQUFHO1FBQUNYO1FBQUlLO1FBQVVFO1FBQWNMO0tBQWdCO0lBQ2hELE1BQU1pQixVQUFVMUIsa0RBQVdBO2lEQUFDO1lBQzFCVSxnQkFBZ0JIO1lBQ2hCSSxvQkFBb0JKO1lBQ3BCRSxnQkFBZ0JEO1FBQ2xCO2dEQUFHO1FBQ0RHO1FBQ0FKO1FBQ0FDO1FBQ0FFO1FBQ0FEO0tBQ0Q7SUFFRCxPQUFPO1FBQUVpQjtRQUFTVDtRQUFZRjtJQUFXO0FBQzNDO0FBRUEsaUVBQWVULGdCQUFnQkEsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxVc2VyXFxEb2N1bWVudHNcXFNpdGVzXFxTaXRlc1xcZW0gZGVzZW52b2x2aW1lbnRvXFxQb3J0Zm9saW8yXFxjb21wb25lbnRzXFxzeXN0ZW1cXFdpbmRvd1xcVGl0bGViYXJcXHVzZVdpbmRvd0FjdGlvbnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHVzZU5leHRGb2N1c2FibGUgZnJvbSBcImNvbXBvbmVudHMvc3lzdGVtL1dpbmRvdy91c2VOZXh0Rm9jdXNhYmxlXCI7XHJcbmltcG9ydCB7IHVzZVByb2Nlc3NlcyB9IGZyb20gXCJjb250ZXh0cy9wcm9jZXNzXCI7XHJcbmltcG9ydCB7IHVzZVNlc3Npb24gfSBmcm9tIFwiY29udGV4dHMvc2Vzc2lvblwiO1xyXG5pbXBvcnQgeyB1c2VQcm9jZXNzZXNSZWYgfSBmcm9tIFwiaG9va3MvdXNlUHJvY2Vzc2VzUmVmXCI7XHJcbmltcG9ydCB7IFBSRVZFTlRfU0NST0xMIH0gZnJvbSBcInV0aWxzL2NvbnN0YW50c1wiO1xyXG5cclxudHlwZSBXaW5kb3dBY3Rpb25zID0ge1xyXG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XHJcbiAgb25NYXhpbWl6ZTogKCkgPT4gdm9pZDtcclxuICBvbk1pbmltaXplOiAoa2VlcEZvcmVncm91bmRJZD86IGJvb2xlYW4pID0+IHZvaWQ7XHJcbn07XHJcblxyXG5jb25zdCB1c2VXaW5kb3dBY3Rpb25zID0gKGlkOiBzdHJpbmcpOiBXaW5kb3dBY3Rpb25zID0+IHtcclxuICBjb25zdCBuZXh0Rm9jdXNhYmxlSWQgPSB1c2VOZXh0Rm9jdXNhYmxlKGlkKTtcclxuICBjb25zdCB7IHNldEZvcmVncm91bmRJZCwgcmVtb3ZlRnJvbVN0YWNrIH0gPSB1c2VTZXNzaW9uKCk7XHJcbiAgY29uc3QgeyBjbG9zZVdpdGhUcmFuc2l0aW9uLCBtYXhpbWl6ZSwgbWluaW1pemUgfSA9IHVzZVByb2Nlc3NlcygpO1xyXG4gIGNvbnN0IHByb2Nlc3Nlc1JlZiA9IHVzZVByb2Nlc3Nlc1JlZigpO1xyXG4gIGNvbnN0IG9uTWluaW1pemUgPSB1c2VDYWxsYmFjayhcclxuICAgIChrZWVwRm9yZWdyb3VuZElkPzogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgICBtaW5pbWl6ZShpZCk7XHJcbiAgICAgIGlmICgha2VlcEZvcmVncm91bmRJZCkgc2V0Rm9yZWdyb3VuZElkKG5leHRGb2N1c2FibGVJZCk7XHJcbiAgICB9LFxyXG4gICAgW2lkLCBtaW5pbWl6ZSwgbmV4dEZvY3VzYWJsZUlkLCBzZXRGb3JlZ3JvdW5kSWRdXHJcbiAgKTtcclxuICBjb25zdCBvbk1heGltaXplID0gdXNlQ2FsbGJhY2soKCk6IHZvaWQgPT4ge1xyXG4gICAgY29uc3QgdHJpZ2dlck1heGltaXplID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICBtYXhpbWl6ZShpZCk7XHJcbiAgICAgIHNldEZvcmVncm91bmRJZChpZCk7XHJcbiAgICAgIHByb2Nlc3Nlc1JlZi5jdXJyZW50W2lkXT8uY29tcG9uZW50V2luZG93Py5mb2N1cyhQUkVWRU5UX1NDUk9MTCk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgW2N1cnJlbnRBbmltYXRpb25dID1cclxuICAgICAgcHJvY2Vzc2VzUmVmLmN1cnJlbnRbaWRdPy5jb21wb25lbnRXaW5kb3c/LmdldEFuaW1hdGlvbnMoKSB8fCBbXTtcclxuXHJcbiAgICBpZiAoY3VycmVudEFuaW1hdGlvbj8uZmluaXNoZWQpIHtcclxuICAgICAgY3VycmVudEFuaW1hdGlvbi5maW5pc2hlZC50aGVuKHRyaWdnZXJNYXhpbWl6ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0cmlnZ2VyTWF4aW1pemUoKTtcclxuICAgIH1cclxuICB9LCBbaWQsIG1heGltaXplLCBwcm9jZXNzZXNSZWYsIHNldEZvcmVncm91bmRJZF0pO1xyXG4gIGNvbnN0IG9uQ2xvc2UgPSB1c2VDYWxsYmFjaygoKTogdm9pZCA9PiB7XHJcbiAgICByZW1vdmVGcm9tU3RhY2soaWQpO1xyXG4gICAgY2xvc2VXaXRoVHJhbnNpdGlvbihpZCk7XHJcbiAgICBzZXRGb3JlZ3JvdW5kSWQobmV4dEZvY3VzYWJsZUlkKTtcclxuICB9LCBbXHJcbiAgICBjbG9zZVdpdGhUcmFuc2l0aW9uLFxyXG4gICAgaWQsXHJcbiAgICBuZXh0Rm9jdXNhYmxlSWQsXHJcbiAgICByZW1vdmVGcm9tU3RhY2ssXHJcbiAgICBzZXRGb3JlZ3JvdW5kSWQsXHJcbiAgXSk7XHJcblxyXG4gIHJldHVybiB7IG9uQ2xvc2UsIG9uTWF4aW1pemUsIG9uTWluaW1pemUgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZVdpbmRvd0FjdGlvbnM7XHJcbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZU5leHRGb2N1c2FibGUiLCJ1c2VQcm9jZXNzZXMiLCJ1c2VTZXNzaW9uIiwidXNlUHJvY2Vzc2VzUmVmIiwiUFJFVkVOVF9TQ1JPTEwiLCJ1c2VXaW5kb3dBY3Rpb25zIiwiaWQiLCJuZXh0Rm9jdXNhYmxlSWQiLCJzZXRGb3JlZ3JvdW5kSWQiLCJyZW1vdmVGcm9tU3RhY2siLCJjbG9zZVdpdGhUcmFuc2l0aW9uIiwibWF4aW1pemUiLCJtaW5pbWl6ZSIsInByb2Nlc3Nlc1JlZiIsIm9uTWluaW1pemUiLCJrZWVwRm9yZWdyb3VuZElkIiwib25NYXhpbWl6ZSIsInRyaWdnZXJNYXhpbWl6ZSIsImN1cnJlbnQiLCJjb21wb25lbnRXaW5kb3ciLCJmb2N1cyIsImN1cnJlbnRBbmltYXRpb24iLCJnZXRBbmltYXRpb25zIiwiZmluaXNoZWQiLCJ0aGVuIiwib25DbG9zZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/system/Window/Titlebar/useWindowActions.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./components/system/Window/functions.ts":
/*!***********************************************!*\
  !*** ./components/system/Window/functions.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WINDOW_OFFSCREEN_BUFFER_PX: () => (/* binding */ WINDOW_OFFSCREEN_BUFFER_PX),\n/* harmony export */   cascadePosition: () => (/* binding */ cascadePosition),\n/* harmony export */   centerPosition: () => (/* binding */ centerPosition),\n/* harmony export */   isWindowOutsideBounds: () => (/* binding */ isWindowOutsideBounds),\n/* harmony export */   minMaxSize: () => (/* binding */ minMaxSize)\n/* harmony export */ });\n/* harmony import */ var components_system_Window_RndWindow_rndDefaults__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! components/system/Window/RndWindow/rndDefaults */ \"(pages-dir-node)/./components/system/Window/RndWindow/rndDefaults.ts\");\n/* harmony import */ var utils_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! utils/constants */ \"(pages-dir-node)/./utils/constants.ts\");\n/* harmony import */ var utils_functions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! utils/functions */ \"(pages-dir-node)/./utils/functions.ts\");\n\n\n\nconst cascadePosition = (id, processes, stackOrder = [], offset = 0)=>{\n    const [pid] = id.split(utils_constants__WEBPACK_IMPORTED_MODULE_1__.PROCESS_DELIMITER);\n    const processPid = `${pid}${utils_constants__WEBPACK_IMPORTED_MODULE_1__.PROCESS_DELIMITER}`;\n    const parentPositionProcess = stackOrder.find((stackPid)=>stackPid.startsWith(processPid)) || \"\";\n    const { componentWindow } = processes?.[parentPositionProcess] || {};\n    const { x = 0, y = 0, width = 0, height = 0 } = componentWindow?.getBoundingClientRect() || {};\n    const isOffscreen = x + offset + width > (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.viewWidth)() || y + offset + height > (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.viewHeight)();\n    return !isOffscreen && (x || y) ? {\n        x: x + offset,\n        y: y + offset\n    } : undefined;\n};\nconst centerPosition = ({ height, width })=>{\n    const [vh, vw] = [\n        (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.viewHeight)(),\n        (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.viewWidth)()\n    ];\n    return {\n        x: Math.floor(vw / 2 - (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.pxToNum)(width) / 2),\n        y: Math.floor((vh - utils_constants__WEBPACK_IMPORTED_MODULE_1__.TASKBAR_HEIGHT) / 2 - (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.pxToNum)(height) / 2)\n    };\n};\nconst WINDOW_OFFSCREEN_BUFFER_PX = {\n    BOTTOM: 15,\n    LEFT: 150,\n    RIGHT: 50,\n    TOP: 15\n};\nconst isWindowOutsideBounds = (windowState, bounds, checkOffscreen = false)=>{\n    const { position, size } = windowState || {};\n    const { x = 0, y = 0 } = position || {};\n    const { height = 0, width = 0 } = size || {};\n    if (checkOffscreen) {\n        return x + WINDOW_OFFSCREEN_BUFFER_PX.RIGHT > bounds.x || x + (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.pxToNum)(width) - WINDOW_OFFSCREEN_BUFFER_PX.LEFT < 0 || y + WINDOW_OFFSCREEN_BUFFER_PX.BOTTOM > bounds.y || y + WINDOW_OFFSCREEN_BUFFER_PX.TOP < 0;\n    }\n    return x < 0 || y < 0 || x + (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.pxToNum)(width) > bounds.x || y + (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.pxToNum)(height) > bounds.y;\n};\nconst minMaxSize = (size, lockAspectRatio)=>{\n    const desiredHeight = Number(size.height);\n    const desiredWidth = Number(size.width);\n    const [vh, vw] = [\n        (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.viewHeight)(),\n        (0,utils_functions__WEBPACK_IMPORTED_MODULE_2__.viewWidth)()\n    ];\n    const vhWithoutTaskbar = vh - utils_constants__WEBPACK_IMPORTED_MODULE_1__.TASKBAR_HEIGHT;\n    const height = Math.max(components_system_Window_RndWindow_rndDefaults__WEBPACK_IMPORTED_MODULE_0__.MIN_WINDOW_HEIGHT, Math.min(desiredHeight, vhWithoutTaskbar));\n    const width = Math.max(components_system_Window_RndWindow_rndDefaults__WEBPACK_IMPORTED_MODULE_0__.MIN_WINDOW_WIDTH, Math.min(desiredWidth, vw));\n    if (!lockAspectRatio) return {\n        height,\n        width\n    };\n    const isDesiredHeight = desiredHeight === height;\n    const isDesiredWidth = desiredWidth === width;\n    if (!isDesiredHeight && !isDesiredWidth) {\n        if (desiredHeight > desiredWidth) {\n            return {\n                height,\n                width: Math.round(width / (vhWithoutTaskbar / height))\n            };\n        }\n        return {\n            height: Math.round(height / (vw / width)),\n            width\n        };\n    }\n    if (!isDesiredHeight) {\n        return {\n            height,\n            width: Math.round(width / (desiredHeight / height))\n        };\n    }\n    if (!isDesiredWidth) {\n        return {\n            height: Math.round(height / (desiredWidth / width)),\n            width\n        };\n    }\n    return {\n        height,\n        width\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvc3lzdGVtL1dpbmRvdy9mdW5jdGlvbnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFJd0Q7QUFJWTtBQUNIO0FBRTFELE1BQU1PLGtCQUFrQixDQUM3QkMsSUFDQUMsV0FDQUMsYUFBdUIsRUFBRSxFQUN6QkMsU0FBUyxDQUFDO0lBRVYsTUFBTSxDQUFDQyxJQUFJLEdBQUdKLEdBQUdLLEtBQUssQ0FBQ1gsOERBQWlCQTtJQUN4QyxNQUFNWSxhQUFhLEdBQUdGLE1BQU1WLDhEQUFpQkEsRUFBRTtJQUMvQyxNQUFNYSx3QkFDSkwsV0FBV00sSUFBSSxDQUFDLENBQUNDLFdBQWFBLFNBQVNDLFVBQVUsQ0FBQ0osZ0JBQWdCO0lBQ3BFLE1BQU0sRUFBRUssZUFBZSxFQUFFLEdBQUdWLFdBQVcsQ0FBQ00sc0JBQXNCLElBQUksQ0FBQztJQUNuRSxNQUFNLEVBQ0pLLElBQUksQ0FBQyxFQUNMQyxJQUFJLENBQUMsRUFDTEMsUUFBUSxDQUFDLEVBQ1RDLFNBQVMsQ0FBQyxFQUNYLEdBQUdKLGlCQUFpQkssMkJBQTJCLENBQUM7SUFDakQsTUFBTUMsY0FDSkwsSUFBSVQsU0FBU1csUUFBUWhCLDBEQUFTQSxNQUFNZSxJQUFJVixTQUFTWSxTQUFTbEIsMkRBQVVBO0lBRXRFLE9BQU8sQ0FBQ29CLGVBQWdCTCxDQUFBQSxLQUFLQyxDQUFBQSxJQUN6QjtRQUNFRCxHQUFHQSxJQUFJVDtRQUNQVSxHQUFHQSxJQUFJVjtJQUNULElBQ0FlO0FBQ04sRUFBRTtBQUVLLE1BQU1DLGlCQUFpQixDQUFDLEVBQUVKLE1BQU0sRUFBRUQsS0FBSyxFQUFRO0lBQ3BELE1BQU0sQ0FBQ00sSUFBSUMsR0FBRyxHQUFHO1FBQUN4QiwyREFBVUE7UUFBSUMsMERBQVNBO0tBQUc7SUFFNUMsT0FBTztRQUNMYyxHQUFHVSxLQUFLQyxLQUFLLENBQUNGLEtBQUssSUFBSXpCLHdEQUFPQSxDQUFDa0IsU0FBUztRQUN4Q0QsR0FBR1MsS0FBS0MsS0FBSyxDQUFDLENBQUNILEtBQUt6QiwyREFBYSxJQUFLLElBQUlDLHdEQUFPQSxDQUFDbUIsVUFBVTtJQUM5RDtBQUNGLEVBQUU7QUFFSyxNQUFNUyw2QkFBNkI7SUFDeENDLFFBQVE7SUFDUkMsTUFBTTtJQUNOQyxPQUFPO0lBQ1BDLEtBQUs7QUFDUCxFQUFFO0FBRUssTUFBTUMsd0JBQXdCLENBQ25DQyxhQUNBQyxRQUNBQyxpQkFBaUIsS0FBSztJQUV0QixNQUFNLEVBQUVDLFFBQVEsRUFBRUMsSUFBSSxFQUFFLEdBQUdKLGVBQWUsQ0FBQztJQUMzQyxNQUFNLEVBQUVsQixJQUFJLENBQUMsRUFBRUMsSUFBSSxDQUFDLEVBQUUsR0FBR29CLFlBQVksQ0FBQztJQUN0QyxNQUFNLEVBQUVsQixTQUFTLENBQUMsRUFBRUQsUUFBUSxDQUFDLEVBQUUsR0FBR29CLFFBQVEsQ0FBQztJQUUzQyxJQUFJRixnQkFBZ0I7UUFDbEIsT0FDRXBCLElBQUlZLDJCQUEyQkcsS0FBSyxHQUFHSSxPQUFPbkIsQ0FBQyxJQUMvQ0EsSUFBSWhCLHdEQUFPQSxDQUFDa0IsU0FBU1UsMkJBQTJCRSxJQUFJLEdBQUcsS0FDdkRiLElBQUlXLDJCQUEyQkMsTUFBTSxHQUFHTSxPQUFPbEIsQ0FBQyxJQUNoREEsSUFBSVcsMkJBQTJCSSxHQUFHLEdBQUc7SUFFekM7SUFFQSxPQUNFaEIsSUFBSSxLQUNKQyxJQUFJLEtBQ0pELElBQUloQix3REFBT0EsQ0FBQ2tCLFNBQVNpQixPQUFPbkIsQ0FBQyxJQUM3QkMsSUFBSWpCLHdEQUFPQSxDQUFDbUIsVUFBVWdCLE9BQU9sQixDQUFDO0FBRWxDLEVBQUU7QUFFSyxNQUFNc0IsYUFBYSxDQUFDRCxNQUFZRTtJQUNyQyxNQUFNQyxnQkFBZ0JDLE9BQU9KLEtBQUtuQixNQUFNO0lBQ3hDLE1BQU13QixlQUFlRCxPQUFPSixLQUFLcEIsS0FBSztJQUN0QyxNQUFNLENBQUNNLElBQUlDLEdBQUcsR0FBRztRQUFDeEIsMkRBQVVBO1FBQUlDLDBEQUFTQTtLQUFHO0lBQzVDLE1BQU0wQyxtQkFBbUJwQixLQUFLekIsMkRBQWNBO0lBQzVDLE1BQU1vQixTQUFTTyxLQUFLbUIsR0FBRyxDQUNyQmpELDZGQUFpQkEsRUFDakI4QixLQUFLb0IsR0FBRyxDQUFDTCxlQUFlRztJQUUxQixNQUFNMUIsUUFBUVEsS0FBS21CLEdBQUcsQ0FBQ2hELDRGQUFnQkEsRUFBRTZCLEtBQUtvQixHQUFHLENBQUNILGNBQWNsQjtJQUVoRSxJQUFJLENBQUNlLGlCQUFpQixPQUFPO1FBQUVyQjtRQUFRRDtJQUFNO0lBRTdDLE1BQU02QixrQkFBa0JOLGtCQUFrQnRCO0lBQzFDLE1BQU02QixpQkFBaUJMLGlCQUFpQnpCO0lBRXhDLElBQUksQ0FBQzZCLG1CQUFtQixDQUFDQyxnQkFBZ0I7UUFDdkMsSUFBSVAsZ0JBQWdCRSxjQUFjO1lBQ2hDLE9BQU87Z0JBQ0x4QjtnQkFDQUQsT0FBT1EsS0FBS3VCLEtBQUssQ0FBQy9CLFFBQVMwQixDQUFBQSxtQkFBbUJ6QixNQUFLO1lBQ3JEO1FBQ0Y7UUFFQSxPQUFPO1lBQ0xBLFFBQVFPLEtBQUt1QixLQUFLLENBQUM5QixTQUFVTSxDQUFBQSxLQUFLUCxLQUFJO1lBQ3RDQTtRQUNGO0lBQ0Y7SUFFQSxJQUFJLENBQUM2QixpQkFBaUI7UUFDcEIsT0FBTztZQUNMNUI7WUFDQUQsT0FBT1EsS0FBS3VCLEtBQUssQ0FBQy9CLFFBQVN1QixDQUFBQSxnQkFBZ0J0QixNQUFLO1FBQ2xEO0lBQ0Y7SUFFQSxJQUFJLENBQUM2QixnQkFBZ0I7UUFDbkIsT0FBTztZQUNMN0IsUUFBUU8sS0FBS3VCLEtBQUssQ0FBQzlCLFNBQVV3QixDQUFBQSxlQUFlekIsS0FBSTtZQUNoREE7UUFDRjtJQUNGO0lBRUEsT0FBTztRQUFFQztRQUFRRDtJQUFNO0FBQ3pCLEVBQUUiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcVXNlclxcRG9jdW1lbnRzXFxTaXRlc1xcU2l0ZXNcXGVtIGRlc2Vudm9sdmltZW50b1xcUG9ydGZvbGlvMlxcY29tcG9uZW50c1xcc3lzdGVtXFxXaW5kb3dcXGZ1bmN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIFBvc2l0aW9uIH0gZnJvbSBcInJlYWN0LXJuZFwiO1xyXG5pbXBvcnQge1xyXG4gIE1JTl9XSU5ET1dfSEVJR0hULFxyXG4gIE1JTl9XSU5ET1dfV0lEVEgsXHJcbn0gZnJvbSBcImNvbXBvbmVudHMvc3lzdGVtL1dpbmRvdy9SbmRXaW5kb3cvcm5kRGVmYXVsdHNcIjtcclxuaW1wb3J0IHsgdHlwZSBTaXplIH0gZnJvbSBcImNvbXBvbmVudHMvc3lzdGVtL1dpbmRvdy9SbmRXaW5kb3cvdXNlUmVzaXphYmxlXCI7XHJcbmltcG9ydCB7IHR5cGUgUHJvY2Vzc2VzIH0gZnJvbSBcImNvbnRleHRzL3Byb2Nlc3MvdHlwZXNcIjtcclxuaW1wb3J0IHsgdHlwZSBXaW5kb3dTdGF0ZSB9IGZyb20gXCJjb250ZXh0cy9zZXNzaW9uL3R5cGVzXCI7XHJcbmltcG9ydCB7IFBST0NFU1NfREVMSU1JVEVSLCBUQVNLQkFSX0hFSUdIVCB9IGZyb20gXCJ1dGlscy9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgcHhUb051bSwgdmlld0hlaWdodCwgdmlld1dpZHRoIH0gZnJvbSBcInV0aWxzL2Z1bmN0aW9uc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhc2NhZGVQb3NpdGlvbiA9IChcclxuICBpZDogc3RyaW5nLFxyXG4gIHByb2Nlc3NlczogUHJvY2Vzc2VzLFxyXG4gIHN0YWNrT3JkZXI6IHN0cmluZ1tdID0gW10sXHJcbiAgb2Zmc2V0ID0gMFxyXG4pOiBQb3NpdGlvbiB8IHVuZGVmaW5lZCA9PiB7XHJcbiAgY29uc3QgW3BpZF0gPSBpZC5zcGxpdChQUk9DRVNTX0RFTElNSVRFUik7XHJcbiAgY29uc3QgcHJvY2Vzc1BpZCA9IGAke3BpZH0ke1BST0NFU1NfREVMSU1JVEVSfWA7XHJcbiAgY29uc3QgcGFyZW50UG9zaXRpb25Qcm9jZXNzID1cclxuICAgIHN0YWNrT3JkZXIuZmluZCgoc3RhY2tQaWQpID0+IHN0YWNrUGlkLnN0YXJ0c1dpdGgocHJvY2Vzc1BpZCkpIHx8IFwiXCI7XHJcbiAgY29uc3QgeyBjb21wb25lbnRXaW5kb3cgfSA9IHByb2Nlc3Nlcz8uW3BhcmVudFBvc2l0aW9uUHJvY2Vzc10gfHwge307XHJcbiAgY29uc3Qge1xyXG4gICAgeCA9IDAsXHJcbiAgICB5ID0gMCxcclxuICAgIHdpZHRoID0gMCxcclxuICAgIGhlaWdodCA9IDAsXHJcbiAgfSA9IGNvbXBvbmVudFdpbmRvdz8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgfHwge307XHJcbiAgY29uc3QgaXNPZmZzY3JlZW4gPVxyXG4gICAgeCArIG9mZnNldCArIHdpZHRoID4gdmlld1dpZHRoKCkgfHwgeSArIG9mZnNldCArIGhlaWdodCA+IHZpZXdIZWlnaHQoKTtcclxuXHJcbiAgcmV0dXJuICFpc09mZnNjcmVlbiAmJiAoeCB8fCB5KVxyXG4gICAgPyB7XHJcbiAgICAgICAgeDogeCArIG9mZnNldCxcclxuICAgICAgICB5OiB5ICsgb2Zmc2V0LFxyXG4gICAgICB9XHJcbiAgICA6IHVuZGVmaW5lZDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjZW50ZXJQb3NpdGlvbiA9ICh7IGhlaWdodCwgd2lkdGggfTogU2l6ZSk6IFBvc2l0aW9uID0+IHtcclxuICBjb25zdCBbdmgsIHZ3XSA9IFt2aWV3SGVpZ2h0KCksIHZpZXdXaWR0aCgpXTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHg6IE1hdGguZmxvb3IodncgLyAyIC0gcHhUb051bSh3aWR0aCkgLyAyKSxcclxuICAgIHk6IE1hdGguZmxvb3IoKHZoIC0gVEFTS0JBUl9IRUlHSFQpIC8gMiAtIHB4VG9OdW0oaGVpZ2h0KSAvIDIpLFxyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgV0lORE9XX09GRlNDUkVFTl9CVUZGRVJfUFggPSB7XHJcbiAgQk9UVE9NOiAxNSxcclxuICBMRUZUOiAxNTAsXHJcbiAgUklHSFQ6IDUwLFxyXG4gIFRPUDogMTUsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgaXNXaW5kb3dPdXRzaWRlQm91bmRzID0gKFxyXG4gIHdpbmRvd1N0YXRlOiBXaW5kb3dTdGF0ZSxcclxuICBib3VuZHM6IFBvc2l0aW9uLFxyXG4gIGNoZWNrT2Zmc2NyZWVuID0gZmFsc2VcclxuKTogYm9vbGVhbiA9PiB7XHJcbiAgY29uc3QgeyBwb3NpdGlvbiwgc2l6ZSB9ID0gd2luZG93U3RhdGUgfHwge307XHJcbiAgY29uc3QgeyB4ID0gMCwgeSA9IDAgfSA9IHBvc2l0aW9uIHx8IHt9O1xyXG4gIGNvbnN0IHsgaGVpZ2h0ID0gMCwgd2lkdGggPSAwIH0gPSBzaXplIHx8IHt9O1xyXG5cclxuICBpZiAoY2hlY2tPZmZzY3JlZW4pIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIHggKyBXSU5ET1dfT0ZGU0NSRUVOX0JVRkZFUl9QWC5SSUdIVCA+IGJvdW5kcy54IHx8XHJcbiAgICAgIHggKyBweFRvTnVtKHdpZHRoKSAtIFdJTkRPV19PRkZTQ1JFRU5fQlVGRkVSX1BYLkxFRlQgPCAwIHx8XHJcbiAgICAgIHkgKyBXSU5ET1dfT0ZGU0NSRUVOX0JVRkZFUl9QWC5CT1RUT00gPiBib3VuZHMueSB8fFxyXG4gICAgICB5ICsgV0lORE9XX09GRlNDUkVFTl9CVUZGRVJfUFguVE9QIDwgMFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICB4IDwgMCB8fFxyXG4gICAgeSA8IDAgfHxcclxuICAgIHggKyBweFRvTnVtKHdpZHRoKSA+IGJvdW5kcy54IHx8XHJcbiAgICB5ICsgcHhUb051bShoZWlnaHQpID4gYm91bmRzLnlcclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IG1pbk1heFNpemUgPSAoc2l6ZTogU2l6ZSwgbG9ja0FzcGVjdFJhdGlvOiBib29sZWFuKTogU2l6ZSA9PiB7XHJcbiAgY29uc3QgZGVzaXJlZEhlaWdodCA9IE51bWJlcihzaXplLmhlaWdodCk7XHJcbiAgY29uc3QgZGVzaXJlZFdpZHRoID0gTnVtYmVyKHNpemUud2lkdGgpO1xyXG4gIGNvbnN0IFt2aCwgdnddID0gW3ZpZXdIZWlnaHQoKSwgdmlld1dpZHRoKCldO1xyXG4gIGNvbnN0IHZoV2l0aG91dFRhc2tiYXIgPSB2aCAtIFRBU0tCQVJfSEVJR0hUO1xyXG4gIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KFxyXG4gICAgTUlOX1dJTkRPV19IRUlHSFQsXHJcbiAgICBNYXRoLm1pbihkZXNpcmVkSGVpZ2h0LCB2aFdpdGhvdXRUYXNrYmFyKVxyXG4gICk7XHJcbiAgY29uc3Qgd2lkdGggPSBNYXRoLm1heChNSU5fV0lORE9XX1dJRFRILCBNYXRoLm1pbihkZXNpcmVkV2lkdGgsIHZ3KSk7XHJcblxyXG4gIGlmICghbG9ja0FzcGVjdFJhdGlvKSByZXR1cm4geyBoZWlnaHQsIHdpZHRoIH07XHJcblxyXG4gIGNvbnN0IGlzRGVzaXJlZEhlaWdodCA9IGRlc2lyZWRIZWlnaHQgPT09IGhlaWdodDtcclxuICBjb25zdCBpc0Rlc2lyZWRXaWR0aCA9IGRlc2lyZWRXaWR0aCA9PT0gd2lkdGg7XHJcblxyXG4gIGlmICghaXNEZXNpcmVkSGVpZ2h0ICYmICFpc0Rlc2lyZWRXaWR0aCkge1xyXG4gICAgaWYgKGRlc2lyZWRIZWlnaHQgPiBkZXNpcmVkV2lkdGgpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBoZWlnaHQsXHJcbiAgICAgICAgd2lkdGg6IE1hdGgucm91bmQod2lkdGggLyAodmhXaXRob3V0VGFza2JhciAvIGhlaWdodCkpLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGhlaWdodDogTWF0aC5yb3VuZChoZWlnaHQgLyAodncgLyB3aWR0aCkpLFxyXG4gICAgICB3aWR0aCxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBpZiAoIWlzRGVzaXJlZEhlaWdodCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaGVpZ2h0LFxyXG4gICAgICB3aWR0aDogTWF0aC5yb3VuZCh3aWR0aCAvIChkZXNpcmVkSGVpZ2h0IC8gaGVpZ2h0KSksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgaWYgKCFpc0Rlc2lyZWRXaWR0aCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaGVpZ2h0OiBNYXRoLnJvdW5kKGhlaWdodCAvIChkZXNpcmVkV2lkdGggLyB3aWR0aCkpLFxyXG4gICAgICB3aWR0aCxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICByZXR1cm4geyBoZWlnaHQsIHdpZHRoIH07XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJNSU5fV0lORE9XX0hFSUdIVCIsIk1JTl9XSU5ET1dfV0lEVEgiLCJQUk9DRVNTX0RFTElNSVRFUiIsIlRBU0tCQVJfSEVJR0hUIiwicHhUb051bSIsInZpZXdIZWlnaHQiLCJ2aWV3V2lkdGgiLCJjYXNjYWRlUG9zaXRpb24iLCJpZCIsInByb2Nlc3NlcyIsInN0YWNrT3JkZXIiLCJvZmZzZXQiLCJwaWQiLCJzcGxpdCIsInByb2Nlc3NQaWQiLCJwYXJlbnRQb3NpdGlvblByb2Nlc3MiLCJmaW5kIiwic3RhY2tQaWQiLCJzdGFydHNXaXRoIiwiY29tcG9uZW50V2luZG93IiwieCIsInkiLCJ3aWR0aCIsImhlaWdodCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImlzT2Zmc2NyZWVuIiwidW5kZWZpbmVkIiwiY2VudGVyUG9zaXRpb24iLCJ2aCIsInZ3IiwiTWF0aCIsImZsb29yIiwiV0lORE9XX09GRlNDUkVFTl9CVUZGRVJfUFgiLCJCT1RUT00iLCJMRUZUIiwiUklHSFQiLCJUT1AiLCJpc1dpbmRvd091dHNpZGVCb3VuZHMiLCJ3aW5kb3dTdGF0ZSIsImJvdW5kcyIsImNoZWNrT2Zmc2NyZWVuIiwicG9zaXRpb24iLCJzaXplIiwibWluTWF4U2l6ZSIsImxvY2tBc3BlY3RSYXRpbyIsImRlc2lyZWRIZWlnaHQiLCJOdW1iZXIiLCJkZXNpcmVkV2lkdGgiLCJ2aFdpdGhvdXRUYXNrYmFyIiwibWF4IiwibWluIiwiaXNEZXNpcmVkSGVpZ2h0IiwiaXNEZXNpcmVkV2lkdGgiLCJyb3VuZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/system/Window/functions.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./components/system/Window/useFocusable.ts":
/*!**************************************************!*\
  !*** ./components/system/Window/useFocusable.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var contexts_process__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! contexts/process */ \"(pages-dir-node)/./contexts/process/index.ts\");\n/* harmony import */ var contexts_session__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! contexts/session */ \"(pages-dir-node)/./contexts/session/index.ts\");\n/* harmony import */ var utils_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! utils/constants */ \"(pages-dir-node)/./utils/constants.ts\");\n\n\n\n\nconst useFocusable = (id, callbackEvents, focusElement)=>{\n    const { foregroundId, prependToStack, setForegroundId, stackOrder = [] } = (0,contexts_session__WEBPACK_IMPORTED_MODULE_2__.useSession)();\n    const { processes: { [id]: process } } = (0,contexts_process__WEBPACK_IMPORTED_MODULE_1__.useProcesses)();\n    const { closing = false, componentWindow = focusElement, minimized = false, taskbarEntry, url } = process || {};\n    const zIndex = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useFocusable.useMemo[zIndex]\": ()=>stackOrder.length + (minimized ? 1 : -stackOrder.indexOf(id)) + 1\n    }[\"useFocusable.useMemo[zIndex]\"], [\n        id,\n        minimized,\n        stackOrder\n    ]);\n    const onBlurCapture = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useFocusable.useCallback[onBlurCapture]\": (event)=>{\n            const { relatedTarget } = event;\n            const focusedElement = relatedTarget;\n            const focusedOnTaskbarEntry = relatedTarget === taskbarEntry;\n            const focusedOnTaskbarPeek = focusedElement && taskbarEntry?.previousSibling?.contains(focusedElement);\n            const focusedOnInsideWindow = focusedElement && componentWindow?.contains(focusedElement);\n            setForegroundId({\n                \"useFocusable.useCallback[onBlurCapture]\": (currentForegroundId)=>{\n                    if (currentForegroundId === id && !focusedOnTaskbarEntry && !focusedOnInsideWindow) {\n                        if (focusedOnTaskbarPeek) {\n                            componentWindow?.focus(utils_constants__WEBPACK_IMPORTED_MODULE_3__.PREVENT_SCROLL);\n                        } else {\n                            callbackEvents?.onBlurCapture?.(event);\n                        }\n                        return focusedOnTaskbarPeek ? currentForegroundId : \"\";\n                    }\n                    return currentForegroundId;\n                }\n            }[\"useFocusable.useCallback[onBlurCapture]\"]);\n        }\n    }[\"useFocusable.useCallback[onBlurCapture]\"], [\n        callbackEvents,\n        componentWindow,\n        id,\n        setForegroundId,\n        taskbarEntry\n    ]);\n    const moveToFront = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useFocusable.useCallback[moveToFront]\": (event)=>{\n            const { relatedTarget } = event || {};\n            if (componentWindow?.contains(document.activeElement)) {\n                prependToStack(id);\n                setForegroundId(id);\n            } else if (!relatedTarget || document.activeElement === taskbarEntry) {\n                componentWindow?.focus(utils_constants__WEBPACK_IMPORTED_MODULE_3__.PREVENT_SCROLL);\n                callbackEvents?.onFocusCapture?.(event);\n            }\n        }\n    }[\"useFocusable.useCallback[moveToFront]\"], [\n        callbackEvents,\n        componentWindow,\n        id,\n        prependToStack,\n        setForegroundId,\n        taskbarEntry\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)({\n        \"useFocusable.useLayoutEffect\": ()=>{\n            if (id === foregroundId) moveToFront();\n        }\n    }[\"useFocusable.useLayoutEffect\"], [\n        foregroundId,\n        id,\n        moveToFront\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)({\n        \"useFocusable.useLayoutEffect\": ()=>{\n            if (componentWindow && !closing && !minimized) {\n                setForegroundId(id);\n            }\n        // eslint-disable-next-line react-hooks-addons/no-unused-deps\n        }\n    }[\"useFocusable.useLayoutEffect\"], [\n        closing,\n        componentWindow,\n        id,\n        minimized,\n        setForegroundId,\n        url\n    ]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useFocusable.useMemo\": ()=>({\n                onBlurCapture,\n                onClickCapture: moveToFront,\n                onFocusCapture: moveToFront,\n                zIndex,\n                ...utils_constants__WEBPACK_IMPORTED_MODULE_3__.FOCUSABLE_ELEMENT\n            })\n    }[\"useFocusable.useMemo\"], [\n        moveToFront,\n        onBlurCapture,\n        zIndex\n    ]);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useFocusable);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvc3lzdGVtL1dpbmRvdy91c2VGb2N1c2FibGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQThEO0FBQ2Q7QUFDRjtBQUNzQjtBQWFwRSxNQUFNTyxlQUFlLENBQ25CQyxJQUNBQyxnQkFDQUM7SUFFQSxNQUFNLEVBQ0pDLFlBQVksRUFDWkMsY0FBYyxFQUNkQyxlQUFlLEVBQ2ZDLGFBQWEsRUFBRSxFQUNoQixHQUFHViw0REFBVUE7SUFDZCxNQUFNLEVBQ0pXLFdBQVcsRUFBRSxDQUFDUCxHQUFHLEVBQUVRLE9BQU8sRUFBRSxFQUM3QixHQUFHYiw4REFBWUE7SUFDaEIsTUFBTSxFQUNKYyxVQUFVLEtBQUssRUFDZkMsa0JBQWtCUixZQUFZLEVBQzlCUyxZQUFZLEtBQUssRUFDakJDLFlBQVksRUFDWkMsR0FBRyxFQUNKLEdBQUdMLFdBQVcsQ0FBQztJQUNoQixNQUFNTSxTQUFTcEIsOENBQU9BO3dDQUNwQixJQUFNWSxXQUFXUyxNQUFNLEdBQUlKLENBQUFBLFlBQVksSUFBSSxDQUFDTCxXQUFXVSxPQUFPLENBQUNoQixHQUFFLElBQUs7dUNBQ3RFO1FBQUNBO1FBQUlXO1FBQVdMO0tBQVc7SUFFN0IsTUFBTVcsZ0JBQXNEekIsa0RBQVdBO21EQUNyRSxDQUFDMEI7WUFDQyxNQUFNLEVBQUVDLGFBQWEsRUFBRSxHQUFHRDtZQUMxQixNQUFNRSxpQkFBaUJEO1lBQ3ZCLE1BQU1FLHdCQUNKLGtCQUFtQ1Q7WUFDckMsTUFBTVUsdUJBQ0pGLGtCQUNBUixjQUFjVyxpQkFBaUJDLFNBQVNKO1lBQzFDLE1BQU1LLHdCQUNKTCxrQkFBa0JWLGlCQUFpQmMsU0FBU0o7WUFFOUNmOzJEQUFnQixDQUFDcUI7b0JBQ2YsSUFDRUEsd0JBQXdCMUIsTUFDeEIsQ0FBQ3FCLHlCQUNELENBQUNJLHVCQUNEO3dCQUNBLElBQUlILHNCQUFzQjs0QkFDeEJaLGlCQUFpQmlCLE1BQU03QiwyREFBY0E7d0JBQ3ZDLE9BQU87NEJBQ0xHLGdCQUFnQmdCLGdCQUFnQkM7d0JBQ2xDO3dCQUVBLE9BQU9JLHVCQUF1Qkksc0JBQXNCO29CQUN0RDtvQkFFQSxPQUFPQTtnQkFDVDs7UUFDRjtrREFDQTtRQUFDekI7UUFBZ0JTO1FBQWlCVjtRQUFJSztRQUFpQk87S0FBYTtJQUV0RSxNQUFNZ0IsY0FBY3BDLGtEQUFXQTtpREFDN0IsQ0FBQzBCO1lBQ0MsTUFBTSxFQUFFQyxhQUFhLEVBQUUsR0FBR0QsU0FBUyxDQUFDO1lBRXBDLElBQUlSLGlCQUFpQmMsU0FBU0ssU0FBU0MsYUFBYSxHQUFHO2dCQUNyRDFCLGVBQWVKO2dCQUNmSyxnQkFBZ0JMO1lBQ2xCLE9BQU8sSUFDTCxDQUFDbUIsaUJBQ0QsU0FBVVcsYUFBYSxLQUFxQmxCLGNBQzVDO2dCQUNBRixpQkFBaUJpQixNQUFNN0IsMkRBQWNBO2dCQUNyQ0csZ0JBQWdCOEIsaUJBQ2RiO1lBRUo7UUFDRjtnREFDQTtRQUNFakI7UUFDQVM7UUFDQVY7UUFDQUk7UUFDQUM7UUFDQU87S0FDRDtJQUdIbkIsc0RBQWVBO3dDQUFDO1lBQ2QsSUFBSU8sT0FBT0csY0FBY3lCO1FBQzNCO3VDQUFHO1FBQUN6QjtRQUFjSDtRQUFJNEI7S0FBWTtJQUVsQ25DLHNEQUFlQTt3Q0FBQztZQUNkLElBQUlpQixtQkFBbUIsQ0FBQ0QsV0FBVyxDQUFDRSxXQUFXO2dCQUM3Q04sZ0JBQWdCTDtZQUNsQjtRQUNBLDZEQUE2RDtRQUMvRDt1Q0FBRztRQUFDUztRQUFTQztRQUFpQlY7UUFBSVc7UUFBV047UUFBaUJRO0tBQUk7SUFFbEUsT0FBT25CLDhDQUFPQTtnQ0FDWixJQUFPO2dCQUNMdUI7Z0JBQ0FlLGdCQUFnQko7Z0JBQ2hCRyxnQkFBZ0JIO2dCQUNoQmQ7Z0JBQ0EsR0FBR2pCLDhEQUFpQjtZQUN0QjsrQkFDQTtRQUFDK0I7UUFBYVg7UUFBZUg7S0FBTztBQUV4QztBQUVBLGlFQUFlZixZQUFZQSxFQUFDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFVzZXJcXERvY3VtZW50c1xcU2l0ZXNcXFNpdGVzXFxlbSBkZXNlbnZvbHZpbWVudG9cXFBvcnRmb2xpbzJcXGNvbXBvbmVudHNcXHN5c3RlbVxcV2luZG93XFx1c2VGb2N1c2FibGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUxheW91dEVmZmVjdCwgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VQcm9jZXNzZXMgfSBmcm9tIFwiY29udGV4dHMvcHJvY2Vzc1wiO1xyXG5pbXBvcnQgeyB1c2VTZXNzaW9uIH0gZnJvbSBcImNvbnRleHRzL3Nlc3Npb25cIjtcclxuaW1wb3J0IHsgRk9DVVNBQkxFX0VMRU1FTlQsIFBSRVZFTlRfU0NST0xMIH0gZnJvbSBcInV0aWxzL2NvbnN0YW50c1wiO1xyXG5cclxudHlwZSBFdmVudHMgPSB7XHJcbiAgb25CbHVyQ2FwdHVyZTogKGV2ZW50OiBSZWFjdC5Gb2N1c0V2ZW50PEhUTUxFbGVtZW50PikgPT4gdm9pZDtcclxuICBvbkNsaWNrQ2FwdHVyZTogKGV2ZW50PzogUmVhY3QuTW91c2VFdmVudDxIVE1MRWxlbWVudD4pID0+IHZvaWQ7XHJcbiAgb25Gb2N1c0NhcHR1cmU6IChldmVudD86IFJlYWN0LkZvY3VzRXZlbnQ8SFRNTEVsZW1lbnQ+KSA9PiB2b2lkO1xyXG59O1xyXG5cclxudHlwZSBGb2N1c2FibGUgPSBFdmVudHMgJlxyXG4gIHR5cGVvZiBGT0NVU0FCTEVfRUxFTUVOVCAmIHtcclxuICAgIHpJbmRleDogbnVtYmVyO1xyXG4gIH07XHJcblxyXG5jb25zdCB1c2VGb2N1c2FibGUgPSAoXHJcbiAgaWQ6IHN0cmluZyxcclxuICBjYWxsYmFja0V2ZW50cz86IFBhcnRpYWw8RXZlbnRzPixcclxuICBmb2N1c0VsZW1lbnQ/OiBIVE1MRWxlbWVudCB8IG51bGxcclxuKTogRm9jdXNhYmxlID0+IHtcclxuICBjb25zdCB7XHJcbiAgICBmb3JlZ3JvdW5kSWQsXHJcbiAgICBwcmVwZW5kVG9TdGFjayxcclxuICAgIHNldEZvcmVncm91bmRJZCxcclxuICAgIHN0YWNrT3JkZXIgPSBbXSxcclxuICB9ID0gdXNlU2Vzc2lvbigpO1xyXG4gIGNvbnN0IHtcclxuICAgIHByb2Nlc3NlczogeyBbaWRdOiBwcm9jZXNzIH0sXHJcbiAgfSA9IHVzZVByb2Nlc3NlcygpO1xyXG4gIGNvbnN0IHtcclxuICAgIGNsb3NpbmcgPSBmYWxzZSxcclxuICAgIGNvbXBvbmVudFdpbmRvdyA9IGZvY3VzRWxlbWVudCxcclxuICAgIG1pbmltaXplZCA9IGZhbHNlLFxyXG4gICAgdGFza2JhckVudHJ5LFxyXG4gICAgdXJsLFxyXG4gIH0gPSBwcm9jZXNzIHx8IHt9O1xyXG4gIGNvbnN0IHpJbmRleCA9IHVzZU1lbW8oXHJcbiAgICAoKSA9PiBzdGFja09yZGVyLmxlbmd0aCArIChtaW5pbWl6ZWQgPyAxIDogLXN0YWNrT3JkZXIuaW5kZXhPZihpZCkpICsgMSxcclxuICAgIFtpZCwgbWluaW1pemVkLCBzdGFja09yZGVyXVxyXG4gICk7XHJcbiAgY29uc3Qgb25CbHVyQ2FwdHVyZTogUmVhY3QuRm9jdXNFdmVudEhhbmRsZXI8SFRNTEVsZW1lbnQ+ID0gdXNlQ2FsbGJhY2soXHJcbiAgICAoZXZlbnQpID0+IHtcclxuICAgICAgY29uc3QgeyByZWxhdGVkVGFyZ2V0IH0gPSBldmVudDtcclxuICAgICAgY29uc3QgZm9jdXNlZEVsZW1lbnQgPSByZWxhdGVkVGFyZ2V0IGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcclxuICAgICAgY29uc3QgZm9jdXNlZE9uVGFza2JhckVudHJ5ID1cclxuICAgICAgICAocmVsYXRlZFRhcmdldCBhcyBIVE1MRWxlbWVudCkgPT09IHRhc2tiYXJFbnRyeTtcclxuICAgICAgY29uc3QgZm9jdXNlZE9uVGFza2JhclBlZWsgPVxyXG4gICAgICAgIGZvY3VzZWRFbGVtZW50ICYmXHJcbiAgICAgICAgdGFza2JhckVudHJ5Py5wcmV2aW91c1NpYmxpbmc/LmNvbnRhaW5zKGZvY3VzZWRFbGVtZW50KTtcclxuICAgICAgY29uc3QgZm9jdXNlZE9uSW5zaWRlV2luZG93ID1cclxuICAgICAgICBmb2N1c2VkRWxlbWVudCAmJiBjb21wb25lbnRXaW5kb3c/LmNvbnRhaW5zKGZvY3VzZWRFbGVtZW50KTtcclxuXHJcbiAgICAgIHNldEZvcmVncm91bmRJZCgoY3VycmVudEZvcmVncm91bmRJZCkgPT4ge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIGN1cnJlbnRGb3JlZ3JvdW5kSWQgPT09IGlkICYmXHJcbiAgICAgICAgICAhZm9jdXNlZE9uVGFza2JhckVudHJ5ICYmXHJcbiAgICAgICAgICAhZm9jdXNlZE9uSW5zaWRlV2luZG93XHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBpZiAoZm9jdXNlZE9uVGFza2JhclBlZWspIHtcclxuICAgICAgICAgICAgY29tcG9uZW50V2luZG93Py5mb2N1cyhQUkVWRU5UX1NDUk9MTCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYWxsYmFja0V2ZW50cz8ub25CbHVyQ2FwdHVyZT8uKGV2ZW50KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4gZm9jdXNlZE9uVGFza2JhclBlZWsgPyBjdXJyZW50Rm9yZWdyb3VuZElkIDogXCJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjdXJyZW50Rm9yZWdyb3VuZElkO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBbY2FsbGJhY2tFdmVudHMsIGNvbXBvbmVudFdpbmRvdywgaWQsIHNldEZvcmVncm91bmRJZCwgdGFza2JhckVudHJ5XVxyXG4gICk7XHJcbiAgY29uc3QgbW92ZVRvRnJvbnQgPSB1c2VDYWxsYmFjayhcclxuICAgIChldmVudD86IFJlYWN0LkZvY3VzRXZlbnQ8SFRNTEVsZW1lbnQ+IHwgUmVhY3QuTW91c2VFdmVudDxIVE1MRWxlbWVudD4pID0+IHtcclxuICAgICAgY29uc3QgeyByZWxhdGVkVGFyZ2V0IH0gPSBldmVudCB8fCB7fTtcclxuXHJcbiAgICAgIGlmIChjb21wb25lbnRXaW5kb3c/LmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB7XHJcbiAgICAgICAgcHJlcGVuZFRvU3RhY2soaWQpO1xyXG4gICAgICAgIHNldEZvcmVncm91bmRJZChpZCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgIXJlbGF0ZWRUYXJnZXQgfHxcclxuICAgICAgICAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudCkgPT09IHRhc2tiYXJFbnRyeVxyXG4gICAgICApIHtcclxuICAgICAgICBjb21wb25lbnRXaW5kb3c/LmZvY3VzKFBSRVZFTlRfU0NST0xMKTtcclxuICAgICAgICBjYWxsYmFja0V2ZW50cz8ub25Gb2N1c0NhcHR1cmU/LihcclxuICAgICAgICAgIGV2ZW50IGFzIFJlYWN0LkZvY3VzRXZlbnQ8SFRNTEVsZW1lbnQ+XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIFtcclxuICAgICAgY2FsbGJhY2tFdmVudHMsXHJcbiAgICAgIGNvbXBvbmVudFdpbmRvdyxcclxuICAgICAgaWQsXHJcbiAgICAgIHByZXBlbmRUb1N0YWNrLFxyXG4gICAgICBzZXRGb3JlZ3JvdW5kSWQsXHJcbiAgICAgIHRhc2tiYXJFbnRyeSxcclxuICAgIF1cclxuICApO1xyXG5cclxuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGlkID09PSBmb3JlZ3JvdW5kSWQpIG1vdmVUb0Zyb250KCk7XHJcbiAgfSwgW2ZvcmVncm91bmRJZCwgaWQsIG1vdmVUb0Zyb250XSk7XHJcblxyXG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoY29tcG9uZW50V2luZG93ICYmICFjbG9zaW5nICYmICFtaW5pbWl6ZWQpIHtcclxuICAgICAgc2V0Rm9yZWdyb3VuZElkKGlkKTtcclxuICAgIH1cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy1hZGRvbnMvbm8tdW51c2VkLWRlcHNcclxuICB9LCBbY2xvc2luZywgY29tcG9uZW50V2luZG93LCBpZCwgbWluaW1pemVkLCBzZXRGb3JlZ3JvdW5kSWQsIHVybF0pO1xyXG5cclxuICByZXR1cm4gdXNlTWVtbyhcclxuICAgICgpID0+ICh7XHJcbiAgICAgIG9uQmx1ckNhcHR1cmUsXHJcbiAgICAgIG9uQ2xpY2tDYXB0dXJlOiBtb3ZlVG9Gcm9udCxcclxuICAgICAgb25Gb2N1c0NhcHR1cmU6IG1vdmVUb0Zyb250LFxyXG4gICAgICB6SW5kZXgsXHJcbiAgICAgIC4uLkZPQ1VTQUJMRV9FTEVNRU5ULFxyXG4gICAgfSksXHJcbiAgICBbbW92ZVRvRnJvbnQsIG9uQmx1ckNhcHR1cmUsIHpJbmRleF1cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlRm9jdXNhYmxlO1xyXG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VMYXlvdXRFZmZlY3QiLCJ1c2VNZW1vIiwidXNlUHJvY2Vzc2VzIiwidXNlU2Vzc2lvbiIsIkZPQ1VTQUJMRV9FTEVNRU5UIiwiUFJFVkVOVF9TQ1JPTEwiLCJ1c2VGb2N1c2FibGUiLCJpZCIsImNhbGxiYWNrRXZlbnRzIiwiZm9jdXNFbGVtZW50IiwiZm9yZWdyb3VuZElkIiwicHJlcGVuZFRvU3RhY2siLCJzZXRGb3JlZ3JvdW5kSWQiLCJzdGFja09yZGVyIiwicHJvY2Vzc2VzIiwicHJvY2VzcyIsImNsb3NpbmciLCJjb21wb25lbnRXaW5kb3ciLCJtaW5pbWl6ZWQiLCJ0YXNrYmFyRW50cnkiLCJ1cmwiLCJ6SW5kZXgiLCJsZW5ndGgiLCJpbmRleE9mIiwib25CbHVyQ2FwdHVyZSIsImV2ZW50IiwicmVsYXRlZFRhcmdldCIsImZvY3VzZWRFbGVtZW50IiwiZm9jdXNlZE9uVGFza2JhckVudHJ5IiwiZm9jdXNlZE9uVGFza2JhclBlZWsiLCJwcmV2aW91c1NpYmxpbmciLCJjb250YWlucyIsImZvY3VzZWRPbkluc2lkZVdpbmRvdyIsImN1cnJlbnRGb3JlZ3JvdW5kSWQiLCJmb2N1cyIsIm1vdmVUb0Zyb250IiwiZG9jdW1lbnQiLCJhY3RpdmVFbGVtZW50Iiwib25Gb2N1c0NhcHR1cmUiLCJvbkNsaWNrQ2FwdHVyZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/system/Window/useFocusable.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./components/system/Window/useNextFocusable.ts":
/*!******************************************************!*\
  !*** ./components/system/Window/useNextFocusable.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var contexts_process__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! contexts/process */ \"(pages-dir-node)/./contexts/process/index.ts\");\n/* harmony import */ var contexts_session__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! contexts/session */ \"(pages-dir-node)/./contexts/session/index.ts\");\n\n\n\nconst useNextFocusable = (id)=>{\n    const { stackOrder = [] } = (0,contexts_session__WEBPACK_IMPORTED_MODULE_2__.useSession)();\n    const { processes } = (0,contexts_process__WEBPACK_IMPORTED_MODULE_1__.useProcesses)();\n    const nextFocusableId = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useNextFocusable.useMemo[nextFocusableId]\": ()=>stackOrder.find({\n                \"useNextFocusable.useMemo[nextFocusableId]\": (stackId)=>stackId !== id && !processes?.[stackId]?.minimized\n            }[\"useNextFocusable.useMemo[nextFocusableId]\"])\n    }[\"useNextFocusable.useMemo[nextFocusableId]\"], [\n        id,\n        processes,\n        stackOrder\n    ]);\n    return nextFocusableId || \"\";\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useNextFocusable);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvc3lzdGVtL1dpbmRvdy91c2VOZXh0Rm9jdXNhYmxlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWdDO0FBQ2dCO0FBQ0Y7QUFFOUMsTUFBTUcsbUJBQW1CLENBQUNDO0lBQ3hCLE1BQU0sRUFBRUMsYUFBYSxFQUFFLEVBQUUsR0FBR0gsNERBQVVBO0lBQ3RDLE1BQU0sRUFBRUksU0FBUyxFQUFFLEdBQUdMLDhEQUFZQTtJQUNsQyxNQUFNTSxrQkFBa0JQLDhDQUFPQTtxREFDN0IsSUFDRUssV0FBV0csSUFBSTs2REFDYixDQUFDQyxVQUFZQSxZQUFZTCxNQUFNLENBQUNFLFdBQVcsQ0FBQ0csUUFBUSxFQUFFQzs7b0RBRTFEO1FBQUNOO1FBQUlFO1FBQVdEO0tBQVc7SUFHN0IsT0FBT0UsbUJBQW1CO0FBQzVCO0FBRUEsaUVBQWVKLGdCQUFnQkEsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxVc2VyXFxEb2N1bWVudHNcXFNpdGVzXFxTaXRlc1xcZW0gZGVzZW52b2x2aW1lbnRvXFxQb3J0Zm9saW8yXFxjb21wb25lbnRzXFxzeXN0ZW1cXFdpbmRvd1xcdXNlTmV4dEZvY3VzYWJsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IHVzZVByb2Nlc3NlcyB9IGZyb20gXCJjb250ZXh0cy9wcm9jZXNzXCI7XHJcbmltcG9ydCB7IHVzZVNlc3Npb24gfSBmcm9tIFwiY29udGV4dHMvc2Vzc2lvblwiO1xyXG5cclxuY29uc3QgdXNlTmV4dEZvY3VzYWJsZSA9IChpZDogc3RyaW5nKTogc3RyaW5nID0+IHtcclxuICBjb25zdCB7IHN0YWNrT3JkZXIgPSBbXSB9ID0gdXNlU2Vzc2lvbigpO1xyXG4gIGNvbnN0IHsgcHJvY2Vzc2VzIH0gPSB1c2VQcm9jZXNzZXMoKTtcclxuICBjb25zdCBuZXh0Rm9jdXNhYmxlSWQgPSB1c2VNZW1vKFxyXG4gICAgKCkgPT5cclxuICAgICAgc3RhY2tPcmRlci5maW5kKFxyXG4gICAgICAgIChzdGFja0lkKSA9PiBzdGFja0lkICE9PSBpZCAmJiAhcHJvY2Vzc2VzPy5bc3RhY2tJZF0/Lm1pbmltaXplZFxyXG4gICAgICApLFxyXG4gICAgW2lkLCBwcm9jZXNzZXMsIHN0YWNrT3JkZXJdXHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIG5leHRGb2N1c2FibGVJZCB8fCBcIlwiO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlTmV4dEZvY3VzYWJsZTtcclxuIl0sIm5hbWVzIjpbInVzZU1lbW8iLCJ1c2VQcm9jZXNzZXMiLCJ1c2VTZXNzaW9uIiwidXNlTmV4dEZvY3VzYWJsZSIsImlkIiwic3RhY2tPcmRlciIsInByb2Nlc3NlcyIsIm5leHRGb2N1c2FibGVJZCIsImZpbmQiLCJzdGFja0lkIiwibWluaW1pemVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/system/Window/useNextFocusable.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./components/system/Window/useWindowTransitions.ts":
/*!**********************************************************!*\
  !*** ./components/system/Window/useWindowTransitions.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var contexts_process__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! contexts/process */ \"(pages-dir-node)/./contexts/process/index.ts\");\n/* harmony import */ var utils_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! utils/constants */ \"(pages-dir-node)/./utils/constants.ts\");\n/* harmony import */ var utils_functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! utils/functions */ \"(pages-dir-node)/./utils/functions.ts\");\n\n\n\n\nconst active = {\n    height: \"inherit\",\n    opacity: 1,\n    scale: 1,\n    width: \"inherit\"\n};\nconst exit = {\n    opacity: 0,\n    scale: 0.95\n};\nconst initial = {\n    ...exit,\n    height: \"inherit\",\n    width: \"inherit\"\n};\nconst fullScaleInitial = {\n    ...initial,\n    scale: 1\n};\nconst baseMaximize = {\n    opacity: 1,\n    scale: 1\n};\nconst baseMinimize = {\n    opacity: 0,\n    scale: 0.7\n};\nconst getMaxDimensions = ()=>({\n        height: (0,utils_functions__WEBPACK_IMPORTED_MODULE_3__.viewHeight)() - utils_constants__WEBPACK_IMPORTED_MODULE_2__.TASKBAR_HEIGHT,\n        width: (0,utils_functions__WEBPACK_IMPORTED_MODULE_3__.viewWidth)()\n    });\nconst useWindowTransitions = (id, noInitialScaling = false)=>{\n    const { processes: { [id]: process } = {} } = (0,contexts_process__WEBPACK_IMPORTED_MODULE_1__.useProcesses)();\n    const { closing, componentWindow, maximized, minimized, taskbarEntry } = process || {};\n    const [maximize, setMaximize] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(Object.create(null));\n    const [minimize, setMinimize] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(Object.create(null));\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)({\n        \"useWindowTransitions.useLayoutEffect\": ()=>{\n            if (!componentWindow || closing) return;\n            const { x: windowX = 0, y: windowY = 0 } = componentWindow.getBoundingClientRect();\n            setMaximize({\n                ...baseMaximize,\n                ...getMaxDimensions(),\n                x: 0 - windowX,\n                y: 0 - windowY\n            });\n        // eslint-disable-next-line react-hooks-addons/no-unused-deps\n        }\n    }[\"useWindowTransitions.useLayoutEffect\"], [\n        closing,\n        componentWindow,\n        maximized\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)({\n        \"useWindowTransitions.useLayoutEffect\": ()=>{\n            if (!taskbarEntry || !componentWindow || closing) return;\n            const { height: taskbarHeight = 0, width: taskbarWidth = 0, x: taskbarX = 0, y: taskbarY = 0 } = taskbarEntry.getBoundingClientRect();\n            const { height: windowHeight = 0, width: windowWidth = 0, x: windowX = 0, y: windowY = 0 } = componentWindow.getBoundingClientRect();\n            const x = Math.round(taskbarX - windowX - windowWidth / 2 + taskbarWidth / 2);\n            const y = Math.round(taskbarY - windowY - windowHeight / 2 + taskbarHeight / 2);\n            if (!(x === 0 && y === 0)) {\n                setMinimize({\n                    ...baseMinimize,\n                    x,\n                    y\n                });\n            }\n        // eslint-disable-next-line react-hooks-addons/no-unused-deps\n        }\n    }[\"useWindowTransitions.useLayoutEffect\"], [\n        closing,\n        componentWindow,\n        minimized,\n        taskbarEntry\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useWindowTransitions.useEffect\": ()=>{\n            const monitorViewportResize = {\n                \"useWindowTransitions.useEffect.monitorViewportResize\": ()=>{\n                    if (maximized) {\n                        setMaximize({\n                            \"useWindowTransitions.useEffect.monitorViewportResize\": (currentMaximize)=>({\n                                    ...currentMaximize,\n                                    ...getMaxDimensions()\n                                })\n                        }[\"useWindowTransitions.useEffect.monitorViewportResize\"]);\n                    }\n                }\n            }[\"useWindowTransitions.useEffect.monitorViewportResize\"];\n            window.addEventListener(\"resize\", monitorViewportResize, {\n                passive: true\n            });\n            return ({\n                \"useWindowTransitions.useEffect\": ()=>window.removeEventListener(\"resize\", monitorViewportResize)\n            })[\"useWindowTransitions.useEffect\"];\n        }\n    }[\"useWindowTransitions.useEffect\"], [\n        maximized\n    ]);\n    return {\n        animate: (minimized ? \"minimize\" : \"\") || (!closing && maximized ? \"maximize\" : \"\") || \"active\",\n        exit: \"exit\",\n        initial: \"initial\",\n        transition: {\n            duration: utils_constants__WEBPACK_IMPORTED_MODULE_2__.TRANSITIONS_IN_SECONDS.WINDOW\n        },\n        variants: {\n            active,\n            exit,\n            initial: noInitialScaling ? fullScaleInitial : initial,\n            maximize,\n            minimize\n        }\n    };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useWindowTransitions);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvc3lzdGVtL1dpbmRvdy91c2VXaW5kb3dUcmFuc2l0aW9ucy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBNkQ7QUFFYjtBQUN5QjtBQUNqQjtBQUV4RCxNQUFNUSxTQUFTO0lBQ2JDLFFBQVE7SUFDUkMsU0FBUztJQUNUQyxPQUFPO0lBQ1BDLE9BQU87QUFDVDtBQUVBLE1BQU1DLE9BQU87SUFDWEgsU0FBUztJQUNUQyxPQUFPO0FBQ1Q7QUFFQSxNQUFNRyxVQUFVO0lBQ2QsR0FBR0QsSUFBSTtJQUNQSixRQUFRO0lBQ1JHLE9BQU87QUFDVDtBQUVBLE1BQU1HLG1CQUFtQjtJQUN2QixHQUFHRCxPQUFPO0lBQ1ZILE9BQU87QUFDVDtBQUVBLE1BQU1LLGVBQWU7SUFDbkJOLFNBQVM7SUFDVEMsT0FBTztBQUNUO0FBRUEsTUFBTU0sZUFBZTtJQUNuQlAsU0FBUztJQUNUQyxPQUFPO0FBQ1Q7QUFFQSxNQUFNTyxtQkFBbUIsSUFBZ0I7UUFDdkNULFFBQVFILDJEQUFVQSxLQUFLRiwyREFBY0E7UUFDckNRLE9BQU9MLDBEQUFTQTtJQUNsQjtBQUVBLE1BQU1ZLHVCQUF1QixDQUMzQkMsSUFDQUMsbUJBQW1CLEtBQUs7SUFFeEIsTUFBTSxFQUFFQyxXQUFXLEVBQUUsQ0FBQ0YsR0FBRyxFQUFFRyxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHcEIsOERBQVlBO0lBQzFELE1BQU0sRUFBRXFCLE9BQU8sRUFBRUMsZUFBZSxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRUMsWUFBWSxFQUFFLEdBQ3BFTCxXQUFXLENBQUM7SUFDZCxNQUFNLENBQUNNLFVBQVVDLFlBQVksR0FBRzVCLCtDQUFRQSxDQUN0QzZCLE9BQU9DLE1BQU0sQ0FBQztJQUVoQixNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR2hDLCtDQUFRQSxDQUN0QzZCLE9BQU9DLE1BQU0sQ0FBQztJQUdoQi9CLHNEQUFlQTtnREFBQztZQUNkLElBQUksQ0FBQ3dCLG1CQUFtQkQsU0FBUztZQUVqQyxNQUFNLEVBQUVXLEdBQUdDLFVBQVUsQ0FBQyxFQUFFQyxHQUFHQyxVQUFVLENBQUMsRUFBRSxHQUN0Q2IsZ0JBQWdCYyxxQkFBcUI7WUFFdkNULFlBQVk7Z0JBQ1YsR0FBR2QsWUFBWTtnQkFDZixHQUFHRSxrQkFBa0I7Z0JBQ3JCaUIsR0FBRyxJQUFJQztnQkFDUEMsR0FBRyxJQUFJQztZQUNUO1FBQ0EsNkRBQTZEO1FBQy9EOytDQUFHO1FBQUNkO1FBQVNDO1FBQWlCQztLQUFVO0lBRXhDekIsc0RBQWVBO2dEQUFDO1lBQ2QsSUFBSSxDQUFDMkIsZ0JBQWdCLENBQUNILG1CQUFtQkQsU0FBUztZQUVsRCxNQUFNLEVBQ0pmLFFBQVErQixnQkFBZ0IsQ0FBQyxFQUN6QjVCLE9BQU82QixlQUFlLENBQUMsRUFDdkJOLEdBQUdPLFdBQVcsQ0FBQyxFQUNmTCxHQUFHTSxXQUFXLENBQUMsRUFDaEIsR0FBR2YsYUFBYVcscUJBQXFCO1lBQ3RDLE1BQU0sRUFDSjlCLFFBQVFtQyxlQUFlLENBQUMsRUFDeEJoQyxPQUFPaUMsY0FBYyxDQUFDLEVBQ3RCVixHQUFHQyxVQUFVLENBQUMsRUFDZEMsR0FBR0MsVUFBVSxDQUFDLEVBQ2YsR0FBR2IsZ0JBQWdCYyxxQkFBcUI7WUFFekMsTUFBTUosSUFBSVcsS0FBS0MsS0FBSyxDQUNsQkwsV0FBV04sVUFBVVMsY0FBYyxJQUFJSixlQUFlO1lBRXhELE1BQU1KLElBQUlTLEtBQUtDLEtBQUssQ0FDbEJKLFdBQVdMLFVBQVVNLGVBQWUsSUFBSUosZ0JBQWdCO1lBRzFELElBQUksQ0FBRUwsQ0FBQUEsTUFBTSxLQUFLRSxNQUFNLElBQUk7Z0JBQ3pCSCxZQUFZO29CQUFFLEdBQUdqQixZQUFZO29CQUFFa0I7b0JBQUdFO2dCQUFFO1lBQ3RDO1FBQ0EsNkRBQTZEO1FBQy9EOytDQUFHO1FBQUNiO1FBQVNDO1FBQWlCRTtRQUFXQztLQUFhO0lBRXRENUIsZ0RBQVNBOzBDQUFDO1lBQ1IsTUFBTWdEO3dFQUF3QjtvQkFDNUIsSUFBSXRCLFdBQVc7d0JBQ2JJO29GQUFZLENBQUNtQixrQkFBOEI7b0NBQ3pDLEdBQUdBLGVBQWU7b0NBQ2xCLEdBQUcvQixrQkFBa0I7Z0NBQ3ZCOztvQkFDRjtnQkFDRjs7WUFFQWdDLE9BQU9DLGdCQUFnQixDQUFDLFVBQVVILHVCQUF1QjtnQkFBRUksU0FBUztZQUFLO1lBRXpFO2tEQUFPLElBQU1GLE9BQU9HLG1CQUFtQixDQUFDLFVBQVVMOztRQUNwRDt5Q0FBRztRQUFDdEI7S0FBVTtJQUVkLE9BQU87UUFDTDRCLFNBQ0UsQ0FBQzNCLFlBQVksYUFBYSxFQUFDLEtBQzFCLEVBQUNILFdBQVdFLFlBQVksYUFBYSxFQUFDLEtBQ3ZDO1FBQ0ZiLE1BQU07UUFDTkMsU0FBUztRQUNUeUMsWUFBWTtZQUNWQyxVQUFVbkQsbUVBQXNCQSxDQUFDb0QsTUFBTTtRQUN6QztRQUNBQyxVQUFVO1lBQ1JsRDtZQUNBSztZQUNBQyxTQUFTTyxtQkFBbUJOLG1CQUFtQkQ7WUFDL0NlO1lBQ0FJO1FBQ0Y7SUFDRjtBQUNGO0FBRUEsaUVBQWVkLG9CQUFvQkEsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxVc2VyXFxEb2N1bWVudHNcXFNpdGVzXFxTaXRlc1xcZW0gZGVzZW52b2x2aW1lbnRvXFxQb3J0Zm9saW8yXFxjb21wb25lbnRzXFxzeXN0ZW1cXFdpbmRvd1xcdXNlV2luZG93VHJhbnNpdGlvbnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VMYXlvdXRFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IHR5cGUgTW90aW9uUHJvcHMsIHR5cGUgVmFyaWFudCB9IGZyb20gXCJtb3Rpb24vcmVhY3RcIjtcclxuaW1wb3J0IHsgdXNlUHJvY2Vzc2VzIH0gZnJvbSBcImNvbnRleHRzL3Byb2Nlc3NcIjtcclxuaW1wb3J0IHsgVEFTS0JBUl9IRUlHSFQsIFRSQU5TSVRJT05TX0lOX1NFQ09ORFMgfSBmcm9tIFwidXRpbHMvY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IHZpZXdIZWlnaHQsIHZpZXdXaWR0aCB9IGZyb20gXCJ1dGlscy9mdW5jdGlvbnNcIjtcclxuXHJcbmNvbnN0IGFjdGl2ZSA9IHtcclxuICBoZWlnaHQ6IFwiaW5oZXJpdFwiLFxyXG4gIG9wYWNpdHk6IDEsXHJcbiAgc2NhbGU6IDEsXHJcbiAgd2lkdGg6IFwiaW5oZXJpdFwiLFxyXG59O1xyXG5cclxuY29uc3QgZXhpdCA9IHtcclxuICBvcGFjaXR5OiAwLFxyXG4gIHNjYWxlOiAwLjk1LFxyXG59O1xyXG5cclxuY29uc3QgaW5pdGlhbCA9IHtcclxuICAuLi5leGl0LFxyXG4gIGhlaWdodDogXCJpbmhlcml0XCIsXHJcbiAgd2lkdGg6IFwiaW5oZXJpdFwiLFxyXG59O1xyXG5cclxuY29uc3QgZnVsbFNjYWxlSW5pdGlhbCA9IHtcclxuICAuLi5pbml0aWFsLFxyXG4gIHNjYWxlOiAxLFxyXG59O1xyXG5cclxuY29uc3QgYmFzZU1heGltaXplID0ge1xyXG4gIG9wYWNpdHk6IDEsXHJcbiAgc2NhbGU6IDEsXHJcbn07XHJcblxyXG5jb25zdCBiYXNlTWluaW1pemUgPSB7XHJcbiAgb3BhY2l0eTogMCxcclxuICBzY2FsZTogMC43LFxyXG59O1xyXG5cclxuY29uc3QgZ2V0TWF4RGltZW5zaW9ucyA9ICgpOiBWYXJpYW50ID0+ICh7XHJcbiAgaGVpZ2h0OiB2aWV3SGVpZ2h0KCkgLSBUQVNLQkFSX0hFSUdIVCxcclxuICB3aWR0aDogdmlld1dpZHRoKCksXHJcbn0pO1xyXG5cclxuY29uc3QgdXNlV2luZG93VHJhbnNpdGlvbnMgPSAoXHJcbiAgaWQ6IHN0cmluZyxcclxuICBub0luaXRpYWxTY2FsaW5nID0gZmFsc2VcclxuKTogTW90aW9uUHJvcHMgPT4ge1xyXG4gIGNvbnN0IHsgcHJvY2Vzc2VzOiB7IFtpZF06IHByb2Nlc3MgfSA9IHt9IH0gPSB1c2VQcm9jZXNzZXMoKTtcclxuICBjb25zdCB7IGNsb3NpbmcsIGNvbXBvbmVudFdpbmRvdywgbWF4aW1pemVkLCBtaW5pbWl6ZWQsIHRhc2tiYXJFbnRyeSB9ID1cclxuICAgIHByb2Nlc3MgfHwge307XHJcbiAgY29uc3QgW21heGltaXplLCBzZXRNYXhpbWl6ZV0gPSB1c2VTdGF0ZTxWYXJpYW50PihcclxuICAgIE9iamVjdC5jcmVhdGUobnVsbCkgYXMgVmFyaWFudFxyXG4gICk7XHJcbiAgY29uc3QgW21pbmltaXplLCBzZXRNaW5pbWl6ZV0gPSB1c2VTdGF0ZTxWYXJpYW50PihcclxuICAgIE9iamVjdC5jcmVhdGUobnVsbCkgYXMgVmFyaWFudFxyXG4gICk7XHJcblxyXG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWNvbXBvbmVudFdpbmRvdyB8fCBjbG9zaW5nKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgeyB4OiB3aW5kb3dYID0gMCwgeTogd2luZG93WSA9IDAgfSA9XHJcbiAgICAgIGNvbXBvbmVudFdpbmRvdy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICBzZXRNYXhpbWl6ZSh7XHJcbiAgICAgIC4uLmJhc2VNYXhpbWl6ZSxcclxuICAgICAgLi4uZ2V0TWF4RGltZW5zaW9ucygpLFxyXG4gICAgICB4OiAwIC0gd2luZG93WCxcclxuICAgICAgeTogMCAtIHdpbmRvd1ksXHJcbiAgICB9KTtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy1hZGRvbnMvbm8tdW51c2VkLWRlcHNcclxuICB9LCBbY2xvc2luZywgY29tcG9uZW50V2luZG93LCBtYXhpbWl6ZWRdKTtcclxuXHJcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghdGFza2JhckVudHJ5IHx8ICFjb21wb25lbnRXaW5kb3cgfHwgY2xvc2luZykgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IHtcclxuICAgICAgaGVpZ2h0OiB0YXNrYmFySGVpZ2h0ID0gMCxcclxuICAgICAgd2lkdGg6IHRhc2tiYXJXaWR0aCA9IDAsXHJcbiAgICAgIHg6IHRhc2tiYXJYID0gMCxcclxuICAgICAgeTogdGFza2JhclkgPSAwLFxyXG4gICAgfSA9IHRhc2tiYXJFbnRyeS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGNvbnN0IHtcclxuICAgICAgaGVpZ2h0OiB3aW5kb3dIZWlnaHQgPSAwLFxyXG4gICAgICB3aWR0aDogd2luZG93V2lkdGggPSAwLFxyXG4gICAgICB4OiB3aW5kb3dYID0gMCxcclxuICAgICAgeTogd2luZG93WSA9IDAsXHJcbiAgICB9ID0gY29tcG9uZW50V2luZG93LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgIGNvbnN0IHggPSBNYXRoLnJvdW5kKFxyXG4gICAgICB0YXNrYmFyWCAtIHdpbmRvd1ggLSB3aW5kb3dXaWR0aCAvIDIgKyB0YXNrYmFyV2lkdGggLyAyXHJcbiAgICApO1xyXG4gICAgY29uc3QgeSA9IE1hdGgucm91bmQoXHJcbiAgICAgIHRhc2tiYXJZIC0gd2luZG93WSAtIHdpbmRvd0hlaWdodCAvIDIgKyB0YXNrYmFySGVpZ2h0IC8gMlxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoISh4ID09PSAwICYmIHkgPT09IDApKSB7XHJcbiAgICAgIHNldE1pbmltaXplKHsgLi4uYmFzZU1pbmltaXplLCB4LCB5IH0pO1xyXG4gICAgfVxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzLWFkZG9ucy9uby11bnVzZWQtZGVwc1xyXG4gIH0sIFtjbG9zaW5nLCBjb21wb25lbnRXaW5kb3csIG1pbmltaXplZCwgdGFza2JhckVudHJ5XSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBtb25pdG9yVmlld3BvcnRSZXNpemUgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgIGlmIChtYXhpbWl6ZWQpIHtcclxuICAgICAgICBzZXRNYXhpbWl6ZSgoY3VycmVudE1heGltaXplOiBWYXJpYW50KSA9PiAoe1xyXG4gICAgICAgICAgLi4uY3VycmVudE1heGltaXplLFxyXG4gICAgICAgICAgLi4uZ2V0TWF4RGltZW5zaW9ucygpLFxyXG4gICAgICAgIH0pKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBtb25pdG9yVmlld3BvcnRSZXNpemUsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgbW9uaXRvclZpZXdwb3J0UmVzaXplKTtcclxuICB9LCBbbWF4aW1pemVkXSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBhbmltYXRlOlxyXG4gICAgICAobWluaW1pemVkID8gXCJtaW5pbWl6ZVwiIDogXCJcIikgfHxcclxuICAgICAgKCFjbG9zaW5nICYmIG1heGltaXplZCA/IFwibWF4aW1pemVcIiA6IFwiXCIpIHx8XHJcbiAgICAgIFwiYWN0aXZlXCIsXHJcbiAgICBleGl0OiBcImV4aXRcIixcclxuICAgIGluaXRpYWw6IFwiaW5pdGlhbFwiLFxyXG4gICAgdHJhbnNpdGlvbjoge1xyXG4gICAgICBkdXJhdGlvbjogVFJBTlNJVElPTlNfSU5fU0VDT05EUy5XSU5ET1csXHJcbiAgICB9LFxyXG4gICAgdmFyaWFudHM6IHtcclxuICAgICAgYWN0aXZlLFxyXG4gICAgICBleGl0LFxyXG4gICAgICBpbml0aWFsOiBub0luaXRpYWxTY2FsaW5nID8gZnVsbFNjYWxlSW5pdGlhbCA6IGluaXRpYWwsXHJcbiAgICAgIG1heGltaXplLFxyXG4gICAgICBtaW5pbWl6ZSxcclxuICAgIH0sXHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZVdpbmRvd1RyYW5zaXRpb25zO1xyXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlTGF5b3V0RWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VQcm9jZXNzZXMiLCJUQVNLQkFSX0hFSUdIVCIsIlRSQU5TSVRJT05TX0lOX1NFQ09ORFMiLCJ2aWV3SGVpZ2h0Iiwidmlld1dpZHRoIiwiYWN0aXZlIiwiaGVpZ2h0Iiwib3BhY2l0eSIsInNjYWxlIiwid2lkdGgiLCJleGl0IiwiaW5pdGlhbCIsImZ1bGxTY2FsZUluaXRpYWwiLCJiYXNlTWF4aW1pemUiLCJiYXNlTWluaW1pemUiLCJnZXRNYXhEaW1lbnNpb25zIiwidXNlV2luZG93VHJhbnNpdGlvbnMiLCJpZCIsIm5vSW5pdGlhbFNjYWxpbmciLCJwcm9jZXNzZXMiLCJwcm9jZXNzIiwiY2xvc2luZyIsImNvbXBvbmVudFdpbmRvdyIsIm1heGltaXplZCIsIm1pbmltaXplZCIsInRhc2tiYXJFbnRyeSIsIm1heGltaXplIiwic2V0TWF4aW1pemUiLCJPYmplY3QiLCJjcmVhdGUiLCJtaW5pbWl6ZSIsInNldE1pbmltaXplIiwieCIsIndpbmRvd1giLCJ5Iiwid2luZG93WSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRhc2tiYXJIZWlnaHQiLCJ0YXNrYmFyV2lkdGgiLCJ0YXNrYmFyWCIsInRhc2tiYXJZIiwid2luZG93SGVpZ2h0Iiwid2luZG93V2lkdGgiLCJNYXRoIiwicm91bmQiLCJtb25pdG9yVmlld3BvcnRSZXNpemUiLCJjdXJyZW50TWF4aW1pemUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicGFzc2l2ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhbmltYXRlIiwidHJhbnNpdGlvbiIsImR1cmF0aW9uIiwiV0lORE9XIiwidmFyaWFudHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/system/Window/useWindowTransitions.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./hooks/useSnapshots.ts":
/*!*******************************!*\
  !*** ./hooks/useSnapshots.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSnapshots: () => (/* binding */ useSnapshots)\n/* harmony export */ });\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var contexts_fileSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! contexts/fileSystem */ \"(pages-dir-node)/./contexts/fileSystem/index.ts\");\n/* harmony import */ var utils_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! utils/constants */ \"(pages-dir-node)/./utils/constants.ts\");\n\n\n\n\nconst useSnapshots = ()=>{\n    const { createPath, updateFolder } = (0,contexts_fileSystem__WEBPACK_IMPORTED_MODULE_2__.useFileSystem)();\n    return {\n        createSnapshot: (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n            \"useSnapshots.useCallback\": async (name, data, icon, overwrite = true, savePath = utils_constants__WEBPACK_IMPORTED_MODULE_3__.SAVE_PATH)=>{\n                let saveName = \"\";\n                try {\n                    saveName = await createPath(name, savePath, data, undefined, overwrite);\n                    if (saveName && icon) {\n                        try {\n                            const cacheIcon = typeof icon === \"function\" ? await icon() : icon;\n                            if (cacheIcon) {\n                                await createPath(`${(0,path__WEBPACK_IMPORTED_MODULE_0__.join)(savePath, saveName)}${utils_constants__WEBPACK_IMPORTED_MODULE_3__.ICON_CACHE_EXTENSION}`, utils_constants__WEBPACK_IMPORTED_MODULE_3__.ICON_CACHE, cacheIcon, undefined, overwrite);\n                            }\n                        } catch  {\n                        // Ignore failure to save icon\n                        }\n                    }\n                    updateFolder((0,path__WEBPACK_IMPORTED_MODULE_0__.dirname)(savePath));\n                    updateFolder(savePath, saveName);\n                } catch  {\n                // Ignore failure to save snapshot\n                }\n                return saveName;\n            }\n        }[\"useSnapshots.useCallback\"], [\n            createPath,\n            updateFolder\n        ])\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2hvb2tzL3VzZVNuYXBzaG90cy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXFDO0FBQ0Q7QUFDZ0I7QUFDMEI7QUFZdkUsTUFBTU8sZUFBZTtJQUMxQixNQUFNLEVBQUVDLFVBQVUsRUFBRUMsWUFBWSxFQUFFLEdBQUdOLGtFQUFhQTtJQUVsRCxPQUFPO1FBQ0xPLGdCQUFnQlIsa0RBQVdBO3dDQUN6QixPQUFPUyxNQUFNQyxNQUFNQyxNQUFNQyxZQUFZLElBQUksRUFBRUMsV0FBV1gsc0RBQVM7Z0JBQzdELElBQUlZLFdBQVc7Z0JBRWYsSUFBSTtvQkFDRkEsV0FBVyxNQUFNUixXQUNmRyxNQUNBSSxVQUNBSCxNQUNBSyxXQUNBSDtvQkFHRixJQUFJRSxZQUFZSCxNQUFNO3dCQUNwQixJQUFJOzRCQUNGLE1BQU1LLFlBQ0osT0FBT0wsU0FBUyxhQUFhLE1BQU1BLFNBQVNBOzRCQUU5QyxJQUFJSyxXQUFXO2dDQUNiLE1BQU1WLFdBQ0osR0FBR1AsMENBQUlBLENBQUNjLFVBQVVDLFlBQVlWLGlFQUFvQkEsRUFBRSxFQUNwREQsdURBQVVBLEVBQ1ZhLFdBQ0FELFdBQ0FIOzRCQUVKO3dCQUNGLEVBQUUsT0FBTTt3QkFDTiw4QkFBOEI7d0JBQ2hDO29CQUNGO29CQUVBTCxhQUFhVCw2Q0FBT0EsQ0FBQ2U7b0JBQ3JCTixhQUFhTSxVQUFVQztnQkFDekIsRUFBRSxPQUFNO2dCQUNOLGtDQUFrQztnQkFDcEM7Z0JBRUEsT0FBT0E7WUFDVDt1Q0FDQTtZQUFDUjtZQUFZQztTQUFhO0lBRTlCO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxVc2VyXFxEb2N1bWVudHNcXFNpdGVzXFxTaXRlc1xcZW0gZGVzZW52b2x2aW1lbnRvXFxQb3J0Zm9saW8yXFxob29rc1xcdXNlU25hcHNob3RzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRpcm5hbWUsIGpvaW4gfSBmcm9tIFwicGF0aFwiO1xyXG5pbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VGaWxlU3lzdGVtIH0gZnJvbSBcImNvbnRleHRzL2ZpbGVTeXN0ZW1cIjtcclxuaW1wb3J0IHsgU0FWRV9QQVRILCBJQ09OX0NBQ0hFLCBJQ09OX0NBQ0hFX0VYVEVOU0lPTiB9IGZyb20gXCJ1dGlscy9jb25zdGFudHNcIjtcclxuXHJcbnR5cGUgU25hcHNob3QgPSB7XHJcbiAgY3JlYXRlU25hcHNob3Q6IChcclxuICAgIG5hbWU6IHN0cmluZyxcclxuICAgIGRhdGE6IEJ1ZmZlcixcclxuICAgIGljb24/OiBCdWZmZXIgfCAoKCkgPT4gUHJvbWlzZTxCdWZmZXIgfCB1bmRlZmluZWQ+KSxcclxuICAgIG92ZXJ3cml0ZT86IGJvb2xlYW4sXHJcbiAgICBzYXZlUGF0aD86IHN0cmluZ1xyXG4gICkgPT4gUHJvbWlzZTxzdHJpbmc+O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHVzZVNuYXBzaG90cyA9ICgpOiBTbmFwc2hvdCA9PiB7XHJcbiAgY29uc3QgeyBjcmVhdGVQYXRoLCB1cGRhdGVGb2xkZXIgfSA9IHVzZUZpbGVTeXN0ZW0oKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGNyZWF0ZVNuYXBzaG90OiB1c2VDYWxsYmFjayhcclxuICAgICAgYXN5bmMgKG5hbWUsIGRhdGEsIGljb24sIG92ZXJ3cml0ZSA9IHRydWUsIHNhdmVQYXRoID0gU0FWRV9QQVRIKSA9PiB7XHJcbiAgICAgICAgbGV0IHNhdmVOYW1lID0gXCJcIjtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHNhdmVOYW1lID0gYXdhaXQgY3JlYXRlUGF0aChcclxuICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICAgICAgc2F2ZVBhdGgsXHJcbiAgICAgICAgICAgIGRhdGEsXHJcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgb3ZlcndyaXRlXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIGlmIChzYXZlTmFtZSAmJiBpY29uKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgY2FjaGVJY29uID1cclxuICAgICAgICAgICAgICAgIHR5cGVvZiBpY29uID09PSBcImZ1bmN0aW9uXCIgPyBhd2FpdCBpY29uKCkgOiBpY29uO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoY2FjaGVJY29uKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBjcmVhdGVQYXRoKFxyXG4gICAgICAgICAgICAgICAgICBgJHtqb2luKHNhdmVQYXRoLCBzYXZlTmFtZSl9JHtJQ09OX0NBQ0hFX0VYVEVOU0lPTn1gLFxyXG4gICAgICAgICAgICAgICAgICBJQ09OX0NBQ0hFLFxyXG4gICAgICAgICAgICAgICAgICBjYWNoZUljb24sXHJcbiAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgb3ZlcndyaXRlXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICAgICAgLy8gSWdub3JlIGZhaWx1cmUgdG8gc2F2ZSBpY29uXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB1cGRhdGVGb2xkZXIoZGlybmFtZShzYXZlUGF0aCkpO1xyXG4gICAgICAgICAgdXBkYXRlRm9sZGVyKHNhdmVQYXRoLCBzYXZlTmFtZSk7XHJcbiAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICAvLyBJZ25vcmUgZmFpbHVyZSB0byBzYXZlIHNuYXBzaG90XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc2F2ZU5hbWU7XHJcbiAgICAgIH0sXHJcbiAgICAgIFtjcmVhdGVQYXRoLCB1cGRhdGVGb2xkZXJdXHJcbiAgICApLFxyXG4gIH07XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJkaXJuYW1lIiwiam9pbiIsInVzZUNhbGxiYWNrIiwidXNlRmlsZVN5c3RlbSIsIlNBVkVfUEFUSCIsIklDT05fQ0FDSEUiLCJJQ09OX0NBQ0hFX0VYVEVOU0lPTiIsInVzZVNuYXBzaG90cyIsImNyZWF0ZVBhdGgiLCJ1cGRhdGVGb2xkZXIiLCJjcmVhdGVTbmFwc2hvdCIsIm5hbWUiLCJkYXRhIiwiaWNvbiIsIm92ZXJ3cml0ZSIsInNhdmVQYXRoIiwic2F2ZU5hbWUiLCJ1bmRlZmluZWQiLCJjYWNoZUljb24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./hooks/useSnapshots.ts\n");

/***/ })

};
;