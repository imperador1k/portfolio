"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_pages-dir-node_utils_ffmpeg_index_ts";
exports.ids = ["_pages-dir-node_utils_ffmpeg_index_ts"];
exports.modules = {

/***/ "(pages-dir-node)/./utils/ffmpeg/index.ts":
/*!*******************************!*\
  !*** ./utils/ffmpeg/index.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFFmpeg: () => (/* binding */ getFFmpeg),\n/* harmony export */   transcode: () => (/* binding */ transcode)\n/* harmony export */ });\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var utils_functions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! utils/functions */ \"(pages-dir-node)/./utils/functions.ts\");\n\n\nconst getFFmpeg = async (printLn = console.info)=>{\n    const { FFmpeg: CreateFFmpeg } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @ffmpeg/ffmpeg */ \"@ffmpeg/ffmpeg\"));\n    const ffmpeg = new CreateFFmpeg();\n    ffmpeg.on(\"log\", ({ message })=>printLn(message));\n    await ffmpeg.load({\n        coreURL: URL.createObjectURL(await (0,utils_functions__WEBPACK_IMPORTED_MODULE_1__.fetchBlob)(\"/System/ffmpeg/ffmpeg-core.js\")),\n        wasmURL: URL.createObjectURL(await (0,utils_functions__WEBPACK_IMPORTED_MODULE_1__.fetchBlob)(\"/System/ffmpeg/ffmpeg-core.wasm\"))\n    });\n    return ffmpeg;\n};\nconst transcode = async (files, extension, printLn)=>{\n    const ffmpeg = await getFFmpeg(printLn);\n    const returnFiles = [];\n    await Promise.all(files.map(async ([fileName, fileData])=>{\n        const baseName = (0,path__WEBPACK_IMPORTED_MODULE_0__.basename)(fileName);\n        const newName = `${(0,path__WEBPACK_IMPORTED_MODULE_0__.basename)(fileName, (0,path__WEBPACK_IMPORTED_MODULE_0__.extname)(fileName))}.${extension}`;\n        await ffmpeg.writeFile(baseName, fileData);\n        await ffmpeg.exec([\n            \"-i\",\n            baseName,\n            newName\n        ]);\n        returnFiles.push([\n            (0,path__WEBPACK_IMPORTED_MODULE_0__.join)((0,path__WEBPACK_IMPORTED_MODULE_0__.dirname)(fileName), newName),\n            Buffer.from(await ffmpeg.readFile(newName))\n        ]);\n    }));\n    return returnFiles;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3V0aWxzL2ZmbXBlZy9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF3RDtBQUdaO0FBRXJDLE1BQU1LLFlBQVksT0FDdkJDLFVBQXFDQyxRQUFRQyxJQUFJO0lBRWpELE1BQU0sRUFBRUMsUUFBUUMsWUFBWSxFQUFFLEdBQUcsTUFBTSw0SEFBd0I7SUFDL0QsTUFBTUMsU0FBUyxJQUFJRDtJQUVuQkMsT0FBT0MsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFQyxPQUFPLEVBQUUsR0FBS1AsUUFBUU87SUFFMUMsTUFBTUYsT0FBT0csSUFBSSxDQUFDO1FBQ2hCQyxTQUFTQyxJQUFJQyxlQUFlLENBQzFCLE1BQU1iLDBEQUFTQSxDQUFDO1FBRWxCYyxTQUFTRixJQUFJQyxlQUFlLENBQzFCLE1BQU1iLDBEQUFTQSxDQUFDO0lBRXBCO0lBRUEsT0FBT087QUFDVCxFQUFFO0FBRUssTUFBTVEsWUFBWSxPQUN2QkMsT0FDQUMsV0FDQWY7SUFFQSxNQUFNSyxTQUFTLE1BQU1OLFVBQVVDO0lBQy9CLE1BQU1nQixjQUFxQyxFQUFFO0lBRTdDLE1BQU1DLFFBQVFDLEdBQUcsQ0FDZkosTUFBTUssR0FBRyxDQUFDLE9BQU8sQ0FBQ0MsVUFBVUMsU0FBUztRQUNuQyxNQUFNQyxXQUFXNUIsOENBQVFBLENBQUMwQjtRQUMxQixNQUFNRyxVQUFVLEdBQUc3Qiw4Q0FBUUEsQ0FBQzBCLFVBQVV4Qiw2Q0FBT0EsQ0FBQ3dCLFdBQVcsQ0FBQyxFQUFFTCxXQUFXO1FBRXZFLE1BQU1WLE9BQU9tQixTQUFTLENBQUNGLFVBQVVEO1FBQ2pDLE1BQU1oQixPQUFPb0IsSUFBSSxDQUFDO1lBQUM7WUFBTUg7WUFBVUM7U0FBUTtRQUUzQ1AsWUFBWVUsSUFBSSxDQUFDO1lBQ2Y3QiwwQ0FBSUEsQ0FBQ0YsNkNBQU9BLENBQUN5QixXQUFXRztZQUN4QkksT0FBT0MsSUFBSSxDQUFFLE1BQU12QixPQUFPd0IsUUFBUSxDQUFDTjtTQUNwQztJQUNIO0lBR0YsT0FBT1A7QUFDVCxFQUFFIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFVzZXJcXERvY3VtZW50c1xcU2l0ZXNcXFNpdGVzXFxlbSBkZXNlbnZvbHZpbWVudG9cXFBvcnRmb2xpbzJcXHV0aWxzXFxmZm1wZWdcXGluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJhc2VuYW1lLCBkaXJuYW1lLCBleHRuYW1lLCBqb2luIH0gZnJvbSBcInBhdGhcIjtcclxuaW1wb3J0IHsgdHlwZSBGRm1wZWcgfSBmcm9tIFwiQGZmbXBlZy9mZm1wZWdcIjtcclxuaW1wb3J0IHsgdHlwZSBGRm1wZWdUcmFuc2NvZGVGaWxlIH0gZnJvbSBcInV0aWxzL2ZmbXBlZy90eXBlc1wiO1xyXG5pbXBvcnQgeyBmZXRjaEJsb2IgfSBmcm9tIFwidXRpbHMvZnVuY3Rpb25zXCI7XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0RkZtcGVnID0gYXN5bmMgKFxyXG4gIHByaW50TG46IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQgPSBjb25zb2xlLmluZm9cclxuKTogUHJvbWlzZTxGRm1wZWc+ID0+IHtcclxuICBjb25zdCB7IEZGbXBlZzogQ3JlYXRlRkZtcGVnIH0gPSBhd2FpdCBpbXBvcnQoXCJAZmZtcGVnL2ZmbXBlZ1wiKTtcclxuICBjb25zdCBmZm1wZWcgPSBuZXcgQ3JlYXRlRkZtcGVnKCk7XHJcblxyXG4gIGZmbXBlZy5vbihcImxvZ1wiLCAoeyBtZXNzYWdlIH0pID0+IHByaW50TG4obWVzc2FnZSkpO1xyXG5cclxuICBhd2FpdCBmZm1wZWcubG9hZCh7XHJcbiAgICBjb3JlVVJMOiBVUkwuY3JlYXRlT2JqZWN0VVJMKFxyXG4gICAgICBhd2FpdCBmZXRjaEJsb2IoXCIvU3lzdGVtL2ZmbXBlZy9mZm1wZWctY29yZS5qc1wiKVxyXG4gICAgKSxcclxuICAgIHdhc21VUkw6IFVSTC5jcmVhdGVPYmplY3RVUkwoXHJcbiAgICAgIGF3YWl0IGZldGNoQmxvYihcIi9TeXN0ZW0vZmZtcGVnL2ZmbXBlZy1jb3JlLndhc21cIilcclxuICAgICksXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBmZm1wZWc7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdHJhbnNjb2RlID0gYXN5bmMgKFxyXG4gIGZpbGVzOiBGRm1wZWdUcmFuc2NvZGVGaWxlW10sXHJcbiAgZXh0ZW5zaW9uOiBzdHJpbmcsXHJcbiAgcHJpbnRMbj86IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWRcclxuKTogUHJvbWlzZTxGRm1wZWdUcmFuc2NvZGVGaWxlW10+ID0+IHtcclxuICBjb25zdCBmZm1wZWcgPSBhd2FpdCBnZXRGRm1wZWcocHJpbnRMbik7XHJcbiAgY29uc3QgcmV0dXJuRmlsZXM6IEZGbXBlZ1RyYW5zY29kZUZpbGVbXSA9IFtdO1xyXG5cclxuICBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgIGZpbGVzLm1hcChhc3luYyAoW2ZpbGVOYW1lLCBmaWxlRGF0YV0pID0+IHtcclxuICAgICAgY29uc3QgYmFzZU5hbWUgPSBiYXNlbmFtZShmaWxlTmFtZSk7XHJcbiAgICAgIGNvbnN0IG5ld05hbWUgPSBgJHtiYXNlbmFtZShmaWxlTmFtZSwgZXh0bmFtZShmaWxlTmFtZSkpfS4ke2V4dGVuc2lvbn1gO1xyXG5cclxuICAgICAgYXdhaXQgZmZtcGVnLndyaXRlRmlsZShiYXNlTmFtZSwgZmlsZURhdGEpO1xyXG4gICAgICBhd2FpdCBmZm1wZWcuZXhlYyhbXCItaVwiLCBiYXNlTmFtZSwgbmV3TmFtZV0pO1xyXG5cclxuICAgICAgcmV0dXJuRmlsZXMucHVzaChbXHJcbiAgICAgICAgam9pbihkaXJuYW1lKGZpbGVOYW1lKSwgbmV3TmFtZSksXHJcbiAgICAgICAgQnVmZmVyLmZyb20oKGF3YWl0IGZmbXBlZy5yZWFkRmlsZShuZXdOYW1lKSkgYXMgVWludDhBcnJheSksXHJcbiAgICAgIF0pO1xyXG4gICAgfSlcclxuICApO1xyXG5cclxuICByZXR1cm4gcmV0dXJuRmlsZXM7XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJiYXNlbmFtZSIsImRpcm5hbWUiLCJleHRuYW1lIiwiam9pbiIsImZldGNoQmxvYiIsImdldEZGbXBlZyIsInByaW50TG4iLCJjb25zb2xlIiwiaW5mbyIsIkZGbXBlZyIsIkNyZWF0ZUZGbXBlZyIsImZmbXBlZyIsIm9uIiwibWVzc2FnZSIsImxvYWQiLCJjb3JlVVJMIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwid2FzbVVSTCIsInRyYW5zY29kZSIsImZpbGVzIiwiZXh0ZW5zaW9uIiwicmV0dXJuRmlsZXMiLCJQcm9taXNlIiwiYWxsIiwibWFwIiwiZmlsZU5hbWUiLCJmaWxlRGF0YSIsImJhc2VOYW1lIiwibmV3TmFtZSIsIndyaXRlRmlsZSIsImV4ZWMiLCJwdXNoIiwiQnVmZmVyIiwiZnJvbSIsInJlYWRGaWxlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./utils/ffmpeg/index.ts\n");

/***/ })

};
;